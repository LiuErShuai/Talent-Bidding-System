# é¡¹ç›®é‡Œç¨‹ç¢‘é¡µé¢ä¼˜åŒ–å¼€å‘æ–¹æ¡ˆ

## ğŸ“‹ éœ€æ±‚æ¦‚è¿°

æ ¹æ®ç”¨æˆ·åé¦ˆï¼Œéœ€è¦å¯¹é¡¹ç›®é‡Œç¨‹ç¢‘é¡µé¢è¿›è¡Œä»¥ä¸‹ä¼˜åŒ–ï¼š

1. **é‡Œç¨‹ç¢‘é˜¶æ®µå¯¹é½**ï¼šé‡Œç¨‹ç¢‘éœ€è¦å’Œé¡¹ç›®è¿›åº¦è®¡åˆ’ä¿æŒä¸€è‡´ï¼ˆæ­æ¦œå¾é›†-æ–¹æ¡ˆæäº¤-ä¸­æœŸç­”è¾©-æˆæœæäº¤-æˆæœè¯„å®¡-ç»“é¡¹å…¬ç¤º-ä»»åŠ¡å®Œæˆï¼‰ï¼Œå¹¶å»æ‰â€œé¡¹ç›®æ‰§è¡Œâ€èŠ‚ç‚¹
2. **å¡ç‰‡å†…å®¹ä¼˜åŒ–**ï¼šé‡Œç¨‹ç¢‘å¡ç‰‡æ˜¾ç¤ºç¼©ç•¥å†…å®¹ï¼Œæ·»åŠ "æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®ï¼Œç‚¹å‡»åå¼¹å‡ºå¼¹çª—æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
3. **å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡**ï¼šåœ¨é¡¹ç›®è¿›åº¦æ¡ä¸‹æ–¹æ–°å¢ä¸€å—å¡ç‰‡åŒºåŸŸç”¨äºæ˜¾ç¤ºå½“å‰é‡Œç¨‹ç¢‘çš„ç›¸å…³ä¿¡æ¯

---

## ğŸ¯ éœ€æ±‚åˆ†æ

### 1. é‡Œç¨‹ç¢‘é˜¶æ®µå¯¹é½

**ç°çŠ¶é—®é¢˜**ï¼š
- å½“å‰é‡Œç¨‹ç¢‘æ•°æ®åŒ…å«å¤šä¸ªå­é‡Œç¨‹ç¢‘ï¼ˆå¦‚ï¼šæ–¹æ¡ˆæäº¤ã€éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€æ ¸å¿ƒåŠŸèƒ½å¼€å‘ã€å‘¨æŠ¥/æœˆæŠ¥ã€ä¸­æœŸç­”è¾©ã€æˆæœæäº¤ï¼‰
- ä¸é¡¹ç›®è¿›åº¦è®¡åˆ’çš„7ä¸ªé˜¶æ®µä¸å®Œå…¨å¯¹åº”

**ç›®æ ‡**ï¼š
- é‡Œç¨‹ç¢‘åº”è¯¥å¯¹åº”é‡æ–°æ’å¸ƒåçš„7ä¸ªé˜¶æ®µï¼š
  1. **æ­æ¦œå¾é›†** (BIDDING)
  2. **æ–¹æ¡ˆæäº¤** (PROPOSAL)
  3. **ä¸­æœŸç­”è¾©** (MIDTERM)
  4. **æˆæœæäº¤** (DELIVERY)
  5. **æˆæœè¯„å®¡** (REVIEW)
  6. **ç»“é¡¹å…¬ç¤º** (ANNOUNCEMENT)
  7. **ä»»åŠ¡å®Œæˆ** (COMPLETION) â€”â€” æ ‡è¯†é¡¹ç›®æ­£å¼æ”¶å°¾

**è¯´æ˜**ï¼š
- åŸâ€œé¡¹ç›®æ‰§è¡Œâ€é˜¶æ®µè§†ä½œè´¯ç©¿å…¨è¿‡ç¨‹çš„â€œè¿‡ç¨‹åŸŸâ€ï¼Œä¸å†å•ç‹¬å ç”¨è¿›åº¦èŠ‚ç‚¹
- â€œé¡¹ç›®æ‰§è¡Œâ€é˜¶æ®µä¸­çš„å­é‡Œç¨‹ç¢‘ï¼ˆéœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡ã€æ ¸å¿ƒåŠŸèƒ½å¼€å‘ã€å‘¨æŠ¥/æœˆæŠ¥ç­‰ï¼‰æ‹†è§£ä¸ºâ€œè¿‡ç¨‹ä»»åŠ¡æ¸…å•â€ï¼Œå¹¶æŒ‚é åœ¨å¯¹åº”é˜¶æ®µï¼ˆå¦‚æ–¹æ¡ˆæäº¤ã€æˆæœæäº¤ç­‰ï¼‰çš„è¯¦æƒ…ä¸­ç»Ÿä¸€ç®¡ç†

### 2. å¡ç‰‡å†…å®¹ä¼˜åŒ–

**ç°çŠ¶é—®é¢˜**ï¼š
- é‡Œç¨‹ç¢‘å¡ç‰‡æ˜¾ç¤ºå®Œæ•´å†…å®¹ï¼ˆæè¿°ã€äº¤ä»˜ç‰©ã€æ•æ„Ÿä¿¡æ¯ç­‰ï¼‰ï¼Œä¿¡æ¯å†—ä½™
- ç”¨æˆ·éš¾ä»¥å¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„é‡Œç¨‹ç¢‘èŠ‚ç‚¹

**ç›®æ ‡**ï¼š
- é‡Œç¨‹ç¢‘å¡ç‰‡åªæ˜¾ç¤º**ç¼©ç•¥å†…å®¹**ï¼š
  - é‡Œç¨‹ç¢‘æ ‡é¢˜
  - çŠ¶æ€æ ‡ç­¾
  - è®¡åˆ’æ—¥æœŸ
  - ç®€è¦æè¿°ï¼ˆæœ€å¤š2è¡Œï¼Œè¶…å‡ºéƒ¨åˆ†çœç•¥ï¼‰
  - äº¤ä»˜ç‰©æ•°é‡ï¼ˆä¸æ˜¾ç¤ºå…·ä½“åˆ—è¡¨ï¼‰
- åœ¨å¡ç‰‡**å³ä¸Šæ–¹**æ·»åŠ "æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®
- ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"åï¼Œå¼¹å‡º**è¾ƒå¤§çš„å¼¹çª—**ï¼ˆå®½åº¦å»ºè®®900-1000pxï¼‰ï¼Œæ˜¾ç¤ºï¼š
  - å®Œæ•´æè¿°
  - è¯¦ç»†è¿›åº¦ä¿¡æ¯
  - äº¤ä»˜ç‰©åˆ—è¡¨
  - æ²Ÿé€šè®°å½•
  - å†…éƒ¨å¤‡æ³¨
  - å†…éƒ¨é™„ä»¶
  - æ“ä½œæŒ‰é’®ï¼ˆæ›´æ–°è¿›åº¦ã€æäº¤ç­‰ï¼‰

### 3. å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡

**ç›®æ ‡**ï¼š
- åœ¨é¡¹ç›®è¿›åº¦æ¡ï¼ˆ`PROJECT_STEPS_PROGRESS_SECTION`ï¼‰**ä¸‹æ–¹**æ–°å¢ä¸€å—å¡ç‰‡åŒºåŸŸ
- æ˜¾ç¤º**å½“å‰è¿›è¡Œä¸­çš„é‡Œç¨‹ç¢‘**ä¿¡æ¯ï¼š
  - é‡Œç¨‹ç¢‘æ ‡é¢˜
  - çŠ¶æ€
  - è®¡åˆ’å®Œæˆæ—¶é—´
  - å‰©ä½™æ—¶é—´/å·²å»¶è¿Ÿå¤©æ•°
  - ç®€è¦æè¿°
  - å¿«é€Ÿæ“ä½œæŒ‰é’®ï¼ˆæ›´æ–°è¿›åº¦ã€æŸ¥çœ‹è¯¦æƒ…ç­‰ï¼‰

**æ˜¾ç¤ºé€»è¾‘**ï¼š
- å¦‚æœå½“å‰æœ‰"è¿›è¡Œä¸­"çš„é‡Œç¨‹ç¢‘ï¼Œæ˜¾ç¤ºè¯¥é‡Œç¨‹ç¢‘ä¿¡æ¯
- å¦‚æœå½“å‰æ²¡æœ‰"è¿›è¡Œä¸­"çš„é‡Œç¨‹ç¢‘ï¼Œæ˜¾ç¤ºä¸‹ä¸€ä¸ª"å¾…å¼€å§‹"çš„é‡Œç¨‹ç¢‘ä¿¡æ¯
- å¦‚æœæ‰€æœ‰é‡Œç¨‹ç¢‘éƒ½å·²å®Œæˆï¼Œæ˜¾ç¤ºæœ€åä¸€ä¸ªå·²å®Œæˆçš„é‡Œç¨‹ç¢‘ä¿¡æ¯

---

## ğŸ“ æŠ€æœ¯æ–¹æ¡ˆ

### 1. æ•°æ®ç»“æ„è°ƒæ•´

#### 1.1 é‡Œç¨‹ç¢‘æ•°æ®ç»“æ„

```javascript
// é‡Œç¨‹ç¢‘æ•°æ®å¯¹åº”æ–°çš„é˜¶æ®µé¡ºåºï¼Œå¹¶ä½¿ç”¨ processChecklist æ‰¿è½½è¿‡ç¨‹ä»»åŠ¡
const milestones = ref([
  {
    id: 'milestone-bidding',
    code: 'BIDDING',
    title: 'æ­æ¦œå¾é›†',
    description: 'å­¦ç”ŸæŸ¥çœ‹å¹¶æäº¤æ­æ¦œç”³è¯·ï¼Œä¼ä¸š/å­¦æ ¡å®¡æ ¸',
    status: 'completed', // 'completed' | 'in-progress' | 'pending' | 'delayed'
    plannedDate: '2025-11-01',
    actualDate: '2025-11-03',
    deliverables: ['æ­æ¦œç”³è¯·', 'å®¡æ ¸ç»“æœ'],
    processChecklist: [
      { id: 'task-market-research', title: 'å¸‚åœºè°ƒç ”', status: 'completed' }
    ],
    progressDetail: { ... },
    communications: [ ... ],
    internalNotes: '...',
    sensitiveAttachments: [ ... ]
  },
  {
    id: 'milestone-proposal',
    code: 'PROPOSAL',
    title: 'æ–¹æ¡ˆæäº¤',
    description: 'æäº¤é¡¹ç›®å®æ–½æ–¹æ¡ˆï¼ŒåŒ…æ‹¬æŠ€æœ¯æ–¹æ¡ˆã€å®æ–½è®¡åˆ’ã€å›¢é˜Ÿåˆ†å·¥ç­‰',
    status: 'completed',
    deliverables: ['æ–¹æ¡ˆæ–‡æ¡£', 'è®¡åˆ’æ’æœŸ'],
    processChecklist: [
      { id: 'task-requirement', title: 'éœ€æ±‚æ¾„æ¸…ä¼š', status: 'completed' },
      { id: 'task-design', title: 'ç³»ç»Ÿè®¾è®¡ç¨¿', status: 'completed' }
    ]
  },
  {
    id: 'milestone-midterm',
    code: 'MIDTERM',
    title: 'ä¸­æœŸç­”è¾©',
    description: 'é¡¹ç›®ä¸­æœŸæ£€æŸ¥ï¼Œå±•ç¤ºé¡¹ç›®è¿›å±•å’Œé˜¶æ®µæ€§æˆæœ',
    status: 'in-progress',
    deliverables: ['ä¸­æœŸæ±‡æŠ¥PPT', 'é˜¶æ®µæˆæœåŒ…'],
    processChecklist: [
      { id: 'task-weekly-report', title: 'å‘¨æŠ¥/æœˆæŠ¥', status: 'in-progress' },
      { id: 'task-risk', title: 'é£é™©è¯„ä¼°', status: 'pending' }
    ]
  },
  {
    id: 'milestone-delivery',
    code: 'DELIVERY',
    title: 'æˆæœæäº¤',
    description: 'æäº¤æœ€ç»ˆé¡¹ç›®æˆæœï¼ŒåŒ…æ‹¬ä»£ç åŒ…ã€æ–‡æ¡£ã€æµ‹è¯•æŠ¥å‘Šç­‰',
    status: 'pending',
    // ...
  },
  {
    id: 'milestone-review',
    code: 'REVIEW',
    title: 'æˆæœè¯„å®¡',
    description: 'ä¼ä¸š+ä¸“å®¶è”åˆè¯„å®¡ï¼Œè¯„åˆ†å¹¶ç”Ÿæˆè¯„å®¡ç»“æœ',
    status: 'pending',
    // ...
  },
  {
    id: 'milestone-announcement',
    code: 'ANNOUNCEMENT',
    title: 'ç»“é¡¹å…¬ç¤º',
    description: 'ç»“æœå…¬ç¤ºã€åè®®ç­¾è®¢ã€æ”¯ä»˜',
    status: 'pending',
    // ...
  },
  {
    id: 'milestone-completion',
    code: 'COMPLETION',
    title: 'ä»»åŠ¡å®Œæˆ',
    description: 'å®ŒæˆéªŒæ”¶ç­¾ç½²ã€è´¹ç”¨ç»“ç®—ã€ç»éªŒå¤ç›˜ï¼Œæ ‡å¿—é¡¹ç›®é¡ºåˆ©ç»“æŸ',
    status: 'pending',
    processChecklist: [
      { id: 'task-acceptance', title: 'éªŒæ”¶ç¡®è®¤å•', status: 'pending' },
      { id: 'task-retrospective', title: 'é¡¹ç›®å¤ç›˜ä¼šè®®', status: 'pending' }
    ]
  }
])
```

#### 1.2 è®¡ç®—å½“å‰é‡Œç¨‹ç¢‘

```javascript
// è®¡ç®—å½“å‰é‡Œç¨‹ç¢‘ï¼ˆç”¨äºæ˜¾ç¤ºåœ¨è¿›åº¦æ¡ä¸‹æ–¹ï¼‰
const currentMilestone = computed(() => {
  // 1. ä¼˜å…ˆæŸ¥æ‰¾"è¿›è¡Œä¸­"çš„é‡Œç¨‹ç¢‘
  const inProgress = milestones.value.find(m => m.status === 'in-progress')
  if (inProgress) return inProgress
  
  // 2. å¦‚æœæ²¡æœ‰"è¿›è¡Œä¸­"çš„ï¼ŒæŸ¥æ‰¾ä¸‹ä¸€ä¸ª"å¾…å¼€å§‹"çš„é‡Œç¨‹ç¢‘
  const pending = milestones.value.find(m => m.status === 'pending')
  if (pending) return pending
  
  // 3. å¦‚æœéƒ½å·²å®Œæˆï¼Œè¿”å›æœ€åä¸€ä¸ªå·²å®Œæˆçš„é‡Œç¨‹ç¢‘
  const completed = [...milestones.value].reverse().find(m => m.status === 'completed')
  return completed || null
})
```

### 2. UIç»“æ„è°ƒæ•´

#### 2.1 å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡ï¼ˆæ–°å¢ï¼‰

**ä½ç½®**ï¼šåœ¨ `PROJECT_STEPS_PROGRESS_SECTION` ä¹‹åï¼Œ`tab-section` ä¹‹å‰

```vue
<!-- ========== å¼€å§‹ï¼šå½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡ (CURRENT_MILESTONE_CARD_SECTION) ========== -->
<div v-if="currentMilestone" class="current-milestone-card mt15">
  <div class="card-header">
    <div class="header-left">
      <h3 class="card-title">å½“å‰é‡Œç¨‹ç¢‘</h3>
      <el-tag 
        :type="getMilestoneTagType(currentMilestone.status)"
        size="small"
      >
        {{ getMilestoneStatusText(currentMilestone.status) }}
      </el-tag>
    </div>
    <el-button 
      type="primary" 
      size="small"
      @click="openMilestoneDetailDialog(currentMilestone)"
    >
      æŸ¥çœ‹è¯¦æƒ…
    </el-button>
  </div>
  
  <div class="card-content">
    <div class="milestone-info">
      <h4 class="milestone-name">{{ currentMilestone.title }}</h4>
      <p class="milestone-desc">{{ currentMilestone.description }}</p>
      
      <div class="milestone-meta">
        <span class="meta-item">
          <el-icon><Calendar /></el-icon>
          è®¡åˆ’å®Œæˆï¼š{{ currentMilestone.plannedDate }}
        </span>
        <span v-if="currentMilestone.actualDate" class="meta-item">
          å®é™…å®Œæˆï¼š{{ currentMilestone.actualDate }}
        </span>
        <span v-if="calculateRemainingDays(currentMilestone)" class="meta-item">
          {{ calculateRemainingDays(currentMilestone) }}
        </span>
      </div>
    </div>
    
    <!-- å¿«é€Ÿæ“ä½œæŒ‰é’® -->
    <div v-if="isProjectParticipant && canOperateMilestone(currentMilestone)" class="quick-actions">
      <el-button 
        v-if="isSimpleMilestone(currentMilestone)"
        type="primary" 
        size="default"
        @click="openMilestoneDialog(currentMilestone)"
      >
        <el-icon><Edit /></el-icon>
        æ›´æ–°è¿›åº¦
      </el-button>
      <el-button 
        v-else
        type="primary" 
        size="default"
        @click="goToMilestoneSubmit(currentMilestone)"
      >
        <el-icon><Upload /></el-icon>
        æäº¤{{ currentMilestone.title }}
      </el-button>
    </div>
  </div>
</div>
<!-- ========== ç»“æŸï¼šå½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡ (CURRENT_MILESTONE_CARD_SECTION) ========== -->
```

#### 2.2 é‡Œç¨‹ç¢‘åˆ—è¡¨å¡ç‰‡ï¼ˆä¼˜åŒ–ï¼‰

**ä¿®æ”¹ç‚¹**ï¼š
- å¡ç‰‡åªæ˜¾ç¤ºç¼©ç•¥å†…å®¹
- å³ä¸Šè§’æ·»åŠ "æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®
- ç§»é™¤è¯¦ç»†ä¿¡æ¯çš„ç›´æ¥å±•ç¤º

```vue
<!-- é‡Œç¨‹ç¢‘å†…å®¹å¡ç‰‡ï¼ˆç¼©ç•¥ç‰ˆï¼‰ -->
<div class="milestone-card">
  <div class="milestone-header">
    <div class="milestone-title-row">
      <h3 class="milestone-title">{{ milestone.title }}</h3>
      <div class="milestone-actions-header">
        <el-tag 
          :type="getMilestoneTagType(milestone.status)"
          size="small"
        >
          {{ getMilestoneStatusText(milestone.status) }}
        </el-tag>
        <el-button 
          type="primary" 
          size="small"
          text
          @click="openMilestoneDetailDialog(milestone)"
        >
          æŸ¥çœ‹è¯¦æƒ…
          <el-icon><ArrowRight /></el-icon>
        </el-button>
      </div>
    </div>
    <div class="milestone-meta">
      <span class="milestone-date">
        <el-icon><Calendar /></el-icon>
        {{ milestone.plannedDate }}
      </span>
      <span v-if="milestone.actualDate" class="milestone-actual-date">
        å®é™…å®Œæˆï¼š{{ milestone.actualDate }}
      </span>
      <span v-if="milestone.delayDays && milestone.delayDays > 0" class="milestone-delay">
        å»¶è¿Ÿ {{ milestone.delayDays }} å¤©
      </span>
    </div>
  </div>
  
  <!-- ç¼©ç•¥æè¿°ï¼ˆæœ€å¤š2è¡Œï¼‰ -->
  <div class="milestone-description-short">
    <p class="description-text">{{ truncateDescription(milestone.description, 100) }}</p>
  </div>
  
  <!-- äº¤ä»˜ç‰©æ•°é‡ï¼ˆä¸æ˜¾ç¤ºå…·ä½“åˆ—è¡¨ï¼‰ -->
  <div v-if="milestone.deliverables && milestone.deliverables.length > 0" class="milestone-deliverables-count">
    <el-icon><Document /></el-icon>
    <span>äº¤ä»˜ç‰©ï¼š{{ milestone.deliverables.length }} é¡¹</span>
  </div>
  
  <!-- è¿‡ç¨‹ä»»åŠ¡æ¸…å•æç¤º -->
  <div v-if="milestone.processChecklist && milestone.processChecklist.length > 0" class="sub-milestones-hint">
    <el-icon><Trophy /></el-icon>
    <span>åŒ…å« {{ milestone.processChecklist.length }} ä¸ªè¿‡ç¨‹ä»»åŠ¡</span>
  </div>
</div>
```

#### 2.3 é‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—ï¼ˆæ–°å¢ï¼‰

**å¼¹çª—è®¾è®¡**ï¼š
- å®½åº¦ï¼š900-1000px
- æ˜¾ç¤ºå®Œæ•´ä¿¡æ¯
- åŒ…å«æ“ä½œæŒ‰é’®

```vue
<!-- ========== å¼€å§‹ï¼šé‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª— (MILESTONE_DETAIL_DIALOG) ========== -->
<el-dialog
  v-model="milestoneDetailDialogVisible"
  :title="selectedMilestone ? selectedMilestone.title + ' - è¯¦æƒ…' : 'é‡Œç¨‹ç¢‘è¯¦æƒ…'"
  width="950px"
  :close-on-click-modal="false"
  destroy-on-close
>
  <div v-if="selectedMilestone" class="milestone-detail-content">
    <!-- åŸºæœ¬ä¿¡æ¯ -->
    <div class="detail-section">
      <div class="section-header">
        <h4>åŸºæœ¬ä¿¡æ¯</h4>
        <el-tag 
          :type="getMilestoneTagType(selectedMilestone.status)"
          size="small"
        >
          {{ getMilestoneStatusText(selectedMilestone.status) }}
        </el-tag>
      </div>
      <div class="section-content">
        <p class="description-full">{{ selectedMilestone.description }}</p>
        <div class="meta-info">
          <div class="meta-row">
            <span class="meta-label">è®¡åˆ’æ—¥æœŸï¼š</span>
            <span>{{ selectedMilestone.plannedDate }}</span>
          </div>
          <div v-if="selectedMilestone.actualDate" class="meta-row">
            <span class="meta-label">å®é™…å®Œæˆï¼š</span>
            <span>{{ selectedMilestone.actualDate }}</span>
          </div>
          <div v-if="selectedMilestone.delayDays && selectedMilestone.delayDays > 0" class="meta-row">
            <span class="meta-label">å»¶è¿Ÿå¤©æ•°ï¼š</span>
            <span class="text-danger">{{ selectedMilestone.delayDays }} å¤©</span>
          </div>
        </div>
      </div>
    </div>
    
    <!-- äº¤ä»˜ç‰©åˆ—è¡¨ -->
    <div v-if="selectedMilestone.deliverables && selectedMilestone.deliverables.length > 0" class="detail-section">
      <div class="section-header">
        <h4>äº¤ä»˜ç‰©</h4>
        <span class="count-badge">{{ selectedMilestone.deliverables.length }} é¡¹</span>
      </div>
      <div class="section-content">
        <ul class="deliverables-list-full">
          <li v-for="(deliverable, idx) in selectedMilestone.deliverables" :key="idx">
            <el-icon><Document /></el-icon>
            <span>{{ deliverable }}</span>
          </li>
        </ul>
      </div>
    </div>
    
    <!-- æ•æ„Ÿä¿¡æ¯åŒºåŸŸï¼šä»…é¡¹ç›®å‚ä¸è€…å¯è§ -->
    <div v-if="isProjectParticipant" class="detail-section sensitive-section">
      <el-divider>
        <el-icon><Lock /></el-icon>
        <span>é¡¹ç›®å‚ä¸è€…ä¿¡æ¯</span>
      </el-divider>
      
      <!-- è¯¦ç»†è¿›åº¦ä¿¡æ¯ -->
      <div v-if="selectedMilestone.progressDetail" class="section-content">
        <div class="section-header">
          <h4>è¯¦ç»†è¿›åº¦</h4>
        </div>
        <div class="progress-detail-full">
          <el-progress 
            :percentage="selectedMilestone.progressDetail.percentage" 
            :status="selectedMilestone.progressDetail.status"
            :stroke-width="10"
          />
          <p class="progress-note">{{ selectedMilestone.progressDetail.note }}</p>
        </div>
      </div>
      
      <!-- å†…éƒ¨æ²Ÿé€šè®°å½• -->
      <div v-if="selectedMilestone.communications && selectedMilestone.communications.length > 0" class="section-content">
        <div class="section-header">
          <h4>æ²Ÿé€šè®°å½•</h4>
          <span class="count-badge">{{ selectedMilestone.communications.length }} æ¡</span>
        </div>
        <div class="communications-list-full">
          <div 
            v-for="(comm, idx) in selectedMilestone.communications" 
            :key="idx"
            class="communication-item-full"
          >
            <div class="comm-header">
              <span class="comm-author">{{ comm.author }}</span>
              <span class="comm-time">{{ comm.time }}</span>
            </div>
            <p class="comm-content">{{ comm.content }}</p>
          </div>
        </div>
      </div>
      
      <!-- å†…éƒ¨å¤‡æ³¨ -->
      <div v-if="selectedMilestone.internalNotes" class="section-content">
        <div class="section-header">
          <h4>å†…éƒ¨å¤‡æ³¨</h4>
        </div>
        <div class="internal-notes-full">
          <p>{{ selectedMilestone.internalNotes }}</p>
        </div>
      </div>
      
      <!-- å†…éƒ¨é™„ä»¶ -->
      <div v-if="selectedMilestone.sensitiveAttachments && selectedMilestone.sensitiveAttachments.length > 0" class="section-content">
        <div class="section-header">
          <h4>å†…éƒ¨é™„ä»¶</h4>
          <span class="count-badge">{{ selectedMilestone.sensitiveAttachments.length }} ä¸ª</span>
        </div>
        <div class="attachments-list-full">
          <div 
            v-for="(attachment, idx) in selectedMilestone.sensitiveAttachments" 
            :key="idx"
            class="attachment-item-full"
          >
            <el-icon><Document /></el-icon>
            <span>{{ attachment.name }} ({{ attachment.size }})</span>
            <el-link type="primary" :underline="false">[ä¸‹è½½]</el-link>
          </div>
        </div>
      </div>
    </div>
    
    <!-- éå‚ä¸è€…æç¤º -->
    <div v-else class="detail-section">
      <el-alert
        type="info"
        :closable="false"
        show-icon
      >
        <template #title>
          <span>æ­¤é‡Œç¨‹ç¢‘åŒ…å«é¡¹ç›®å‚ä¸è€…ä¸“å±ä¿¡æ¯ï¼Œä»…é¡¹ç›®å‘å¸ƒæ–¹å’Œæ‰¿æ¥æ–¹å¯æŸ¥çœ‹</span>
        </template>
      </el-alert>
    </div>
    
    <!-- è¿‡ç¨‹ä»»åŠ¡æ¸…å• -->
    <div v-if="selectedMilestone.processChecklist && selectedMilestone.processChecklist.length > 0" class="detail-section">
      <div class="section-header">
        <h4>è¿‡ç¨‹ä»»åŠ¡</h4>
        <span class="count-badge">{{ selectedMilestone.processChecklist.length }} ä¸ª</span>
      </div>
      <div class="section-content">
        <div class="sub-milestones-list">
          <div 
            v-for="(task, idx) in selectedMilestone.processChecklist" 
            :key="task.id"
            class="sub-milestone-item"
          >
            <div class="sub-milestone-header">
              <span class="sub-milestone-title">{{ task.title }}</span>
              <el-tag 
                :type="getMilestoneTagType(task.status)"
                size="small"
              >
                {{ getMilestoneStatusText(task.status) }}
              </el-tag>
            </div>
            <p class="sub-milestone-desc">{{ task.description || 'æš‚æ— æè¿°' }}</p>
            <div class="sub-milestone-meta">
              <span v-if="task.plannedDate">è®¡åˆ’æ—¥æœŸï¼š{{ task.plannedDate }}</span>
              <span v-if="task.actualDate">å®é™…å®Œæˆï¼š{{ task.actualDate }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <template #footer>
    <div class="dialog-footer">
      <el-button @click="milestoneDetailDialogVisible = false">å…³é—­</el-button>
      <el-button 
        v-if="isProjectParticipant && canOperateMilestone(selectedMilestone)"
        type="primary"
        @click="handleMilestoneAction(selectedMilestone)"
      >
        <el-icon><Edit /></el-icon>
        {{ isSimpleMilestone(selectedMilestone) ? 'æ›´æ–°è¿›åº¦' : 'æäº¤' + selectedMilestone.title }}
      </el-button>
    </div>
  </template>
</el-dialog>
<!-- ========== ç»“æŸï¼šé‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª— (MILESTONE_DETAIL_DIALOG) ========== -->
```

### 3. åŠŸèƒ½å‡½æ•°

#### 3.1 å·¥å…·å‡½æ•°

```javascript
// æˆªæ–­æè¿°æ–‡æœ¬
const truncateDescription = (text, maxLength = 100) => {
  if (!text) return ''
  if (text.length <= maxLength) return text
  return text.substring(0, maxLength) + '...'
}

// è®¡ç®—å‰©ä½™å¤©æ•°
const calculateRemainingDays = (milestone) => {
  if (!milestone.plannedDate) return null
  if (milestone.status === 'completed') return null
  
  const now = new Date()
  const planned = new Date(milestone.plannedDate)
  const diff = Math.ceil((planned - now) / (1000 * 60 * 60 * 24))
  
  if (diff > 0) {
    return `å‰©ä½™ ${diff} å¤©`
  } else if (diff === 0) {
    return 'ä»Šå¤©æˆªæ­¢'
  } else {
    return `å·²é€¾æœŸ ${Math.abs(diff)} å¤©`
  }
}

// æ‰“å¼€é‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—
const milestoneDetailDialogVisible = ref(false)
const selectedMilestone = ref(null)

const openMilestoneDetailDialog = (milestone) => {
  selectedMilestone.value = milestone
  milestoneDetailDialogVisible.value = true
}

// å¤„ç†é‡Œç¨‹ç¢‘æ“ä½œ
const handleMilestoneAction = (milestone) => {
  if (isSimpleMilestone(milestone)) {
    // å…³é—­è¯¦æƒ…å¼¹çª—ï¼Œæ‰“å¼€æ“ä½œå¼¹çª—
    milestoneDetailDialogVisible.value = false
    openMilestoneDialog(milestone)
  } else {
    // è·³è½¬åˆ°æäº¤é¡µé¢
    goToMilestoneSubmit(milestone)
  }
}
```

### 4. æ ·å¼è®¾è®¡

#### 4.1 å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡æ ·å¼

```css
/* ========== å¼€å§‹ï¼šå½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡æ ·å¼ (CURRENT_MILESTONE_CARD_STYLES) ========== */
.current-milestone-card {
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  margin-bottom: 20px;
}

.current-milestone-card .card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  padding-bottom: 16px;
  border-bottom: 1px solid #f0f0f0;
}

.current-milestone-card .header-left {
  display: flex;
  align-items: center;
  gap: 12px;
}

.current-milestone-card .card-title {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: #1f274b;
}

.current-milestone-card .card-content {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 20px;
}

.current-milestone-card .milestone-info {
  flex: 1;
}

.current-milestone-card .milestone-name {
  margin: 0 0 8px 0;
  font-size: 16px;
  font-weight: 600;
  color: #1f274b;
}

.current-milestone-card .milestone-desc {
  margin: 0 0 12px 0;
  color: #666;
  font-size: 14px;
  line-height: 1.6;
}

.current-milestone-card .milestone-meta {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.current-milestone-card .meta-item {
  display: flex;
  align-items: center;
  gap: 4px;
  color: #666;
  font-size: 13px;
}

.current-milestone-card .quick-actions {
  flex-shrink: 0;
}
/* ========== ç»“æŸï¼šå½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡æ ·å¼ (CURRENT_MILESTONE_CARD_STYLES) ========== */
```

#### 4.2 é‡Œç¨‹ç¢‘å¡ç‰‡ç¼©ç•¥ç‰ˆæ ·å¼

```css
/* é‡Œç¨‹ç¢‘å¡ç‰‡ä¼˜åŒ– */
.milestone-card {
  position: relative;
  /* å…¶ä»–æ ·å¼ä¿æŒä¸å˜ */
}

.milestone-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.milestone-title-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.milestone-actions-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

.milestone-description-short {
  margin: 12px 0;
}

.milestone-description-short .description-text {
  margin: 0;
  color: #666;
  font-size: 14px;
  line-height: 1.6;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.milestone-deliverables-count {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #666;
  font-size: 13px;
  margin-top: 8px;
}

.sub-milestones-hint {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #409eff;
  font-size: 13px;
  margin-top: 8px;
}
```

#### 4.3 é‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—æ ·å¼

```css
/* ========== å¼€å§‹ï¼šé‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—æ ·å¼ (MILESTONE_DETAIL_DIALOG_STYLES) ========== */
.milestone-detail-content {
  max-height: 70vh;
  overflow-y: auto;
}

.milestone-detail-content .detail-section {
  margin-bottom: 24px;
  padding-bottom: 24px;
  border-bottom: 1px solid #f0f0f0;
}

.milestone-detail-content .detail-section:last-child {
  border-bottom: none;
  margin-bottom: 0;
  padding-bottom: 0;
}

.milestone-detail-content .section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}

.milestone-detail-content .section-header h4 {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #1f274b;
}

.milestone-detail-content .count-badge {
  background: #f0f0f0;
  color: #666;
  padding: 2px 8px;
  border-radius: 12px;
  font-size: 12px;
}

.milestone-detail-content .description-full {
  color: #666;
  font-size: 14px;
  line-height: 1.8;
  margin: 0;
}

.milestone-detail-content .meta-info {
  margin-top: 12px;
}

.milestone-detail-content .meta-row {
  display: flex;
  gap: 8px;
  margin-bottom: 8px;
  font-size: 14px;
}

.milestone-detail-content .meta-label {
  color: #999;
  min-width: 100px;
}

.milestone-detail-content .deliverables-list-full {
  list-style: none;
  padding: 0;
  margin: 0;
}

.milestone-detail-content .deliverables-list-full li {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 0;
  border-bottom: 1px solid #f5f5f5;
}

.milestone-detail-content .deliverables-list-full li:last-child {
  border-bottom: none;
}

.milestone-detail-content .communications-list-full {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.milestone-detail-content .communication-item-full {
  background: #f9f9f9;
  padding: 12px;
  border-radius: 6px;
}

.milestone-detail-content .comm-header {
  display: flex;
  justify-content: space-between;
  margin-bottom: 8px;
}

.milestone-detail-content .comm-author {
  font-weight: 600;
  color: #1f274b;
}

.milestone-detail-content .comm-time {
  color: #999;
  font-size: 12px;
}

.milestone-detail-content .comm-content {
  margin: 0;
  color: #666;
  font-size: 14px;
  line-height: 1.6;
}

.milestone-detail-content .internal-notes-full {
  background: #f9f9f9;
  padding: 12px;
  border-radius: 6px;
}

.milestone-detail-content .internal-notes-full p {
  margin: 0;
  color: #666;
  font-size: 14px;
  line-height: 1.8;
}

.milestone-detail-content .attachments-list-full {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.milestone-detail-content .attachment-item-full {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px;
  background: #f9f9f9;
  border-radius: 6px;
}

.milestone-detail-content .sub-milestones-list {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.milestone-detail-content .sub-milestone-item {
  padding: 12px;
  background: #f9f9f9;
  border-radius: 6px;
  border-left: 3px solid #409eff;
}

.milestone-detail-content .sub-milestone-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.milestone-detail-content .sub-milestone-title {
  font-weight: 600;
  color: #1f274b;
}

.milestone-detail-content .sub-milestone-desc {
  margin: 0 0 8px 0;
  color: #666;
  font-size: 13px;
}

.milestone-detail-content .sub-milestone-meta {
  display: flex;
  gap: 16px;
  font-size: 12px;
  color: #999;
}
/* ========== ç»“æŸï¼šé‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—æ ·å¼ (MILESTONE_DETAIL_DIALOG_STYLES) ========== */
```

---

## ğŸ”§ å®æ–½æ­¥éª¤

### æ­¥éª¤1ï¼šè°ƒæ•´é‡Œç¨‹ç¢‘æ•°æ®ç»“æ„

1. ä¿®æ”¹ `milestones` æ•°æ®ï¼Œä½¿å…¶å¯¹åº”æ–°ç‰ˆ7ä¸ªé˜¶æ®µå¹¶å»é™¤ `EXECUTION`
2. å°†åŸé¡¹ç›®æ‰§è¡Œé˜¶æ®µçš„å­é‡Œç¨‹ç¢‘æ‹†åˆ†ä¸º `processChecklist`ï¼Œé™„ç€åœ¨å…·ä½“é˜¶æ®µ
3. æ›´æ–°é‡Œç¨‹ç¢‘çš„ `code` å­—æ®µï¼Œä¸è¿›åº¦æ¡ä¿æŒä¸€è‡´å¹¶æ–°å¢ `COMPLETION`

### æ­¥éª¤2ï¼šæ·»åŠ å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡

1. åœ¨ `PROJECT_STEPS_PROGRESS_SECTION` ä¹‹åæ·»åŠ  `CURRENT_MILESTONE_CARD_SECTION`
2. å®ç° `currentMilestone` è®¡ç®—å±æ€§
3. å®ç° `calculateRemainingDays` å‡½æ•°
4. æ·»åŠ æ ·å¼

### æ­¥éª¤3ï¼šä¼˜åŒ–é‡Œç¨‹ç¢‘åˆ—è¡¨å¡ç‰‡

1. ä¿®æ”¹é‡Œç¨‹ç¢‘å¡ç‰‡æ¨¡æ¿ï¼Œåªæ˜¾ç¤ºç¼©ç•¥å†…å®¹
2. æ·»åŠ "æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®ï¼ˆå³ä¸Šè§’ï¼‰
3. å®ç° `truncateDescription` å‡½æ•°
4. æ›´æ–°æ ·å¼ï¼Œä½¿å¡ç‰‡æ›´ç®€æ´

### æ­¥éª¤4ï¼šå®ç°é‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—

1. æ·»åŠ  `MILESTONE_DETAIL_DIALOG` å¼¹çª—ç»„ä»¶
2. å®ç° `openMilestoneDetailDialog` å‡½æ•°
3. å®ç° `handleMilestoneAction` å‡½æ•°
4. æ·»åŠ å¼¹çª—æ ·å¼

### æ­¥éª¤5ï¼šæµ‹è¯•å’Œä¼˜åŒ–

1. æµ‹è¯•å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡çš„æ˜¾ç¤ºé€»è¾‘
2. æµ‹è¯•é‡Œç¨‹ç¢‘åˆ—è¡¨çš„ç¼©ç•¥æ˜¾ç¤º
3. æµ‹è¯•è¯¦æƒ…å¼¹çª—çš„å®Œæ•´ä¿¡æ¯å±•ç¤º
4. æµ‹è¯•æƒé™æ§åˆ¶ï¼ˆæ•æ„Ÿä¿¡æ¯çš„æ˜¾ç¤º/éšè—ï¼‰
5. æµ‹è¯•å“åº”å¼å¸ƒå±€

---

## âœ… å†³ç­–è½å®æƒ…å†µ

1. **é˜¶æ®µç»“æ„ç¡®å®š**ï¼šç§»é™¤â€œé¡¹ç›®æ‰§è¡Œâ€èŠ‚ç‚¹ï¼Œæ–°å¢â€œä»»åŠ¡å®Œæˆâ€èŠ‚ç‚¹ï¼Œæ‰€æœ‰è¿›åº¦æ¡ä¸æ•°æ®ç»“æ„ç»Ÿä¸€é‡‡ç”¨ä¸ƒé˜¶æ®µé¡ºåºï¼ˆæ­æ¦œå¾é›† â†’ æ–¹æ¡ˆæäº¤ â†’ ä¸­æœŸç­”è¾© â†’ æˆæœæäº¤ â†’ æˆæœè¯„å®¡ â†’ ç»“é¡¹å…¬ç¤º â†’ ä»»åŠ¡å®Œæˆï¼‰ã€‚
2. **è¿‡ç¨‹ä»»åŠ¡ç®¡ç†**ï¼šåŸé¡¹ç›®æ‰§è¡Œé˜¶æ®µçš„å­é‡Œç¨‹ç¢‘è°ƒæ•´ä¸º `processChecklist`ï¼Œä¾é™„äºå…·ä½“é˜¶æ®µï¼Œåœ¨è¯¦æƒ…å¼¹çª—å†…é›†ä¸­å±•ç¤ºå¹¶æ”¯æŒæ“ä½œã€‚
3. **å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡**ï¼šé‡‡ç”¨â€œè¿›è¡Œä¸­ â†’ å¾…å¼€å§‹ â†’ æœ€è¿‘å®Œæˆâ€ä¼˜å…ˆçº§ï¼Œç¡®ä¿å§‹ç»ˆæœ‰ç„¦ç‚¹ä¿¡æ¯ã€‚
4. **æ“ä½œæƒé™ç­–ç•¥**ï¼šè¯¦æƒ…å¼¹çª—ä»…åœ¨ç”¨æˆ·å…·å¤‡æ“ä½œæƒé™æ—¶å±•ç¤ºæ“ä½œæŒ‰é’®ï¼›æŒ‰é’®ç±»å‹ä»ä¾æ®â€œç®€å•é‡Œç¨‹ç¢‘/å¤æ‚é‡Œç¨‹ç¢‘â€åˆ†æµã€‚

---

## ğŸ“ å®æ–½æ£€æŸ¥æ¸…å•

- [ ] è°ƒæ•´é‡Œç¨‹ç¢‘æ•°æ®ç»“æ„ï¼Œå¯¹åº”7ä¸ªé˜¶æ®µ
- [ ] å®ç°å½“å‰é‡Œç¨‹ç¢‘è®¡ç®—é€»è¾‘
- [ ] æ·»åŠ å½“å‰é‡Œç¨‹ç¢‘å¡ç‰‡UI
- [ ] ä¼˜åŒ–é‡Œç¨‹ç¢‘åˆ—è¡¨å¡ç‰‡ï¼ˆç¼©ç•¥æ˜¾ç¤ºï¼‰
- [ ] æ·»åŠ "æŸ¥çœ‹è¯¦æƒ…"æŒ‰é’®
- [ ] å®ç°é‡Œç¨‹ç¢‘è¯¦æƒ…å¼¹çª—
- [ ] å®ç°æè¿°æ–‡æœ¬æˆªæ–­å‡½æ•°
- [ ] å®ç°å‰©ä½™å¤©æ•°è®¡ç®—å‡½æ•°
- [ ] æ·»åŠ æ‰€æœ‰ç›¸å…³æ ·å¼
- [ ] æµ‹è¯•æƒé™æ§åˆ¶
- [ ] æµ‹è¯•å“åº”å¼å¸ƒå±€
- [ ] æ›´æ–°ç›¸å…³æ–‡æ¡£

---

## ğŸ‰ é¢„æœŸæ•ˆæœ

1. **é‡Œç¨‹ç¢‘åˆ—è¡¨æ›´ç®€æ´**ï¼šå¡ç‰‡åªæ˜¾ç¤ºå…³é”®ä¿¡æ¯ï¼Œç”¨æˆ·å¯ä»¥å¿«é€Ÿæµè§ˆ
2. **ä¿¡æ¯è·å–æ›´ä¾¿æ·**ï¼šç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"å³å¯æŸ¥çœ‹å®Œæ•´ä¿¡æ¯
3. **å½“å‰é‡Œç¨‹ç¢‘çªå‡º**ï¼šåœ¨è¿›åº¦æ¡ä¸‹æ–¹æ˜¾ç¤ºï¼Œä¾¿äºå¿«é€ŸæŸ¥çœ‹å’Œå¤„ç†
4. **ç»“æ„æ›´æ¸…æ™°**ï¼šé‡Œç¨‹ç¢‘ä¸é¡¹ç›®è¿›åº¦è®¡åˆ’ä¿æŒä¸€è‡´ï¼Œé€»è¾‘æ›´æ¸…æ™°

---

**æ–‡æ¡£ç»“æŸ**

