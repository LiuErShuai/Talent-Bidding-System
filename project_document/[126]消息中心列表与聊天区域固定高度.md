# [126]消息中心列表与聊天区域固定高度

> 背景与目标：消息中心页面希望在常见屏幕高度下无需滚动整页即可完整展示核心结构；当消息列表或聊天内容过多时，仅在消息列表区域（`list-area`）与聊天内容区域（`chat-scroller`）内独立滚动，避免“整页滚动导致顶部导航离开视野”的体验问题。

## 目录
- 1. 需求与验收标准
- 2. 方案对比
- 3. Todolist（详细计划）
- 4. 执行记录（时间戳）
- 5. 审查与结论

## 1. 需求与验收标准
- 页面本身不出现纵向滚动条（主要内容在一个视口内完成布局）。
- `list-area` 与 `chat-scroller` 高度固定为“剩余可用空间”，内容过多时各自区域内部滚动。
- 不破坏桌面端双栏与移动端抽屉聊天的既有交互。

## 2. 方案对比
- 方案 A：使用 `height: 100vh` + `flex` 布局，将头部固定为 `flex:none`，主体 `flex:1` 并 `min-height:0`，在内部容器开启滚动（推荐）
  - 优点：自适应不同屏幕高度；不依赖硬编码高度；滚动职责清晰。
  - 风险：若后续页面外层再包裹滚动容器，需要避免双重滚动。
- 方案 B：对 `list-area`、`chat-scroller` 写死像素高度
  - 缺点：不同屏幕高度下容易溢出或留白，维护成本高。

## 3. Todolist（详细计划）
1. [x] 研究：定位导致“整页滚动”的容器与高度计算点（`min-height: calc(100vh - ...)`、外层 padding 等）
2. [x] 调查：确认 `list-area`、`chat-scroller` 已具备内部 `overflow-y:auto`，只需保证父容器高度固定且 `min-height:0`
3. [x] 计划：采用方案 A（全屏 flex 固定 + 内部滚动），最小化改动并保持现有样式风格
4. [x] 执行：改造 `src/views/message/MessageCenter/index.vue` 的布局为 `height:100vh` + `flex`，移除面板 `min-height` 硬编码
5. [ ] 审查：更新 `[000]功能模块文档.md`，并创建 Git 提交记录

## 4. 执行记录（时间戳）
- 2025-12-18 15:32：已将消息中心页面容器改为 `height:100vh` 并 `overflow:hidden`；主体区域使用 `flex:1` + `min-height:0` 固定为剩余空间；左右面板改为 `height:100%`、移除 `min-height: calc(100vh - 130px)`，使 `list-area` 与 `chat-scroller` 仅在自身内部滚动。

## 5. 审查与结论
- 待完成后补充：人工验证要点与回归检查清单。

