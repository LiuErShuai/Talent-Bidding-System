<!--
时间戳：2025-12-18 14:30:00
文档编号：123（阶段性文档）
-->

# [123] 消息中心与消息详情页重构

## 背景与目标
你已将 `src/views/message/` 目录重构为 `MessageCenter`（消息中心）与 `MessageDetail`（消息详情）两部分。目标是实现类似 QQ/微信 的消息体验：消息中心展示会话/通知列表（聊天、@我、评论等），点击条目进入对应详情页（聊天对话或通知详情），并保证路由与导航入口一致。

**目标：**
1. 路由从旧的 `@/views/message/index.vue` 切换到 `@/views/message/MessageCenter/index.vue`，并新增详情路由。
2. 消息中心：支持按“聊天 / @我 / 评论”分类浏览，列表项包含头像、标题、摘要、时间、未读数等。
3. 消息详情：聊天类型展示气泡对话 + 输入框；@与评论类型展示通知详情并提供跳转入口（如项目详情）。
4. 保持移动端与桌面端基础可用（自适应布局）。

## 目录
1. 范围与验收标准
2. 实施方案
3. 详细 todolist（时间戳）
4. 记录（等效 memory）

## 1. 范围与验收标准
**范围：**
- `src/views/message/MessageCenter/index.vue`
- `src/views/message/MessageDetail/index.vue`
- `src/router/modules/common.js`（消息路由）

**验收标准：**
- 访问 `/messages` 能看到消息中心列表。
- 点击任一消息条目能跳转到 `/messages/:type/:id` 并正常展示详情内容。
- 聊天详情页支持发送消息（前端模拟追加到列表并自动滚动到底部）。
- @我/评论详情页展示通知内容，并提供“跳转到相关内容”的按钮（前端模拟）。

## 2. 实施方案
- 消息中心采用“顶部分类 + 列表”的微信式结构：分类切换仅影响列表数据源，不改变路由。
- 消息详情根据 `route.params.type` 渲染不同内容模块（chat/mention/comment）。
- 当前阶段使用前端模拟数据，后续可替换为 API 获取与 WebSocket 实时消息。

## 3. 详细 todolist（时间戳）
1.（2025-12-18 14:30:00）调研现有消息目录与路由引用点，修复路由指向。
   - ✅ 完成时间：2025-12-18 14:32:36
2.（2025-12-18 14:30:00）实现消息中心页面：分类切换 + 列表 UI（头像、摘要、时间、未读）。
   - ✅ 完成时间：2025-12-18 14:32:36
3.（2025-12-18 14:30:00）实现消息详情页面：聊天气泡 + 输入框；通知详情 + 跳转。
   - ✅ 完成时间：2025-12-18 14:32:36
4.（完成后补充）更新 `project_document/[000]功能模块文档.md` 同步模块变化。
5.（完成后补充）创建 Git 提交记录。

## 4. 记录（等效 memory）
- 2025-12-18 14:30:00：用户要求按 QQ/微信风格实现消息中心与消息详情页；当前阶段允许使用模拟数据完成交互闭环，后续再接真实接口。
- 2025-12-18 14:32:36：已完成路由切换与页面实现，并通过 `npm run build` 构建校验。
