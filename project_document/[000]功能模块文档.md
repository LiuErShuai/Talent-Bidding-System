# [000] 功能模块文档

## 背景与目标
本文件用于跟踪揭榜挂帅前端项目的功能模块形态、实现状态与最近一次的关键调整，便于多角色协作对齐。内容需在每次工作流结束时同步。

## 目录
1. 背景与目标  
2. 模块概览  
3. 最新更新记录  
4. 待办与风险

## 模块概览
| 模块 | 功能简介 | 当前状态 | 最近更新时间 |
| --- | --- | --- | --- |
| 项目大厅 | 榜单浏览、筛选与揭榜入口 | 已上线 | 2025-10-10 |
| 项目详情 | 项目信息、团队方案、报名指引、里程碑跟踪卡片 | 持续优化 | 2025-11-27 |
| 项目跟踪 | 七阶段里程碑管理、交付物、风险提示 | 重构中（当前任务） | 2025-11-26 |
| 学生中心 | 我的项目、成长档案、方案提交 | 已上线 | 2025-09-28 |
| 企业控制台 | 项目发布、评审、签约 | 已上线 | 2025-09-15 |
| 企业个人中心 | 企业资料、资质、项目统计、对接信息 | 新增 | 2025-12-12 |
| 消息中心 | 多角色消息聚合与提醒 | 开发中 | 2025-11-01 |

## 最新更新记录
- 2025-12-18：消息详情页布局优化：主体区域增加左右留白，使内容更靠近中间显示（类似常见社交软件的对话区域宽度），涉及 `src/views/message/MessageDetail/index.vue`。
- 2025-12-18：消息未读红点联动：用户进入消息详情即写入已读状态（localStorage），消息中心返回后未读角标清零，涉及 `src/views/message/MessageCenter/index.vue`、`src/views/message/MessageDetail/index.vue`。
- 2025-12-18：消息中心页头部布局微调：移除页面标题文案，将搜索框移至左侧以贴近常见社交软件交互，涉及 `src/views/message/MessageCenter/index.vue`。
- 2025-12-18：消息模块重构：新增消息中心与消息详情页（QQ/微信式列表与会话/通知详情），路由调整为 `/messages` 与 `/messages/:type/:id`，涉及 `src/views/message/MessageCenter/index.vue`、`src/views/message/MessageDetail/index.vue`、`src/router/modules/common.js`，方案见 `project_document/[123]消息中心与消息详情页重构.md`。
- 2025-12-18：项目大厅页面美化：项目领域新增并提供“更多”入口；项目卡片对齐首页任务列表风格（状态标签/详情按钮/hover），涉及 `src/views/project/Hall/index.vue`，计划与实施记录见 `project_document/[122]项目大厅筛选与列表美化.md`。
- 2025-12-18：补充 `src/views` 页面地图说明文档 `project_document/[301]src_views页面目录逐项说明.md`，用于快速理解各业务目录页面职责与依赖关系。
- 2025-12-18：删除独立登录/注册页面与认证路由模块，登录注册统一通过首页弹窗（`AuthDialog`）触发；启用全局路由守卫并将根路径 `/` 重定向到 `/home`，涉及 `src/router/index.js`、`src/router/guards.js`、`src/router/modules/common.js`、`src/main.js`、`src/composables/useAuth.js` 等。
- 2025-12-11：将原按角色分散的导航项收纳到头像下拉菜单 quickActions 中（学生/企业/教师/管理员分支），保留统一导航三项，涉及 `src/components/layout/AppHeader/index.vue`。
- 2025-12-11：导航布局微调，品牌区左贴边距（数十 px），导航组左移至约页面三分之一位置，保持整体宽度不变，涉及 `src/components/layout/AppHeader/index.vue`。
- 2025-12-11：导航栏统一为“首页/项目大厅/我的项目”，头像右侧新增“个人中心”“消息”文本链接并加入登录守卫，涉及 `src/components/layout/AppHeader/index.vue`。
- 2025-12-11：导航栏品牌区替换桂电透明背景 Logo，文案更新为“创客平台”，并优化展示样式以保证 Logo 完整显示，涉及 `src/components/layout/AppHeader/index.vue`。
- 2025-11-27：项目详情页新增当前/下一个里程碑卡片，复用 milestone 数据与风险标签，补充剩余/逾期计算、快速入口与样式，确保与方案卡片保持一致。
- 2025-11-27：全局导航栏移除“创客空间”入口，学生导航在“项目大厅”与“成长中心”之间新增“我的项目”，集中调整 `src/utils/navConfig.js`。
- 2025-11-26：完成项目跟踪页的七阶段看板重构，新增当前里程碑高亮卡片、里程碑缩略卡片、详情抽屉及风险/交付物统计，支持后续与真实 API 对接。
- 2025-12-12：个人中心按角色隔离，学生保留 `/user`，新增企业个人中心 `/enterprise/profile`（沿用左侧导航+右侧内容布局，导航项与内容按企业信息定制），导航与头像快捷入口按角色跳转，守卫企业兜底重定向，新增 `src/views/enterprise/Profile/index.vue` 并更新路由配置。

## 待办与风险
- 与后端对齐里程碑真实数据格式，确保 `processChecklist`、交付物、风险等级字段一致。
- 规划消息中心与跟踪页联动（逾期、风险提醒推送）。
- 校验项目详情页新增卡片所需字段（计划完成时间、风险等级）在后端数据中可用以避免信息缺失。


