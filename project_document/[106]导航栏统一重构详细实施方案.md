# å¯¼èˆªæ ç»Ÿä¸€é‡æ„è¯¦ç»†å®æ–½æ–¹æ¡ˆ

**æ–‡æ¡£ç¼–å·**ï¼š106
**åˆ›å»ºæ—¶é—´**ï¼š2025-11-25
**ä¿®è®¢ç‰ˆæœ¬**ï¼šv1.0
**è´Ÿè´£äºº**ï¼šå¼€å‘å›¢é˜Ÿ
**é¢„è®¡å·¥ä½œé‡**ï¼š6-10.5 å°æ—¶

---

## ğŸ“‹ ç›®å½•

- [ä¸€ã€é—®é¢˜åˆ†æ](#ä¸€é—®é¢˜åˆ†æ)
  - [1.1 å½“å‰å­˜åœ¨çš„é—®é¢˜](#11-å½“å‰å­˜åœ¨çš„é—®é¢˜)
  - [1.2 é—®é¢˜å½±å“](#12-é—®é¢˜å½±å“)
- [äºŒã€è§£å†³æ–¹æ¡ˆæ¦‚è§ˆ](#äºŒè§£å†³æ–¹æ¡ˆæ¦‚è§ˆ)
  - [2.1 æ ¸å¿ƒæ€è·¯](#21-æ ¸å¿ƒæ€è·¯)
  - [2.2 æŠ€æœ¯æ¶æ„](#22-æŠ€æœ¯æ¶æ„)
- [ä¸‰ã€è¯¦ç»†å®æ–½æ­¥éª¤](#ä¸‰è¯¦ç»†å®æ–½æ­¥éª¤)
  - [é˜¶æ®µä¸€ï¼šåˆ›å»ºå¯¼èˆªé…ç½®æ–‡ä»¶](#é˜¶æ®µä¸€åˆ›å»ºå¯¼èˆªé…ç½®æ–‡ä»¶)
  - [é˜¶æ®µäºŒï¼šé‡æ„ AppHeader ç»„ä»¶](#é˜¶æ®µäºŒé‡æ„-appheader-ç»„ä»¶)
  - [é˜¶æ®µä¸‰ï¼šæ›´æ–° UserPanel ç»„ä»¶](#é˜¶æ®µä¸‰æ›´æ–°-userpanel-ç»„ä»¶)
  - [é˜¶æ®µå››ï¼šä¿®æ”¹ Layout æ–‡ä»¶](#é˜¶æ®µå››ä¿®æ”¹-layout-æ–‡ä»¶)
  - [é˜¶æ®µäº”ï¼šæ¸…ç† Home é¡µé¢](#é˜¶æ®µäº”æ¸…ç†-home-é¡µé¢)
  - [é˜¶æ®µå…­ï¼šéªŒè¯æ‰€æœ‰é¡µé¢](#é˜¶æ®µå…­éªŒè¯æ‰€æœ‰é¡µé¢)
- [å››ã€è¯¦ç»†ä»»åŠ¡æ¸…å•](#å››è¯¦ç»†ä»»åŠ¡æ¸…å•)
- [äº”ã€å…³é”®ä»£ç å®ç°](#äº”å…³é”®ä»£ç å®ç°)
- [å…­ã€éªŒæ”¶æ ‡å‡†](#å…­éªŒæ”¶æ ‡å‡†)
- [ä¸ƒã€é£é™©æ§åˆ¶](#ä¸ƒé£é™©æ§åˆ¶)
- [å…«ã€å‚è€ƒæ–‡æ¡£](#å…«å‚è€ƒæ–‡æ¡£)

---

## ä¸€ã€é—®é¢˜åˆ†æ

### 1.1 å½“å‰å­˜åœ¨çš„é—®é¢˜

#### é—®é¢˜1ï¼šå¯¼èˆªæ é‡å¤å®ç°

**å…·ä½“è¡¨ç°**ï¼š
- `src/views/home/index.vue`ï¼ˆç¬¬ 3-64 è¡Œï¼‰åŒ…å«å®Œæ•´çš„è‡ªå®šä¹‰å¯¼èˆªæ å®ç°
- `src/components/layout/AppHeader/index.vue` ä¹Ÿæœ‰ç‹¬ç«‹çš„å¯¼èˆªæ å®ç°
- ä¸¤è€…æ ·å¼ã€ç»“æ„ã€äº¤äº’é€»è¾‘å®Œå…¨ä¸åŒ

**ä»£ç ä½ç½®**ï¼š
```
Home é¡µé¢å¯¼èˆªæ ï¼šsrc/views/home/index.vue: 3-64
Home é¡µé¢å¯¼èˆªæ æ ·å¼ï¼šsrc/views/home/index.vue: 776-1034
AppHeader ç»„ä»¶ï¼šsrc/components/layout/AppHeader/index.vue
```

#### é—®é¢˜2ï¼šAppHeader ç»„ä»¶ç¡¬ç¼–ç 

**å…·ä½“è¡¨ç°**ï¼š
- å¯¼èˆªé¡¹ç›´æ¥å†™æ­»åœ¨æ¨¡æ¿ä¸­ï¼ˆç¬¬ 14-45 è¡Œï¼‰
- æ— æ³•æ ¹æ®ç”¨æˆ·è§’è‰²åŠ¨æ€è°ƒæ•´å¯¼èˆªå†…å®¹
- æœªç™»å½•å’Œç™»å½•åçš„å¯¼èˆªåˆ‡æ¢é€»è¾‘ç®€å•ï¼Œä¸å¤Ÿçµæ´»

**ä»£ç ç¤ºä¾‹**ï¼š
```vue
<!-- å½“å‰çš„ç¡¬ç¼–ç å¯¼èˆª -->
<router-link to="/home" class="nav-link">é¦–é¡µ</router-link>
<el-dropdown trigger="hover" class="nav-dropdown">
  <span class="nav-link dropdown-trigger">åˆ›å®¢ç©ºé—´</span>
  <!-- ... -->
</el-dropdown>
```

#### é—®é¢˜3ï¼šç¼ºå°‘è§’è‰²é…ç½®æ”¯æŒ

**å…·ä½“è¡¨ç°**ï¼š
- æ²¡æœ‰é’ˆå¯¹ä¸åŒè§’è‰²ï¼ˆå­¦ç”Ÿã€ä¼ä¸šã€æ•™å¸ˆã€ç®¡ç†å‘˜ï¼‰çš„å¯¼èˆªé…ç½®
- æ‰€æœ‰ç”¨æˆ·çœ‹åˆ°ç›¸åŒçš„å¯¼èˆªæ 
- æ— æ³•å®ç°"å­¦ç”Ÿçœ‹åˆ°æˆé•¿ä¸­å¿ƒï¼Œä¼ä¸šçœ‹åˆ°æˆæœä¸­å¿ƒ"ç­‰å·®å¼‚åŒ–éœ€æ±‚

#### é—®é¢˜4ï¼šLayout æœªæ³¨å…¥é…ç½®

**å…·ä½“è¡¨ç°**ï¼š
- `DefaultLayout.vue` å’Œ `AdminLayout.vue` ä»…ç®€å•ä½¿ç”¨ `<AppHeader />`
- æœªè¯»å– authStore ä¸­çš„ç”¨æˆ·è§’è‰²ä¿¡æ¯
- æœªå‘ AppHeader ä¼ é€’ä»»ä½•é…ç½®å‚æ•°

**å½“å‰ä»£ç **ï¼š
```vue
<template>
  <div class="default-layout">
    <AppHeader /> <!-- æœªä¼ é€’ä»»ä½• props -->
    <main class="layout-main">
      <router-view />
    </main>
    <AppFooter />
  </div>
</template>
```

#### é—®é¢˜5ï¼šæ ·å¼ä¸ç»Ÿä¸€

**å…·ä½“è¡¨ç°**ï¼š
- Home é¡µé¢çš„å¯¼èˆªæ æ ·å¼ç¾è§‚ä¸”åŠŸèƒ½å®Œå–„ï¼ˆæ¸å˜ã€é˜´å½±ã€åŠ¨ç”»ï¼‰
- AppHeader ç»„ä»¶çš„æ ·å¼ç›¸å¯¹ç®€å•
- å…¶ä»–é¡µé¢ï¼ˆå¦‚é¡¹ç›®å¤§å…ï¼‰çš„å¯¼èˆªæ æ ·å¼ä¸ Home ä¸ä¸€è‡´

### 1.2 é—®é¢˜å½±å“

| é—®é¢˜ç±»å‹ | å½±å“èŒƒå›´ | ä¸¥é‡ç¨‹åº¦ |
|---------|---------|---------|
| ä»£ç é‡å¤ | ç»´æŠ¤æˆæœ¬é«˜ï¼Œä¿®æ”¹éœ€è¦å¤šå¤„åŒæ­¥ | âš ï¸ ä¸­ç­‰ |
| ç¼ºå°‘è§’è‰²æ”¯æŒ | æ— æ³•å®ç°äº§å“éœ€æ±‚ï¼Œç”¨æˆ·ä½“éªŒå·® | ğŸ”´ ä¸¥é‡ |
| æ ·å¼ä¸ç»Ÿä¸€ | ç”¨æˆ·ä½“éªŒä¸ä¸€è‡´ï¼Œè§†è§‰æ··ä¹± | âš ï¸ ä¸­ç­‰ |
| ç¡¬ç¼–ç å¯¼èˆª | æ‰©å±•æ€§å·®ï¼Œéš¾ä»¥æ–°å¢åŠŸèƒ½ | âš ï¸ ä¸­ç­‰ |

---

## äºŒã€è§£å†³æ–¹æ¡ˆæ¦‚è§ˆ

### 2.1 æ ¸å¿ƒæ€è·¯

**é‡‡ç”¨"é…ç½®é©±åŠ¨ + ç»„ä»¶å¤ç”¨"çš„æ¶æ„**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  navConfig.jsï¼ˆå¯¼èˆªé…ç½®ä¸­å¿ƒï¼‰                     â”‚
â”‚  â”œâ”€ visitor é…ç½®ï¼ˆè®¿å®¢ï¼‰                          â”‚
â”‚  â”œâ”€ student é…ç½®ï¼ˆå­¦ç”Ÿï¼‰                          â”‚
â”‚  â”œâ”€ enterprise é…ç½®ï¼ˆä¼ä¸šï¼‰                       â”‚
â”‚  â”œâ”€ teacher é…ç½®ï¼ˆæ•™å¸ˆï¼‰                          â”‚
â”‚  â””â”€ admin é…ç½®ï¼ˆç®¡ç†å‘˜ï¼‰                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â”œâ”€â†’ DefaultLayout.vue
             â”‚   â”œâ”€ è¯»å– authStore.role
             â”‚   â”œâ”€ è°ƒç”¨ getNavByRole()
             â”‚   â””â”€ ä¼ é€’é…ç½®ç»™ AppHeader
             â”‚
             â””â”€â†’ AdminLayout.vue
                 â”œâ”€ è¯»å– authStore.role
                 â”œâ”€ è°ƒç”¨ getNavByRole()
                 â””â”€ ä¼ é€’é…ç½®ç»™ AppHeader
                      â”‚
                      â†“
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚  AppHeader.vue     â”‚
             â”‚  â”œâ”€ æ¥æ”¶ props     â”‚
             â”‚  â”œâ”€ æ¸²æŸ“å¯¼èˆªé¡¹     â”‚
             â”‚  â””â”€ å¤„ç†äº¤äº’       â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 æŠ€æœ¯æ¶æ„

**ä¸‰å±‚æ¶æ„è®¾è®¡**ï¼š

1. **é…ç½®å±‚**ï¼ˆ`navConfig.js`ï¼‰
   - é›†ä¸­ç®¡ç†æ‰€æœ‰è§’è‰²çš„å¯¼èˆªé…ç½®
   - å®šä¹‰å¯¼èˆªé¡¹ã€å¿«æ·æ“ä½œã€æ ·å¼å˜ä½“
   - æ”¯æŒæ‰©å±•å’Œç»´æŠ¤

2. **æ³¨å…¥å±‚**ï¼ˆ`DefaultLayout.vue`ã€`AdminLayout.vue`ï¼‰
   - è¯»å–ç”¨æˆ·è®¤è¯çŠ¶æ€å’Œè§’è‰²
   - è·å–å¯¹åº”è§’è‰²çš„å¯¼èˆªé…ç½®
   - é€šè¿‡ Props æ³¨å…¥ç»™ AppHeader

3. **æ¸²æŸ“å±‚**ï¼ˆ`AppHeader.vue`ï¼‰
   - çº¯æ¸²æŸ“ç»„ä»¶ï¼Œä¸åŒ…å«ä¸šåŠ¡é€»è¾‘
   - æ ¹æ®ä¼ å…¥çš„é…ç½®åŠ¨æ€æ¸²æŸ“å¯¼èˆªæ 
   - å¤„ç†äº¤äº’äº‹ä»¶ï¼ˆç‚¹å‡»ã€ä¸‹æ‹‰ã€ç™»å½•æ‹¦æˆªï¼‰

---

## ä¸‰ã€è¯¦ç»†å®æ–½æ­¥éª¤

### é˜¶æ®µä¸€ï¼šåˆ›å»ºå¯¼èˆªé…ç½®æ–‡ä»¶

#### ğŸ“ åˆ›å»ºæ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**ï¼š`src/utils/navConfig.js`

#### ğŸ“ é…ç½®ç»“æ„è®¾è®¡

```javascript
// å¯¼èˆªé…ç½®å¯¹è±¡ç»“æ„
{
  navItems: [
    {
      label: String,           // å¯¼èˆªé¡¹æ–‡æœ¬
      path: String,            // è·¯ç”±è·¯å¾„
      type: 'link' | 'dropdown', // ç±»å‹
      children: Array,         // å­èœå•ï¼ˆä»… dropdown ç±»å‹ï¼‰
      requireLogin: Boolean,   // æ˜¯å¦éœ€è¦ç™»å½•
      badgeKey: String,        // å¾½ç« é”®åï¼ˆå¦‚ 'messages'ï¼‰
      matchRoute: Function     // è‡ªå®šä¹‰è·¯ç”±åŒ¹é…å‡½æ•°
    }
  ],
  quickActions: [
    {
      label: String,           // æ“ä½œæ–‡æœ¬
      path: String,            // è·¯ç”±è·¯å¾„ï¼ˆå¯é€‰ï¼‰
      type: 'normal' | 'danger' // æ ·å¼ç±»å‹
    }
  ],
  variant: 'default' | 'transparent' // æ ·å¼å˜ä½“
}
```

#### ğŸ¨ å®Œæ•´é…ç½®ç¤ºä¾‹

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´çš„ navConfig.js ä»£ç </summary>

```javascript
/**
 * å¯¼èˆªé…ç½®æ–‡ä»¶
 * ç”¨äºé›†ä¸­ç®¡ç†ä¸åŒè§’è‰²çš„å¯¼èˆªæ é…ç½®
 */

// è§’è‰²æšä¸¾
export const USER_ROLES = {
  VISITOR: 'visitor',     // è®¿å®¢ï¼ˆæœªç™»å½•ï¼‰
  STUDENT: 'student',     // å­¦ç”Ÿ
  ENTERPRISE: 'enterprise', // ä¼ä¸š
  TEACHER: 'teacher',     // æ•™å¸ˆ
  ADMIN: 'admin'          // ç®¡ç†å‘˜
}

/**
 * è·å–æŒ‡å®šè§’è‰²çš„å¯¼èˆªé…ç½®
 * @param {string} role - ç”¨æˆ·è§’è‰²
 * @param {boolean} isLoggedIn - æ˜¯å¦å·²ç™»å½•
 * @returns {object} å¯¼èˆªé…ç½®å¯¹è±¡
 */
export function getNavByRole(role, isLoggedIn) {
  // æœªç™»å½•ç»Ÿä¸€è¿”å›è®¿å®¢é…ç½®
  if (!isLoggedIn) {
    return navConfigs[USER_ROLES.VISITOR]
  }

  // è¿”å›å¯¹åº”è§’è‰²é…ç½®ï¼Œæœªæ‰¾åˆ°åˆ™è¿”å›è®¿å®¢é…ç½®
  return navConfigs[role] || navConfigs[USER_ROLES.VISITOR]
}

/**
 * å¯¼èˆªé…ç½®æ˜ å°„è¡¨
 */
const navConfigs = {
  // ========================================
  // è®¿å®¢é…ç½®ï¼ˆæœªç™»å½•ç”¨æˆ·ï¼‰
  // ========================================
  [USER_ROLES.VISITOR]: {
    navItems: [
      {
        label: 'é¦–é¡µ',
        path: '/home',
        type: 'link'
      },
      {
        label: 'é¡¹ç›®å¤§å…',
        path: '/projects',
        type: 'link'
      },
      {
        label: 'æˆé•¿ä¸­å¿ƒ',
        path: '/growth-center',
        type: 'link',
        requireLogin: true // éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®
      },
      {
        label: 'æ¶ˆæ¯',
        path: '/messages',
        type: 'link',
        requireLogin: true
      }
    ],
    quickActions: [],
    variant: 'default'
  },

  // ========================================
  // å­¦ç”Ÿé…ç½®
  // ========================================
  [USER_ROLES.STUDENT]: {
    navItems: [
      {
        label: 'é¦–é¡µ',
        path: '/home',
        type: 'link'
      },
      {
        label: 'åˆ›å®¢ç©ºé—´',
        type: 'dropdown',
        children: [
          { label: 'é¡¹ç›®å¤§å…', path: '/projects' },
          { label: 'çƒ­é—¨é¡¹ç›®', path: '/projects?sort=hot' },
          { label: 'é¡¹ç›®è¯¦æƒ…', path: '/projects' }
        ]
      },
      {
        label: 'é¡¹ç›®å¤§å…',
        path: '/projects',
        type: 'link',
        matchRoute: (route) => route.path.startsWith('/projects')
      },
      {
        label: 'æˆé•¿ä¸­å¿ƒ',
        path: '/growth-center',
        type: 'link'
      },
      {
        label: 'æ¶ˆæ¯',
        path: '/messages',
        type: 'link',
        badgeKey: 'messages' // æ˜¾ç¤ºæœªè¯»æ¶ˆæ¯å¾½ç« 
      }
    ],
    quickActions: [
      { label: 'ä¸ªäººä¸­å¿ƒ', path: '/user', type: 'normal' },
      { label: 'è®¾ç½®', path: '/user?tab=settings', type: 'normal' },
      { label: 'é€€å‡ºç™»å½•', type: 'danger' }
    ],
    variant: 'default'
  },

  // ========================================
  // ä¼ä¸šé…ç½®
  // ========================================
  [USER_ROLES.ENTERPRISE]: {
    navItems: [
      {
        label: 'é¦–é¡µ',
        path: '/home',
        type: 'link'
      },
      {
        label: 'é¡¹ç›®ç®¡ç†',
        type: 'dropdown',
        children: [
          { label: 'æˆ‘çš„é¡¹ç›®', path: '/enterprise/my-projects' },
          { label: 'å‘å¸ƒé¡¹ç›®', path: '/enterprise/publish' }
        ]
      },
      {
        label: 'æˆæœä¸­å¿ƒ',
        path: '/results-center',
        type: 'link'
      },
      {
        label: 'æ¶ˆæ¯',
        path: '/messages',
        type: 'link',
        badgeKey: 'messages'
      }
    ],
    quickActions: [
      { label: 'ä¸ªäººä¸­å¿ƒ', path: '/user', type: 'normal' },
      { label: 'è®¾ç½®', path: '/user?tab=settings', type: 'normal' },
      { label: 'é€€å‡ºç™»å½•', type: 'danger' }
    ],
    variant: 'default'
  },

  // ========================================
  // æ•™å¸ˆé…ç½®
  // ========================================
  [USER_ROLES.TEACHER]: {
    navItems: [
      {
        label: 'é¦–é¡µ',
        path: '/home',
        type: 'link'
      },
      {
        label: 'é¡¹ç›®å¤§å…',
        path: '/projects',
        type: 'link'
      },
      {
        label: 'å­¦ç”Ÿç®¡ç†',
        type: 'dropdown',
        children: [
          { label: 'å­¦ç”Ÿåˆ—è¡¨', path: '/teacher/students' },
          { label: 'æˆç»©ç®¡ç†', path: '/teacher/grades' }
        ]
      },
      {
        label: 'æ¶ˆæ¯',
        path: '/messages',
        type: 'link',
        badgeKey: 'messages'
      }
    ],
    quickActions: [
      { label: 'ä¸ªäººä¸­å¿ƒ', path: '/user', type: 'normal' },
      { label: 'è®¾ç½®', path: '/user?tab=settings', type: 'normal' },
      { label: 'é€€å‡ºç™»å½•', type: 'danger' }
    ],
    variant: 'default'
  },

  // ========================================
  // ç®¡ç†å‘˜é…ç½®
  // ========================================
  [USER_ROLES.ADMIN]: {
    navItems: [
      {
        label: 'é¦–é¡µ',
        path: '/home',
        type: 'link'
      },
      {
        label: 'é¡¹ç›®å®¡æ ¸',
        type: 'dropdown',
        children: [
          { label: 'é¡¹ç›®åˆå®¡', path: '/pre-review' },
          { label: 'é¡¹ç›®ç»ˆå®¡', path: '/final-review' },
          { label: 'ä¸­æœŸç­”è¾©', path: '/midterm-defense' }
        ]
      },
      {
        label: 'æ•°æ®ä¸­å¿ƒ',
        path: '/statistics',
        type: 'link'
      },
      {
        label: 'æ¶ˆæ¯',
        path: '/messages',
        type: 'link',
        badgeKey: 'messages'
      }
    ],
    quickActions: [
      { label: 'ä¸ªäººä¸­å¿ƒ', path: '/user', type: 'normal' },
      { label: 'è®¾ç½®', path: '/user?tab=settings', type: 'normal' },
      { label: 'é€€å‡ºç™»å½•', type: 'danger' }
    ],
    variant: 'default'
  }
}

/**
 * é»˜è®¤å¯¼å‡ºé…ç½®
 */
export default {
  getNavByRole,
  USER_ROLES,
  navConfigs
}
```

</details>

#### âš ï¸ æ³¨æ„äº‹é¡¹

1. **è·¯å¾„å¿…é¡»ä¸è·¯ç”±é…ç½®ä¸€è‡´**
   - æ£€æŸ¥ `src/router/modules/` ä¸‹çš„è·¯ç”±å®šä¹‰
   - ç¡®ä¿ `path` ä¸å®é™…è·¯ç”±è·¯å¾„åŒ¹é…

2. **matchRoute å‡½æ•°çš„ä½¿ç”¨åœºæ™¯**
   - ç”¨äºå­è·¯ç”±é«˜äº®çˆ¶çº§å¯¼èˆªé¡¹
   - ç¤ºä¾‹ï¼š`/projects/:id` é«˜äº®"é¡¹ç›®å¤§å…"
   ```javascript
   {
     label: 'é¡¹ç›®å¤§å…',
     path: '/projects',
     matchRoute: (route) => route.path.startsWith('/projects')
   }
   ```

3. **requireLogin çš„å¤„ç†**
   - è®¾ç½®ä¸º `true` æ—¶ï¼Œæœªç™»å½•ç”¨æˆ·ç‚¹å‡»ä¼šè·³è½¬åˆ°ç™»å½•é¡µ
   - ç™»å½•é¡µä¼šæºå¸¦ `redirect` å‚æ•°ï¼Œç™»å½•åè‡ªåŠ¨è¿”å›

4. **badgeKey çš„æ˜ å°„**
   - å½“å‰é˜¶æ®µå¯ä»¥ç¡¬ç¼–ç ä¸º 0
   - åç»­éœ€è¦ä» `authStore` æˆ– API è·å–çœŸå®æœªè¯»æ•°

---

### é˜¶æ®µäºŒï¼šé‡æ„ AppHeader ç»„ä»¶

#### ğŸ“ ä¿®æ”¹æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**ï¼š`src/components/layout/AppHeader/index.vue`

#### ğŸ¯ é‡æ„ç›®æ ‡

1. å°†ç¡¬ç¼–ç çš„å¯¼èˆªé¡¹æ”¹ä¸º Props é©±åŠ¨
2. å¤ç”¨ Home é¡µé¢çš„å®Œæ•´æ ·å¼
3. æ”¯æŒæ™®é€šé“¾æ¥å’Œä¸‹æ‹‰èœå•ä¸¤ç§ç±»å‹
4. æ”¯æŒæœªè¯»å¾½ç« æ˜¾ç¤º
5. æ”¯æŒç™»å½•æ‹¦æˆª

#### ğŸ“ Props å®šä¹‰

```javascript
const props = defineProps({
  // å¯¼èˆªé¡¹æ•°ç»„
  navItems: {
    type: Array,
    default: () => []
  },
  // å¿«æ·æ“ä½œï¼ˆä¼ é€’ç»™ UserPanelï¼‰
  quickActions: {
    type: Array,
    default: () => []
  },
  // æ ·å¼å˜ä½“ï¼šdefaultï¼ˆç™½è‰²èƒŒæ™¯ï¼‰ | transparentï¼ˆé€æ˜èƒŒæ™¯ï¼‰
  variant: {
    type: String,
    default: 'default',
    validator: (value) => ['default', 'transparent'].includes(value)
  },
  // æœªè¯»æ¶ˆæ¯æ•°é‡æ˜ å°„ { messages: 2, ... }
  unreadCount: {
    type: Object,
    default: () => ({})
  },
  // æ˜¯å¦æ˜¾ç¤ºç™»å½•/ç”¨æˆ·åŒºåŸŸ
  showAuthArea: {
    type: Boolean,
    default: true
  }
})
```

#### ğŸ¨ æ¨¡æ¿ç»“æ„

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´çš„ AppHeader æ¨¡æ¿ä»£ç </summary>

```vue
<template>
  <header class="main-header" :class="{ transparent: variant === 'transparent' }">
    <div class="header-inner">
      <!-- Logo åŒºåŸŸ -->
      <div class="brand">
        <router-link to="/home" class="brand-logo-link">
          <img
            src="@/assets/images/logo/æ¡‚ç”µé€æ˜èƒŒæ™¯logo.png"
            alt="åˆ›å®¢å¹³å°"
            style="height: 45px; width: auto; max-width: 180px; object-fit: contain; border-radius: 8px;"
          />
        </router-link>
        <router-link to="/home" class="brand-name-link">
          <span class="brand-name">åˆ›å®¢å¹³å°</span>
        </router-link>
      </div>

      <!-- å¯¼èˆªåŒºåŸŸ -->
      <nav class="main-nav">
        <template v-for="(item, index) in navItems" :key="index">
          <!-- ä¸‹æ‹‰èœå•ç±»å‹ -->
          <el-dropdown
            v-if="item.type === 'dropdown'"
            trigger="hover"
            class="nav-dropdown"
          >
            <span class="nav-link dropdown-trigger">
              {{ item.label }}
              <el-icon class="dropdown-icon"><ArrowDown /></el-icon>
            </span>
            <template #dropdown>
              <el-dropdown-menu>
                <el-dropdown-item
                  v-for="(child, childIndex) in item.children"
                  :key="childIndex"
                >
                  <router-link :to="child.path" class="dropdown-item-link">
                    {{ child.label }}
                  </router-link>
                </el-dropdown-item>
              </el-dropdown-menu>
            </template>
          </el-dropdown>

          <!-- æ™®é€šé“¾æ¥ç±»å‹ -->
          <component
            v-else
            :is="item.requireLogin && !isLoggedIn ? 'span' : 'router-link'"
            :to="item.path"
            class="nav-link"
            :class="{
              active: isNavActive(item),
              messages: item.badgeKey === 'messages'
            }"
            active-class="active"
            @click="handleNavClick(item, $event)"
          >
            <span>{{ item.label }}</span>
            <!-- æœªè¯»å¾½ç«  -->
            <span
              v-if="item.badgeKey && unreadCount[item.badgeKey] > 0"
              class="badge"
            >
              {{ unreadCount[item.badgeKey] }}
            </span>
          </component>
        </template>
      </nav>

      <!-- ç™»å½•/ç”¨æˆ·åŒºåŸŸ -->
      <div v-if="showAuthArea" class="auth-area">
        <!-- æœªç™»å½•çŠ¶æ€ -->
        <template v-if="!isLoggedIn">
          <router-link to="/login" class="auth-btn">ç™»å½•</router-link>
          <router-link to="/register" class="auth-btn solid">æ³¨å†Œ</router-link>
        </template>

        <!-- å·²ç™»å½•çŠ¶æ€ -->
        <UserPanel
          v-else
          :user-info="userInfo"
          :user-role="userRole"
          :quick-actions="quickActions"
        />
      </div>
    </div>
  </header>
</template>
```

</details>

#### ğŸ’» Script é€»è¾‘

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´çš„ Script ä»£ç </summary>

```vue
<script setup>
import { ref, computed, onMounted } from 'vue'
import { useRouter, useRoute } from 'vue-router'
import { useAuthStore } from '@/store/modules/auth'
import { ArrowDown } from '@element-plus/icons-vue'
import { ElMessage } from 'element-plus'
import UserPanel from './UserPanel.vue'

// Props å®šä¹‰
const props = defineProps({
  navItems: {
    type: Array,
    default: () => []
  },
  quickActions: {
    type: Array,
    default: () => []
  },
  variant: {
    type: String,
    default: 'default',
    validator: (value) => ['default', 'transparent'].includes(value)
  },
  unreadCount: {
    type: Object,
    default: () => ({})
  },
  showAuthArea: {
    type: Boolean,
    default: true
  }
})

const router = useRouter()
const route = useRoute()
const authStore = useAuthStore()

// åˆå§‹åŒ–è®¤è¯çŠ¶æ€
onMounted(() => {
  authStore.initAuth()
})

// è®¡ç®—å±æ€§
const isLoggedIn = computed(() => authStore.isLoggedIn)
const userInfo = computed(() => authStore.userInfo || {})
const userRole = computed(() => authStore.userRole || '')

/**
 * åˆ¤æ–­å¯¼èˆªé¡¹æ˜¯å¦æ¿€æ´»
 * @param {object} item - å¯¼èˆªé¡¹é…ç½®
 * @returns {boolean}
 */
const isNavActive = (item) => {
  // å¦‚æœæœ‰è‡ªå®šä¹‰åŒ¹é…å‡½æ•°ï¼Œä½¿ç”¨è‡ªå®šä¹‰é€»è¾‘
  if (item.matchRoute && typeof item.matchRoute === 'function') {
    return item.matchRoute(route)
  }

  // é»˜è®¤ä½¿ç”¨è·¯å¾„åŒ¹é…
  return route.path === item.path
}

/**
 * å¤„ç†å¯¼èˆªé¡¹ç‚¹å‡»
 * @param {object} item - å¯¼èˆªé¡¹é…ç½®
 * @param {Event} event - ç‚¹å‡»äº‹ä»¶
 */
const handleNavClick = (item, event) => {
  // å¦‚æœéœ€è¦ç™»å½•ä½†æœªç™»å½•ï¼Œæ‹¦æˆªè·³è½¬
  if (item.requireLogin && !isLoggedIn.value) {
    event.preventDefault()
    ElMessage.warning(`è¯·å…ˆç™»å½•åå†ä½¿ç”¨${item.label}åŠŸèƒ½`)
    router.push(`/login?redirect=${encodeURIComponent(item.path)}`)
  }
}
</script>
```

</details>

#### ğŸ¨ æ ·å¼å®šä¹‰

**é‡è¦**ï¼šå®Œæ•´å¤åˆ¶ `src/views/home/index.vue` ç¬¬ 776-1034 è¡Œçš„æ ·å¼ä»£ç 

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´çš„æ ·å¼ä»£ç </summary>

```vue
<style scoped>
.main-header {
  position: relative;
  background: rgba(255, 255, 255, 0.96);
  box-shadow: 0 6px 30px rgba(15, 39, 106, 0.1);
  z-index: 10;
}

/* é€æ˜å˜ä½“ï¼ˆä»…é¦–é¡µä½¿ç”¨ï¼‰ */
.main-header.transparent {
  background: transparent;
  box-shadow: none;
}

.header-inner {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px 24px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 24px;
}

.brand {
  display: flex;
  align-items: center;
  gap: 12px;
}

.brand-logo-link {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: inherit;
  flex-shrink: 0;
}

.brand-name-link {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: inherit;
}

.brand-name {
  font-size: 18px;
  font-weight: 700;
  color: #0f2c85;
}

.main-nav {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 24px;
}

.nav-link {
  position: relative;
  text-decoration: none;
  color: #5a6486;
  font-weight: 600;
  transition: color 0.2s;
  cursor: pointer;
  white-space: nowrap;
}

.nav-link.active,
.nav-link:hover {
  color: #0c5fe7;
}

.nav-link.active::after {
  content: '';
  position: absolute;
  left: 0;
  bottom: -8px;
  width: 100%;
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(120deg, #0c5fe7, #2fb7ff);
}

.nav-dropdown {
  cursor: pointer;
}

.dropdown-trigger {
  display: flex;
  align-items: center;
  gap: 4px;
}

.dropdown-icon {
  font-size: 12px;
  transition: transform 0.2s;
}

.nav-dropdown:hover .dropdown-icon {
  transform: rotate(180deg);
}

.dropdown-item-link {
  display: block;
  width: 100%;
  text-decoration: none;
  color: inherit;
}

.messages {
  display: flex;
  align-items: center;
  gap: 6px;
}

.badge {
  display: inline-flex;
  min-width: 18px;
  padding: 0 6px;
  height: 18px;
  border-radius: 999px;
  background: #ff4d4f;
  color: #fff;
  font-size: 12px;
  justify-content: center;
  align-items: center;
}

.auth-area {
  display: flex;
  align-items: center;
  gap: 12px;
}

.auth-btn {
  padding: 8px 22px;
  border-radius: 999px;
  border: 1px solid transparent;
  font-weight: 600;
  text-decoration: none;
  transition: transform 0.2s;
  color: #5a6486;
  background: transparent;
}

.auth-btn.solid {
  background: linear-gradient(120deg, #0c5fe7, #2fb7ff);
  color: #fff;
  box-shadow: 0 12px 24px rgba(12, 95, 231, 0.25);
}

.auth-btn:hover {
  transform: translateY(-2px);
}

/* Element Plus ä¸‹æ‹‰èœå•æ ·å¼è¦†ç›– */
:deep(.el-dropdown-menu__item) {
  padding: 0;
}

:deep(.el-dropdown-menu__item a) {
  display: block;
  padding: 8px 20px;
  color: #606266;
  text-decoration: none;
}

:deep(.el-dropdown-menu__item:hover a) {
  color: #0c5fe7;
  background-color: #f5f7fb;
}

/* å“åº”å¼é€‚é… */
@media (max-width: 1024px) {
  .header-inner {
    flex-direction: column;
  }

  .main-nav {
    flex-wrap: wrap;
    gap: 16px;
  }
}
</style>
```

</details>

---

### é˜¶æ®µä¸‰ï¼šæ›´æ–° UserPanel ç»„ä»¶

#### ğŸ“ ä¿®æ”¹æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**ï¼š`src/components/layout/AppHeader/UserPanel.vue`

#### ğŸ¯ æ›´æ–°ç›®æ ‡

1. æ·»åŠ  `quickActions` prop æ”¯æŒ
2. åŠ¨æ€æ¸²æŸ“å¿«æ·æ“ä½œèœå•
3. åŒºåˆ† `normal` å’Œ `danger` ç±»å‹çš„æ“ä½œ

#### ğŸ“ Props æ›´æ–°

```javascript
const props = defineProps({
  userInfo: {
    type: Object,
    default: () => ({})
  },
  userRole: {
    type: String,
    default: 'student'
  },
  // æ–°å¢ï¼šå¿«æ·æ“ä½œé…ç½®
  quickActions: {
    type: Array,
    default: () => []
  }
})
```

#### ğŸ¨ æ¨¡æ¿æ›´æ–°

<details>
<summary>ç‚¹å‡»å±•å¼€æ›´æ–°åçš„ UserPanel æ¨¡æ¿</summary>

```vue
<template>
  <div class="user-panel" v-click-outside="hideDropdown">
    <img
      :src="userInfo.avatar || defaultAvatar"
      :alt="userInfo.username"
      class="user-avatar"
      @click="toggleDropdown"
    />
    <div class="user-dropdown" :class="{ active: showDropdown }">
      <span class="user-name">{{ userInfo.username || 'ç”¨æˆ·' }}</span>

      <!-- å¿«æ·æ“ä½œèœå•ï¼ˆä»é…ç½®è¯»å–ï¼‰ -->
      <template v-if="quickActions && quickActions.length > 0">
        <button
          v-for="(action, index) in quickActions"
          :key="index"
          class="dropdown-link"
          :class="{ danger: action.type === 'danger' }"
          @click.stop="handleAction(action)"
        >
          {{ action.label }}
        </button>
      </template>

      <!-- é»˜è®¤èœå•ï¼ˆå…œåº•ï¼‰ -->
      <template v-else>
        <button class="dropdown-link" @click.stop="goUserCenter">ä¸ªäººä¸­å¿ƒ</button>
        <button class="dropdown-link" @click.stop="goSettings">è®¾ç½®</button>
        <button class="dropdown-link danger" @click.stop="handleLogout">é€€å‡ºç™»å½•</button>
      </template>
    </div>
  </div>
</template>
```

</details>

#### ğŸ’» Script æ›´æ–°

```javascript
/**
 * å¤„ç†å¿«æ·æ“ä½œç‚¹å‡»
 * @param {object} action - å¿«æ·æ“ä½œé…ç½®
 */
const handleAction = (action) => {
  hideDropdown()

  // ç‰¹æ®Šå¤„ç†é€€å‡ºç™»å½•
  if (action.type === 'danger' && action.label === 'é€€å‡ºç™»å½•') {
    handleLogout()
    return
  }

  // æ™®é€šè·³è½¬æ“ä½œ
  if (action.path) {
    router.push(action.path)
  }
}
```

---

### é˜¶æ®µå››ï¼šä¿®æ”¹ Layout æ–‡ä»¶

#### ğŸ“ ä¿®æ”¹æ–‡ä»¶

- `src/layouts/DefaultLayout.vue`
- `src/layouts/AdminLayout.vue`

#### ğŸ¯ ä¿®æ”¹ç›®æ ‡

1. å¼•å…¥ `getNavByRole` å‡½æ•°
2. è¯»å– authStore ä¸­çš„ç”¨æˆ·ä¿¡æ¯
3. è·å–å¯¹åº”è§’è‰²çš„å¯¼èˆªé…ç½®
4. é€šè¿‡ Props ä¼ é€’ç»™ AppHeader

#### ğŸ“ DefaultLayout.vue å®Œæ•´ä»£ç 

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´ä»£ç </summary>

```vue
<template>
  <div class="default-layout">
    <AppHeader
      :nav-items="navConfig.navItems"
      :quick-actions="navConfig.quickActions"
      :variant="navConfig.variant"
      :unread-count="unreadCount"
    />
    <main class="layout-main">
      <router-view v-slot="{ Component, route }">
        <transition
          :name="route.meta.transition || 'slide-fade'"
          mode="out-in"
          appear
        >
          <component :is="Component" :key="route.path" />
        </transition>
      </router-view>
    </main>
    <AppFooter />
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useAuthStore } from '@/store/modules/auth'
import { getNavByRole } from '@/utils/navConfig'
import AppHeader from '@/components/layout/AppHeader/index.vue'
import AppFooter from '@/components/layout/AppFooter/index.vue'

const authStore = useAuthStore()

// è·å–å½“å‰è§’è‰²ï¼ˆé»˜è®¤ä¸º visitorï¼‰
const role = computed(() => authStore.role || 'visitor')
const isLoggedIn = computed(() => authStore.isLoggedIn)

// è·å–å¯¼èˆªé…ç½®
const navConfig = computed(() => {
  return getNavByRole(role.value, isLoggedIn.value)
})

// æœªè¯»æ¶ˆæ¯æ•°ï¼ˆå½“å‰ mockï¼Œåç»­ä» API è·å–ï¼‰
const unreadCount = computed(() => ({
  messages: 0 // TODO: åç»­ä» authStore æˆ– API è·å–çœŸå®æ•°æ®
}))
</script>

<style scoped>
.default-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.layout-main {
  flex: 1;
  width: 100%;
}
</style>
```

</details>

#### ğŸ“ AdminLayout.vue å®Œæ•´ä»£ç 

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´ä»£ç </summary>

```vue
<template>
  <div class="admin-layout">
    <AppHeader
      :nav-items="navConfig.navItems"
      :quick-actions="navConfig.quickActions"
      :variant="navConfig.variant"
      :unread-count="unreadCount"
    />
    <div class="admin-container">
      <AppSidebar v-if="showSidebar" />
      <main class="admin-main">
        <Breadcrumb v-if="showBreadcrumb" />
        <router-view v-slot="{ Component, route }">
          <transition
            :name="route.meta.transition || 'slide-fade'"
            mode="out-in"
            appear
          >
            <component :is="Component" :key="route.path" />
          </transition>
        </router-view>
      </main>
    </div>
    <AppFooter />
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { useRoute } from 'vue-router'
import { useAuthStore } from '@/store/modules/auth'
import { getNavByRole } from '@/utils/navConfig'
import AppHeader from '@/components/layout/AppHeader/index.vue'
import AppFooter from '@/components/layout/AppFooter/index.vue'
import AppSidebar from '@/components/layout/AppSidebar/index.vue'
import Breadcrumb from '@/components/layout/Breadcrumb/index.vue'

const route = useRoute()
const authStore = useAuthStore()

// æ ¹æ®è·¯ç”±metaå†³å®šæ˜¯å¦æ˜¾ç¤ºä¾§è¾¹æ å’Œé¢åŒ…å±‘
const showSidebar = computed(() => route.meta.showSidebar !== false)
const showBreadcrumb = computed(() => route.meta.showBreadcrumb !== false)

// è·å–å½“å‰è§’è‰²ï¼ˆé»˜è®¤ä¸º visitorï¼‰
const role = computed(() => authStore.role || 'visitor')
const isLoggedIn = computed(() => authStore.isLoggedIn)

// è·å–å¯¼èˆªé…ç½®
const navConfig = computed(() => {
  return getNavByRole(role.value, isLoggedIn.value)
})

// æœªè¯»æ¶ˆæ¯æ•°ï¼ˆå½“å‰ mockï¼Œåç»­ä» API è·å–ï¼‰
const unreadCount = computed(() => ({
  messages: 0 // TODO: åç»­ä» authStore æˆ– API è·å–çœŸå®æ•°æ®
}))
</script>

<style scoped>
.admin-layout {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

.admin-container {
  flex: 1;
  display: flex;
  width: 100%;
}

.admin-main {
  flex: 1;
  padding: 20px;
  overflow-y: auto;
}
</style>
```

</details>

---

### é˜¶æ®µäº”ï¼šæ¸…ç† Home é¡µé¢

#### ğŸ“ ä¿®æ”¹æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**ï¼š`src/views/home/index.vue`

#### ğŸ¯ ä¿®æ”¹ç›®æ ‡

1. åˆ é™¤è‡ªå®šä¹‰çš„å¯¼èˆªæ ä»£ç ï¼ˆç¬¬ 3-64 è¡Œï¼‰
2. åˆ é™¤å¯¼èˆªæ ç›¸å…³çš„æ ·å¼ï¼ˆç¬¬ 776-1034 è¡Œï¼‰
3. åˆ é™¤å¯¼èˆªæ ç›¸å…³çš„ script é€»è¾‘
4. ä¿ç•™é¡µé¢ä¸»ä½“å†…å®¹

#### âš ï¸ éœ€è¦åˆ é™¤çš„å†…å®¹

**æ¨¡æ¿éƒ¨åˆ†ï¼ˆç¬¬ 3-64 è¡Œï¼‰**ï¼š
```vue
<!-- åˆ é™¤æ•´ä¸ª header.main-header å— -->
<header class="main-header">
  <!-- ... -->
</header>
```

**æ ·å¼éƒ¨åˆ†ï¼ˆç¬¬ 776-1034 è¡Œï¼‰**ï¼š
```css
/* åˆ é™¤æ‰€æœ‰å¯¼èˆªæ ç›¸å…³æ ·å¼ */
.main-header { ... }
.header-inner { ... }
.brand { ... }
.main-nav { ... }
/* ... */
```

**Script éƒ¨åˆ†**ï¼š
```javascript
// åˆ é™¤å¯¼èˆªæ ç›¸å…³çš„çŠ¶æ€å’Œæ–¹æ³•
const showDropdown = ref(false)
const unreadCount = ref(2)
const toggleDropdown = () => { ... }
const handleRequireLogin = () => { ... }
// ...
```

#### âœ… éœ€è¦ä¿ç•™çš„å†…å®¹

- ç¬¬ 66-443 è¡Œï¼šé¡µé¢ä¸»ä½“å†…å®¹ï¼ˆHero Sectionã€ç­›é€‰å™¨ã€æµç¨‹å±•ç¤ºã€ä¸»å†…å®¹åŒºï¼‰
- ç¬¬ 444-521 è¡Œï¼šFooter éƒ¨åˆ†
- ç¬¬ 738-2189 è¡Œï¼šé¡µé¢ä¸»ä½“æ ·å¼ï¼ˆé™¤å¯¼èˆªæ æ ·å¼å¤–ï¼‰

#### ğŸ” éªŒè¯è¦ç‚¹

åˆ é™¤åï¼ŒHome é¡µé¢åº”è¯¥ï¼š
1. ä¸åŒ…å«ä»»ä½•å¯¼èˆªæ ä»£ç 
2. ä¾èµ– DefaultLayout æä¾›çš„ AppHeader
3. é¡µé¢å†…å®¹ä» Hero Section å¼€å§‹
4. æ ·å¼ä¸å—å½±å“ï¼ˆé™¤å¯¼èˆªæ å¤–ï¼‰

---

### é˜¶æ®µå…­ï¼šéªŒè¯æ‰€æœ‰é¡µé¢

#### ğŸ¯ éªŒè¯ç›®æ ‡

ç¡®ä¿æ‰€æœ‰é¡µé¢çš„å¯¼èˆªæ ç»Ÿä¸€ä¸”æ­£ç¡®æ˜¾ç¤º

#### ğŸ“‹ éªŒè¯æ¸…å•

<details>
<summary>ç‚¹å‡»å±•å¼€å®Œæ•´éªŒè¯æ¸…å•</summary>

| é¡µé¢è·¯å¾„ | éªŒè¯é¡¹ | é¢„æœŸç»“æœ | å®é™…ç»“æœ |
|---------|--------|---------|---------|
| `/home` | è®¿å®¢å¯¼èˆªæ˜¾ç¤º | é¦–é¡µã€é¡¹ç›®å¤§å…ã€æˆé•¿ä¸­å¿ƒï¼ˆéœ€ç™»å½•ï¼‰ã€æ¶ˆæ¯ï¼ˆéœ€ç™»å½•ï¼‰ã€ç™»å½•ã€æ³¨å†Œ | â˜ |
| `/home` | å­¦ç”Ÿå¯¼èˆªæ˜¾ç¤º | é¦–é¡µã€åˆ›å®¢ç©ºé—´ï¼ˆä¸‹æ‹‰ï¼‰ã€é¡¹ç›®å¤§å…ã€æˆé•¿ä¸­å¿ƒã€æ¶ˆæ¯ï¼ˆå¸¦å¾½ç« ï¼‰ã€ç”¨æˆ·å¤´åƒ | â˜ |
| `/projects` | å¯¼èˆªæ æ˜¾ç¤º | ä¸ Home ä¸€è‡´ | â˜ |
| `/projects/:id` | é¡¹ç›®å¤§å…é«˜äº® | "é¡¹ç›®å¤§å…"å¯¼èˆªé¡¹é«˜äº® | â˜ |
| `/growth-center` | å¯¼èˆªæ æ˜¾ç¤º | æˆé•¿ä¸­å¿ƒé«˜äº® | â˜ |
| `/messages` | æ¶ˆæ¯å¾½ç«  | æ˜¾ç¤ºæœªè¯»æ¶ˆæ¯æ•°é‡ï¼ˆå½“å‰ä¸º 0ï¼‰ | â˜ |
| `/user` | å¯¼èˆªæ æ˜¾ç¤º | ä¸ Home ä¸€è‡´ | â˜ |
| `/pre-review` | ç®¡ç†å‘˜å¯¼èˆª | é¦–é¡µã€é¡¹ç›®å®¡æ ¸ï¼ˆä¸‹æ‹‰ï¼‰ã€æ•°æ®ä¸­å¿ƒã€æ¶ˆæ¯ | â˜ |
| `/statistics` | å¯¼èˆªæ æ˜¾ç¤º | æ•°æ®ä¸­å¿ƒé«˜äº® | â˜ |

</details>

#### ğŸ” è¯¦ç»†éªŒè¯æ­¥éª¤

**æ­¥éª¤1ï¼šéªŒè¯è®¿å®¢çŠ¶æ€**
```bash
# 1. æ¸…é™¤æ‰€æœ‰ç™»å½•ä¿¡æ¯
localStorage.clear()

# 2. è®¿é—®é¦–é¡µ
http://localhost:5173/home

# 3. æ£€æŸ¥å¯¼èˆªæ 
- [ ] æ˜¾ç¤º"ç™»å½•"å’Œ"æ³¨å†Œ"æŒ‰é’®
- [ ] ç‚¹å‡»"æˆé•¿ä¸­å¿ƒ"è·³è½¬åˆ°ç™»å½•é¡µ
- [ ] ç‚¹å‡»"æ¶ˆæ¯"è·³è½¬åˆ°ç™»å½•é¡µ
```

**æ­¥éª¤2ï¼šéªŒè¯å­¦ç”Ÿè§’è‰²**
```bash
# 1. è®¾ç½®å­¦ç”Ÿè§’è‰²
localStorage.setItem('userRole', 'student')
localStorage.setItem('token', 'mock-token')

# 2. åˆ·æ–°é¡µé¢

# 3. æ£€æŸ¥å¯¼èˆªæ 
- [ ] æ˜¾ç¤º"åˆ›å®¢ç©ºé—´"ä¸‹æ‹‰èœå•
- [ ] æ‚¬åœæ˜¾ç¤ºå­èœå•ï¼ˆé¡¹ç›®å¤§å…ã€çƒ­é—¨é¡¹ç›®ã€é¡¹ç›®è¯¦æƒ…ï¼‰
- [ ] æ˜¾ç¤ºç”¨æˆ·å¤´åƒå’Œä¸‹æ‹‰èœå•
- [ ] ç‚¹å‡»å¤´åƒæ˜¾ç¤ºå¿«æ·æ“ä½œï¼ˆä¸ªäººä¸­å¿ƒã€è®¾ç½®ã€é€€å‡ºç™»å½•ï¼‰
```

**æ­¥éª¤3ï¼šéªŒè¯å¯¼èˆªé«˜äº®**
```bash
# 1. è®¿é—®é¡¹ç›®è¯¦æƒ…é¡µ
http://localhost:5173/projects/1

# 2. æ£€æŸ¥å¯¼èˆªæ 
- [ ] "é¡¹ç›®å¤§å…"å¯¼èˆªé¡¹é«˜äº®
- [ ] ä¸‹åˆ’çº¿æ˜¾ç¤ºæ­£ç¡®
```

**æ­¥éª¤4ï¼šéªŒè¯æ ·å¼ä¸€è‡´æ€§**
```bash
# 1. å¯¹æ¯” Home å’Œå…¶ä»–é¡µé¢çš„å¯¼èˆªæ 

# 2. æ£€æŸ¥æ ·å¼
- [ ] é«˜åº¦ä¸€è‡´ï¼ˆçº¦ 80pxï¼‰
- [ ] èƒŒæ™¯é¢œè‰²ä¸€è‡´
- [ ] é˜´å½±æ•ˆæœä¸€è‡´
- [ ] Logo æ ·å¼ä¸€è‡´
- [ ] å­—ä½“ã€é¢œè‰²ã€é—´è·ä¸€è‡´
- [ ] Hover æ•ˆæœä¸€è‡´
- [ ] ä¸‹æ‹‰èœå•æ ·å¼ä¸€è‡´
```

**æ­¥éª¤5ï¼šéªŒè¯å“åº”å¼é€‚é…**
```bash
# 1. åˆ‡æ¢åˆ°ç§»åŠ¨ç«¯è§†å›¾ï¼ˆå®½åº¦ < 1024pxï¼‰

# 2. æ£€æŸ¥å¸ƒå±€
- [ ] å¯¼èˆªæ å‚ç›´æ’åˆ—
- [ ] å¯¼èˆªé¡¹æ¢è¡Œæ­£å¸¸
- [ ] æŒ‰é’®å’Œé“¾æ¥å¯ç‚¹å‡»
```

#### âš ï¸ å¸¸è§é—®é¢˜æ’æŸ¥

**é—®é¢˜1ï¼šå¯¼èˆªæ æ ·å¼ä¸ä¸€è‡´**
- æ£€æŸ¥æ˜¯å¦å®Œæ•´å¤åˆ¶äº† Home é¡µé¢çš„æ ·å¼ä»£ç 
- æ£€æŸ¥ `variant` prop æ˜¯å¦æ­£ç¡®ä¼ é€’

**é—®é¢˜2ï¼šä¸‹æ‹‰èœå•ä¸æ˜¾ç¤º**
- æ£€æŸ¥ Element Plus æ˜¯å¦æ­£ç¡®å¯¼å…¥
- æ£€æŸ¥ `navItems` ä¸­ `type: 'dropdown'` çš„é…ç½®

**é—®é¢˜3ï¼šè·¯ç”±é«˜äº®ä¸æ­£ç¡®**
- æ£€æŸ¥ `matchRoute` å‡½æ•°æ˜¯å¦æ­£ç¡®å®ç°
- æ£€æŸ¥è·¯ç”±è·¯å¾„æ˜¯å¦ä¸é…ç½®ä¸€è‡´

**é—®é¢˜4ï¼šæœªè¯»å¾½ç« ä¸æ˜¾ç¤º**
- æ£€æŸ¥ `badgeKey` æ˜¯å¦é…ç½®
- æ£€æŸ¥ `unreadCount` å¯¹è±¡æ˜¯å¦æ­£ç¡®ä¼ é€’

---

## å››ã€è¯¦ç»†ä»»åŠ¡æ¸…å•

### ğŸ“‹ é˜¶æ®µä¸€ä»»åŠ¡ï¼ˆ1-2 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 1.1**ï¼šåˆ›å»º `src/utils/navConfig.js` æ–‡ä»¶
  - [ ] å®šä¹‰è§’è‰²æšä¸¾ `USER_ROLES`
  - [ ] å®ç° `getNavByRole()` å‡½æ•°
  - [ ] é…ç½®è®¿å®¢å¯¼èˆªï¼ˆvisitorï¼‰
  - [ ] é…ç½®å­¦ç”Ÿå¯¼èˆªï¼ˆstudentï¼‰
  - [ ] é…ç½®ä¼ä¸šå¯¼èˆªï¼ˆenterpriseï¼‰
  - [ ] é…ç½®æ•™å¸ˆå¯¼èˆªï¼ˆteacherï¼‰
  - [ ] é…ç½®ç®¡ç†å‘˜å¯¼èˆªï¼ˆadminï¼‰
  - [ ] æ·»åŠ ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£

- [ ] **ä»»åŠ¡ 1.2**ï¼šéªŒè¯é…ç½®æ­£ç¡®æ€§
  - [ ] æ£€æŸ¥æ‰€æœ‰è·¯å¾„æ˜¯å¦ä¸è·¯ç”±é…ç½®ä¸€è‡´
  - [ ] ç¡®è®¤ä¸‹æ‹‰èœå• children é…ç½®æ­£ç¡®
  - [ ] ç¡®è®¤ requireLogin å­—æ®µæ­£ç¡®è®¾ç½®
  - [ ] ç¡®è®¤ badgeKey å­—æ®µæ­£ç¡®è®¾ç½®

### ğŸ“‹ é˜¶æ®µäºŒä»»åŠ¡ï¼ˆ2-3 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 2.1**ï¼šé‡æ„ AppHeader ç»„ä»¶ Props
  - [ ] å®šä¹‰ `navItems` prop
  - [ ] å®šä¹‰ `quickActions` prop
  - [ ] å®šä¹‰ `variant` propï¼ˆå« validatorï¼‰
  - [ ] å®šä¹‰ `unreadCount` prop
  - [ ] å®šä¹‰ `showAuthArea` prop

- [ ] **ä»»åŠ¡ 2.2**ï¼šé‡æ„ AppHeader æ¨¡æ¿
  - [ ] å¤åˆ¶ Home é¡µé¢çš„å¯¼èˆªæ  HTML ç»“æ„ï¼ˆç¬¬ 3-64 è¡Œï¼‰
  - [ ] å°†ç¡¬ç¼–ç å¯¼èˆªé¡¹æ”¹ä¸º `v-for` éå† `navItems`
  - [ ] å®ç°ä¸‹æ‹‰èœå•ç±»å‹åˆ¤æ–­ï¼ˆ`v-if="item.type === 'dropdown'"`ï¼‰
  - [ ] å®ç°æ™®é€šé“¾æ¥æ¸²æŸ“
  - [ ] æ·»åŠ æœªè¯»å¾½ç« é€»è¾‘ï¼ˆ`v-if="item.badgeKey"`ï¼‰
  - [ ] æ·»åŠ ç™»å½•/æ³¨å†ŒæŒ‰é’®
  - [ ] é›†æˆ UserPanel ç»„ä»¶

- [ ] **ä»»åŠ¡ 2.3**ï¼šå®ç° Script é€»è¾‘
  - [ ] å®ç° `isNavActive()` å‡½æ•°ï¼ˆæ”¯æŒ matchRouteï¼‰
  - [ ] å®ç° `handleNavClick()` å‡½æ•°ï¼ˆç™»å½•æ‹¦æˆªï¼‰
  - [ ] é›†æˆ authStoreï¼ˆè·å– isLoggedInã€userInfoã€userRoleï¼‰
  - [ ] æ·»åŠ  `onMounted` åˆå§‹åŒ–è®¤è¯

- [ ] **ä»»åŠ¡ 2.4**ï¼šå¤åˆ¶æ ·å¼ä»£ç 
  - [ ] å®Œæ•´å¤åˆ¶ Home é¡µé¢å¯¼èˆªæ æ ·å¼ï¼ˆç¬¬ 776-1034 è¡Œï¼‰
  - [ ] æ·»åŠ  `.transparent` å˜ä½“æ ·å¼
  - [ ] ç¡®ä¿å“åº”å¼æ ·å¼æ­£ç¡®

- [ ] **ä»»åŠ¡ 2.5**ï¼šæµ‹è¯• AppHeader ç»„ä»¶
  - [ ] æ‰‹åŠ¨ä¼ é€’ mock props æµ‹è¯•æ¸²æŸ“
  - [ ] æµ‹è¯•ä¸‹æ‹‰èœå•äº¤äº’
  - [ ] æµ‹è¯•ç™»å½•æ‹¦æˆªé€»è¾‘
  - [ ] æµ‹è¯•å¯¼èˆªé«˜äº®

### ğŸ“‹ é˜¶æ®µä¸‰ä»»åŠ¡ï¼ˆ0.5-1 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 3.1**ï¼šæ›´æ–° UserPanel ç»„ä»¶
  - [ ] æ·»åŠ  `quickActions` prop å®šä¹‰
  - [ ] æ›´æ–°æ¨¡æ¿æ”¯æŒåŠ¨æ€æ¸²æŸ“å¿«æ·æ“ä½œ
  - [ ] å®ç° `handleAction()` å‡½æ•°
  - [ ] åŒºåˆ† `normal` å’Œ `danger` æ ·å¼
  - [ ] ä¿ç•™é»˜è®¤èœå•ä½œä¸ºå…œåº•

- [ ] **ä»»åŠ¡ 3.2**ï¼šæµ‹è¯• UserPanel
  - [ ] æµ‹è¯•å¿«æ·æ“ä½œèœå•æ¸²æŸ“
  - [ ] æµ‹è¯•è·³è½¬åŠŸèƒ½
  - [ ] æµ‹è¯•é€€å‡ºç™»å½•åŠŸèƒ½

### ğŸ“‹ é˜¶æ®µå››ä»»åŠ¡ï¼ˆ1-1.5 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 4.1**ï¼šä¿®æ”¹ DefaultLayout.vue
  - [ ] å¼•å…¥ `getNavByRole` å‡½æ•°
  - [ ] å¼•å…¥ `useAuthStore`
  - [ ] å®ç° `role` è®¡ç®—å±æ€§
  - [ ] å®ç° `isLoggedIn` è®¡ç®—å±æ€§
  - [ ] å®ç° `navConfig` è®¡ç®—å±æ€§
  - [ ] å®ç° `unreadCount` è®¡ç®—å±æ€§ï¼ˆmockï¼‰
  - [ ] å‘ AppHeader ä¼ é€’æ‰€æœ‰ props
  - [ ] æµ‹è¯•é¡µé¢æ¸²æŸ“

- [ ] **ä»»åŠ¡ 4.2**ï¼šä¿®æ”¹ AdminLayout.vue
  - [ ] å¼•å…¥ `getNavByRole` å‡½æ•°
  - [ ] å¼•å…¥ `useAuthStore`
  - [ ] å®ç° `role` è®¡ç®—å±æ€§
  - [ ] å®ç° `isLoggedIn` è®¡ç®—å±æ€§
  - [ ] å®ç° `navConfig` è®¡ç®—å±æ€§
  - [ ] å®ç° `unreadCount` è®¡ç®—å±æ€§ï¼ˆmockï¼‰
  - [ ] å‘ AppHeader ä¼ é€’æ‰€æœ‰ props
  - [ ] æµ‹è¯•é¡µé¢æ¸²æŸ“

### ğŸ“‹ é˜¶æ®µäº”ä»»åŠ¡ï¼ˆ0.5-1 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 5.1**ï¼šæ¸…ç† Home é¡µé¢
  - [ ] åˆ é™¤æ¨¡æ¿ä¸­çš„ `<header class="main-header">` å—ï¼ˆç¬¬ 3-64 è¡Œï¼‰
  - [ ] åˆ é™¤ script ä¸­çš„å¯¼èˆªæ ç›¸å…³çŠ¶æ€
    - [ ] åˆ é™¤ `showDropdown`
    - [ ] åˆ é™¤ `unreadCount`
    - [ ] åˆ é™¤ `defaultAvatar`
  - [ ] åˆ é™¤ script ä¸­çš„å¯¼èˆªæ ç›¸å…³æ–¹æ³•
    - [ ] åˆ é™¤ `handleRequireLogin()`
    - [ ] åˆ é™¤ `toggleDropdown()`
    - [ ] åˆ é™¤ `hideDropdown()`
    - [ ] åˆ é™¤ `goUserCenter()`
    - [ ] åˆ é™¤ `goSettings()`
    - [ ] åˆ é™¤ `handleLogout()`
  - [ ] åˆ é™¤æ ·å¼ä¸­çš„å¯¼èˆªæ æ ·å¼ï¼ˆç¬¬ 776-1034 è¡Œï¼‰
    - [ ] åˆ é™¤ `.main-header` åŠå…¶æ‰€æœ‰å­æ ·å¼
    - [ ] åˆ é™¤ `.user-panel` åŠå…¶æ‰€æœ‰å­æ ·å¼
  - [ ] éªŒè¯é¡µé¢å†…å®¹å®Œæ•´æ€§
  - [ ] æµ‹è¯•é¡µé¢æ˜¾ç¤ºæ­£å¸¸

### ğŸ“‹ é˜¶æ®µå…­ä»»åŠ¡ï¼ˆ1-2 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 6.1**ï¼šéªŒè¯è®¿å®¢çŠ¶æ€
  - [ ] æ¸…é™¤ localStorage
  - [ ] è®¿é—® `/home`ï¼Œæ£€æŸ¥æ˜¾ç¤º"ç™»å½•/æ³¨å†Œ"æŒ‰é’®
  - [ ] ç‚¹å‡»"æˆé•¿ä¸­å¿ƒ"ï¼ŒéªŒè¯è·³è½¬åˆ°ç™»å½•é¡µ
  - [ ] ç‚¹å‡»"æ¶ˆæ¯"ï¼ŒéªŒè¯è·³è½¬åˆ°ç™»å½•é¡µ
  - [ ] è®¿é—® `/projects`ï¼ŒéªŒè¯å¯¼èˆªæ ä¸€è‡´

- [ ] **ä»»åŠ¡ 6.2**ï¼šéªŒè¯å­¦ç”Ÿè§’è‰²
  - [ ] è®¾ç½® `localStorage.setItem('userRole', 'student')`
  - [ ] è®¾ç½® `localStorage.setItem('token', 'mock-token')`
  - [ ] åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥æ˜¾ç¤ºå­¦ç”Ÿå¯¼èˆª
  - [ ] éªŒè¯"åˆ›å®¢ç©ºé—´"ä¸‹æ‹‰èœå•æ˜¾ç¤º
  - [ ] éªŒè¯ç”¨æˆ·å¤´åƒå’Œä¸‹æ‹‰èœå•æ˜¾ç¤º
  - [ ] éªŒè¯å¿«æ·æ“ä½œèœå•ï¼ˆä¸ªäººä¸­å¿ƒã€è®¾ç½®ã€é€€å‡ºç™»å½•ï¼‰

- [ ] **ä»»åŠ¡ 6.3**ï¼šéªŒè¯ä¼ä¸šè§’è‰²
  - [ ] è®¾ç½® `localStorage.setItem('userRole', 'enterprise')`
  - [ ] åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥æ˜¾ç¤ºä¼ä¸šå¯¼èˆª
  - [ ] éªŒè¯"é¡¹ç›®ç®¡ç†"ä¸‹æ‹‰èœå•æ˜¾ç¤º
  - [ ] éªŒè¯"æˆæœä¸­å¿ƒ"å¯¼èˆªé¡¹æ˜¾ç¤º

- [ ] **ä»»åŠ¡ 6.4**ï¼šéªŒè¯æ•™å¸ˆè§’è‰²
  - [ ] è®¾ç½® `localStorage.setItem('userRole', 'teacher')`
  - [ ] åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥æ˜¾ç¤ºæ•™å¸ˆå¯¼èˆª
  - [ ] éªŒè¯"å­¦ç”Ÿç®¡ç†"ä¸‹æ‹‰èœå•æ˜¾ç¤º

- [ ] **ä»»åŠ¡ 6.5**ï¼šéªŒè¯ç®¡ç†å‘˜è§’è‰²
  - [ ] è®¾ç½® `localStorage.setItem('userRole', 'admin')`
  - [ ] åˆ·æ–°é¡µé¢ï¼Œæ£€æŸ¥æ˜¾ç¤ºç®¡ç†å‘˜å¯¼èˆª
  - [ ] éªŒè¯"é¡¹ç›®å®¡æ ¸"ä¸‹æ‹‰èœå•æ˜¾ç¤º
  - [ ] éªŒè¯"æ•°æ®ä¸­å¿ƒ"å¯¼èˆªé¡¹æ˜¾ç¤º
  - [ ] è®¿é—® `/pre-review`ï¼ŒéªŒè¯å¯¼èˆªæ æ­£ç¡®
  - [ ] è®¿é—® `/statistics`ï¼ŒéªŒè¯å¯¼èˆªæ æ­£ç¡®

- [ ] **ä»»åŠ¡ 6.6**ï¼šéªŒè¯å¯¼èˆªé«˜äº®
  - [ ] è®¿é—® `/home`ï¼ŒéªŒè¯"é¦–é¡µ"é«˜äº®
  - [ ] è®¿é—® `/projects`ï¼ŒéªŒè¯"é¡¹ç›®å¤§å…"é«˜äº®
  - [ ] è®¿é—® `/projects/1`ï¼ŒéªŒè¯"é¡¹ç›®å¤§å…"ä»ç„¶é«˜äº®ï¼ˆmatchRouteï¼‰
  - [ ] è®¿é—® `/growth-center`ï¼ŒéªŒè¯"æˆé•¿ä¸­å¿ƒ"é«˜äº®
  - [ ] è®¿é—® `/messages`ï¼ŒéªŒè¯"æ¶ˆæ¯"é«˜äº®

- [ ] **ä»»åŠ¡ 6.7**ï¼šéªŒè¯æ ·å¼ä¸€è‡´æ€§
  - [ ] å¯¹æ¯” Home å’Œé¡¹ç›®å¤§å…çš„å¯¼èˆªæ æ ·å¼
  - [ ] æ£€æŸ¥é«˜åº¦ä¸€è‡´ï¼ˆçº¦ 80pxï¼‰
  - [ ] æ£€æŸ¥èƒŒæ™¯é¢œè‰²å’Œé˜´å½±ä¸€è‡´
  - [ ] æ£€æŸ¥ Logo æ ·å¼ä¸€è‡´
  - [ ] æ£€æŸ¥å­—ä½“ã€é¢œè‰²ã€é—´è·ä¸€è‡´
  - [ ] æ£€æŸ¥ Hover æ•ˆæœä¸€è‡´
  - [ ] æ£€æŸ¥æ¿€æ´»çŠ¶æ€ä¸‹åˆ’çº¿ä¸€è‡´

- [ ] **ä»»åŠ¡ 6.8**ï¼šéªŒè¯å“åº”å¼é€‚é…
  - [ ] åˆ‡æ¢åˆ° 1024px å®½åº¦ï¼Œæ£€æŸ¥å¸ƒå±€å‚ç›´æ’åˆ—
  - [ ] åˆ‡æ¢åˆ° 768px å®½åº¦ï¼Œæ£€æŸ¥å¯¼èˆªé¡¹æ¢è¡Œ
  - [ ] åˆ‡æ¢åˆ° 640px å®½åº¦ï¼Œæ£€æŸ¥ç§»åŠ¨ç«¯æ ·å¼
  - [ ] æµ‹è¯•ä¸‹æ‹‰èœå•åœ¨ç§»åŠ¨ç«¯çš„å¯ç”¨æ€§

- [ ] **ä»»åŠ¡ 6.9**ï¼šéªŒè¯æ‰€æœ‰é¡µé¢
  - [ ] `/home` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/projects` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/projects/:id` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/growth-center` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/messages` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/user` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/my-projects` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/apply/:id` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/pre-review` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®
  - [ ] `/statistics` - å¯¼èˆªæ æ˜¾ç¤ºæ­£ç¡®

### ğŸ“‹ æ”¶å°¾ä»»åŠ¡ï¼ˆ0.5 å°æ—¶ï¼‰

- [ ] **ä»»åŠ¡ 7.1**ï¼šä»£ç å®¡æŸ¥
  - [ ] æ£€æŸ¥æ‰€æœ‰æ–‡ä»¶çš„ä»£ç æ³¨é‡Š
  - [ ] ç¡®ä¿ä»£ç é£æ ¼ä¸€è‡´ï¼ˆ2ç©ºæ ¼ç¼©è¿›ã€å•å¼•å·ï¼‰
  - [ ] ç§»é™¤ console.log è°ƒè¯•ä»£ç 
  - [ ] ç§»é™¤æœªä½¿ç”¨çš„å¯¼å…¥å’Œå˜é‡

- [ ] **ä»»åŠ¡ 7.2**ï¼šæ–‡æ¡£æ›´æ–°
  - [ ] æ›´æ–° `[000]åŠŸèƒ½æ¨¡å—æ–‡æ¡£.md`ï¼Œæ·»åŠ å¯¼èˆªæ é…ç½®è¯´æ˜
  - [ ] æ›´æ–° `CLAUDE.md`ï¼Œè®°å½•æœ¬æ¬¡é‡æ„
  - [ ] å®Œæˆæœ¬æ–¹æ¡ˆæ–‡æ¡£çš„å®æ–½è®°å½•

- [ ] **ä»»åŠ¡ 7.3**ï¼šGit æäº¤
  - [ ] åˆ›å»º Git æäº¤ï¼š`git commit -m "refactor: ç»Ÿä¸€å¯¼èˆªæ ç»„ä»¶åŒ–é‡æ„"`
  - [ ] æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆå¦‚æœéœ€è¦ï¼‰

---

## äº”ã€å…³é”®ä»£ç å®ç°

### 5.1 navConfig.js å®Œæ•´ä»£ç 

è¯·å‚è€ƒ"é˜¶æ®µä¸€"ä¸­çš„è¯¦ç»†ä»£ç ç¤ºä¾‹ã€‚

### 5.2 AppHeader å…³é”®é€»è¾‘

#### å¯¼èˆªé«˜äº®åˆ¤æ–­

```javascript
/**
 * åˆ¤æ–­å¯¼èˆªé¡¹æ˜¯å¦æ¿€æ´»
 * æ”¯æŒè‡ªå®šä¹‰ matchRoute å‡½æ•°
 */
const isNavActive = (item) => {
  // ä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰åŒ¹é…å‡½æ•°
  if (item.matchRoute && typeof item.matchRoute === 'function') {
    return item.matchRoute(route)
  }

  // é»˜è®¤ç²¾ç¡®åŒ¹é…è·¯å¾„
  return route.path === item.path
}
```

#### ç™»å½•æ‹¦æˆª

```javascript
/**
 * å¤„ç†å¯¼èˆªé¡¹ç‚¹å‡»
 * æ‹¦æˆªéœ€è¦ç™»å½•ä½†æœªç™»å½•çš„è®¿é—®
 */
const handleNavClick = (item, event) => {
  if (item.requireLogin && !isLoggedIn.value) {
    event.preventDefault()
    ElMessage.warning(`è¯·å…ˆç™»å½•åå†ä½¿ç”¨${item.label}åŠŸèƒ½`)
    router.push(`/login?redirect=${encodeURIComponent(item.path)}`)
  }
}
```

#### åŠ¨æ€ç»„ä»¶æ¸²æŸ“

```vue
<!-- æ ¹æ®æ˜¯å¦éœ€è¦ç™»å½•åŠ¨æ€é€‰æ‹©ç»„ä»¶ç±»å‹ -->
<component
  :is="item.requireLogin && !isLoggedIn ? 'span' : 'router-link'"
  :to="item.path"
  class="nav-link"
  @click="handleNavClick(item, $event)"
>
  {{ item.label }}
</component>
```

### 5.3 Layout é…ç½®æ³¨å…¥

```javascript
// è·å–å½“å‰è§’è‰²ï¼ˆå…œåº•ä¸º visitorï¼‰
const role = computed(() => authStore.role || 'visitor')
const isLoggedIn = computed(() => authStore.isLoggedIn)

// è°ƒç”¨é…ç½®å‡½æ•°è·å–å¯¼èˆªé…ç½®
const navConfig = computed(() => {
  return getNavByRole(role.value, isLoggedIn.value)
})

// Mock æœªè¯»æ¶ˆæ¯æ•°ï¼ˆåç»­æ”¹ä¸ºçœŸå®æ•°æ®ï¼‰
const unreadCount = computed(() => ({
  messages: 0 // TODO: ä» API è·å–
}))
```

---

## å…­ã€éªŒæ”¶æ ‡å‡†

### 6.1 åŠŸèƒ½éªŒæ”¶

| éªŒæ”¶é¡¹ | æ ‡å‡† | ä¼˜å…ˆçº§ |
|-------|------|--------|
| è®¿å®¢å¯¼èˆªæ˜¾ç¤º | æ˜¾ç¤ºç™»å½•/æ³¨å†ŒæŒ‰é’®ï¼Œç‚¹å‡»éœ€ç™»å½•é¡¹è·³è½¬ç™»å½•é¡µ | P0 |
| å­¦ç”Ÿå¯¼èˆªæ˜¾ç¤º | æ˜¾ç¤ºå­¦ç”Ÿä¸“å±å¯¼èˆªé¡¹å’Œä¸‹æ‹‰èœå• | P0 |
| ä¼ä¸šå¯¼èˆªæ˜¾ç¤º | æ˜¾ç¤ºä¼ä¸šä¸“å±å¯¼èˆªé¡¹ | P0 |
| æ•™å¸ˆå¯¼èˆªæ˜¾ç¤º | æ˜¾ç¤ºæ•™å¸ˆä¸“å±å¯¼èˆªé¡¹ | P1 |
| ç®¡ç†å‘˜å¯¼èˆªæ˜¾ç¤º | æ˜¾ç¤ºç®¡ç†å‘˜ä¸“å±å¯¼èˆªé¡¹ | P0 |
| å¯¼èˆªé«˜äº® | å½“å‰é¡µé¢å¯¹åº”çš„å¯¼èˆªé¡¹æ­£ç¡®é«˜äº® | P0 |
| å­è·¯ç”±é«˜äº® | é¡¹ç›®è¯¦æƒ…é¡µé«˜äº®"é¡¹ç›®å¤§å…" | P1 |
| ä¸‹æ‹‰èœå• | æ‚¬åœæ˜¾ç¤ºå­èœå•ï¼Œç‚¹å‡»è·³è½¬æ­£ç¡® | P0 |
| æœªè¯»å¾½ç«  | æ¶ˆæ¯å¯¼èˆªé¡¹æ˜¾ç¤ºå¾½ç« ï¼ˆå½“å‰ä¸º 0ï¼‰ | P1 |
| å¿«æ·æ“ä½œ | ç”¨æˆ·ä¸‹æ‹‰èœå•æ˜¾ç¤ºè§’è‰²å¯¹åº”çš„å¿«æ·æ“ä½œ | P0 |
| ç™»å½•æ‹¦æˆª | æœªç™»å½•ç‚¹å‡»éœ€ç™»å½•é¡¹è·³è½¬ç™»å½•é¡µå¹¶æºå¸¦ redirect | P0 |
| é€€å‡ºç™»å½• | ç‚¹å‡»é€€å‡ºç™»å½•æ¸…é™¤çŠ¶æ€å¹¶è·³è½¬ç™»å½•é¡µ | P0 |

### 6.2 æ ·å¼éªŒæ”¶

| éªŒæ”¶é¡¹ | æ ‡å‡† | ä¼˜å…ˆçº§ |
|-------|------|--------|
| å¯¼èˆªæ é«˜åº¦ | çº¦ 80pxï¼ˆ16px padding * 2 + logo 45pxï¼‰ | P0 |
| èƒŒæ™¯é¢œè‰² | `rgba(255, 255, 255, 0.96)` åŠé€æ˜ç™½è‰² | P0 |
| é˜´å½±æ•ˆæœ | `0 6px 30px rgba(15, 39, 106, 0.1)` | P0 |
| Logo æ ·å¼ | 45px é«˜åº¦ï¼Œåœ†è§’ 8px | P0 |
| å¯¼èˆªé“¾æ¥é¢œè‰² | æœªæ¿€æ´» `#5a6486`ï¼Œæ¿€æ´»/hover `#0c5fe7` | P0 |
| æ¿€æ´»ä¸‹åˆ’çº¿ | æ¸å˜ `linear-gradient(120deg, #0c5fe7, #2fb7ff)`ï¼Œ3px é«˜åº¦ | P0 |
| æ³¨å†ŒæŒ‰é’® | æ¸å˜èƒŒæ™¯ + é˜´å½± | P0 |
| ä¸‹æ‹‰èœå•æ ·å¼ | Element Plus é»˜è®¤æ ·å¼ + è‡ªå®šä¹‰ hover è‰² | P1 |
| å“åº”å¼å¸ƒå±€ | 1024px ä»¥ä¸‹å‚ç›´æ’åˆ— | P1 |

### 6.3 ä»£ç è´¨é‡éªŒæ”¶

| éªŒæ”¶é¡¹ | æ ‡å‡† | ä¼˜å…ˆçº§ |
|-------|------|--------|
| ä»£ç æ³¨é‡Š | æ‰€æœ‰å…³é”®å‡½æ•°æœ‰ä¸­æ–‡æ³¨é‡Š | P0 |
| ä»£ç é£æ ¼ | 2ç©ºæ ¼ç¼©è¿›ã€å•å¼•å·ã€æ— åˆ†å· | P0 |
| æ— ç¡¬ç¼–ç  | æ‰€æœ‰å¯¼èˆªé…ç½®åœ¨ navConfig.js ä¸­ | P0 |
| Props ç±»å‹ | æ‰€æœ‰ props å®šä¹‰ç±»å‹å’Œé»˜è®¤å€¼ | P0 |
| è®¡ç®—å±æ€§ | ä½¿ç”¨ computed è€Œé ref + watch | P1 |
| ä»£ç å¤ç”¨ | Home é¡µé¢ä¸åŒ…å«é‡å¤çš„å¯¼èˆªæ ä»£ç  | P0 |
| é”™è¯¯å¤„ç† | è§’è‰²ç¼ºå¤±æ—¶å…œåº•ä¸º visitor | P0 |
| æ€§èƒ½ä¼˜åŒ– | ä½¿ç”¨ computed ç¼“å­˜é…ç½® | P1 |

---

## ä¸ƒã€é£é™©æ§åˆ¶

### 7.1 é£é™©è¯†åˆ«

| é£é™©ç‚¹ | å½±å“ | æ¦‚ç‡ | ä¸¥é‡åº¦ | ç¼“è§£æªæ–½ |
|-------|------|------|--------|---------|
| authStore è§’è‰²å­—æ®µç¼ºå¤± | å¯¼èˆªæ— æ³•æ­£ç¡®æ˜¾ç¤º | ä¸­ | é«˜ | å…œåº•ä¸º 'visitor'ï¼Œåœ¨ Layout ä¸­æ·»åŠ é»˜è®¤å€¼ |
| è·¯ç”±è·¯å¾„ä¸åŒ¹é… | å¯¼èˆªè·³è½¬å¤±è´¥ | ä¸­ | ä¸­ | æ ¡å¯¹æ‰€æœ‰è·¯å¾„ä¸è·¯ç”±é…ç½®ï¼Œæ·»åŠ è·¯ç”±éªŒè¯æµ‹è¯• |
| æ ·å¼ä¸¢å¤±æˆ–ä¸ä¸€è‡´ | è§†è§‰æ•ˆæœå·® | ä½ | ä¸­ | å®Œæ•´å¤åˆ¶ Home æ ·å¼ï¼Œå¯¹æ¯”éªŒè¯ |
| Element Plus ç‰ˆæœ¬å…¼å®¹ | ä¸‹æ‹‰èœå•ä¸æ˜¾ç¤º | ä½ | ä¸­ | æ£€æŸ¥ Element Plus ç‰ˆæœ¬ >= 2.11 |
| æœªè¯»æ¶ˆæ¯æ¥å£æœªå°±ç»ª | å¾½ç« æ˜¾ç¤ºå¼‚å¸¸ | é«˜ | ä½ | å½“å‰ mock ä¸º 0ï¼Œé¢„ç•™æ¥å£å­—æ®µ |
| Home é¡µé¢åˆ é™¤è¿‡å¤š | é¡µé¢å†…å®¹ç¼ºå¤± | ä½ | é«˜ | ä»…åˆ é™¤å¯¼èˆªæ ç›¸å…³ä»£ç ï¼Œä¿ç•™ä¸»ä½“å†…å®¹ |
| Layout æœªä¼ é€’ props | AppHeader æ— æ³•æ¸²æŸ“ | ä½ | é«˜ | åœ¨ Layout ä¸­æ·»åŠ è¯¦ç»†æ³¨é‡Šï¼Œç¡®ä¿æ‰€æœ‰ props ä¼ é€’ |

### 7.2 å›æ»šæ–¹æ¡ˆ

**å¦‚æœé‡æ„å¤±è´¥ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤å›æ»š**ï¼š

1. æ¢å¤ Home é¡µé¢çš„å¯¼èˆªæ ä»£ç ï¼ˆä» Git å†å²æˆ–å¤‡ä»½æ¢å¤ï¼‰
2. åˆ é™¤ `src/utils/navConfig.js` æ–‡ä»¶
3. æ¢å¤ `AppHeader.vue` åˆ°é‡æ„å‰çš„ç‰ˆæœ¬
4. æ¢å¤ `DefaultLayout.vue` å’Œ `AdminLayout.vue` åˆ°é‡æ„å‰çš„ç‰ˆæœ¬
5. æ¢å¤ `UserPanel.vue` åˆ°é‡æ„å‰çš„ç‰ˆæœ¬

**å»ºè®®**ï¼šåœ¨å¼€å§‹é‡æ„å‰åˆ›å»º Git åˆ†æ”¯ï¼š
```bash
git checkout -b feature/nav-refactor
git commit -m "å¤‡ä»½ï¼šå¼€å§‹å¯¼èˆªæ é‡æ„"
```

---

## å…«ã€å‚è€ƒæ–‡æ¡£

### 8.1 å†…éƒ¨æ–‡æ¡£

- `[105]å¯¼èˆªç»Ÿä¸€å¸ƒå±€å®æ–½è®¡åˆ’.md` - åŸå§‹å®æ–½è®¡åˆ’
- `[104]å¯¼èˆªç»Ÿä¸€å¸ƒå±€æ–¹æ¡ˆ.md` - æ–¹æ¡ˆè®¾è®¡æ–‡æ¡£
- `[102]homeç•Œé¢é‡æ„æ–¹æ¡ˆ.md` - Home é¡µé¢é‡æ„å‚è€ƒ
- `[000]éœ€æ±‚åˆ†ææ–‡æ¡£.md` - ä¸šåŠ¡éœ€æ±‚å®šä¹‰
- `CLAUDE.md` - é¡¹ç›®å¼€å‘è§„èŒƒ

### 8.2 æŠ€æœ¯æ–‡æ¡£

- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)
- [Element Plus ç»„ä»¶åº“](https://element-plus.org/zh-CN/)
- [Vue Router å®˜æ–¹æ–‡æ¡£](https://router.vuejs.org/zh/)
- [Pinia çŠ¶æ€ç®¡ç†](https://pinia.vuejs.org/zh/)

### 8.3 ä»£ç ä½ç½®ç´¢å¼•

| åŠŸèƒ½ | æ–‡ä»¶è·¯å¾„ | è¡Œå· |
|------|---------|------|
| Home å¯¼èˆªæ æ¨¡æ¿ | `src/views/home/index.vue` | 3-64 |
| Home å¯¼èˆªæ æ ·å¼ | `src/views/home/index.vue` | 776-1034 |
| AppHeader ç»„ä»¶ | `src/components/layout/AppHeader/index.vue` | å…¨æ–‡ |
| UserPanel ç»„ä»¶ | `src/components/layout/AppHeader/UserPanel.vue` | å…¨æ–‡ |
| DefaultLayout | `src/layouts/DefaultLayout.vue` | å…¨æ–‡ |
| AdminLayout | `src/layouts/AdminLayout.vue` | å…¨æ–‡ |
| AuthStore | `src/store/modules/auth.js` | å…¨æ–‡ |

---

## ä¹ã€å®æ–½è®°å½•

### 9.1 å®æ–½æ—¥å¿—

| æ—¥æœŸ | é˜¶æ®µ | å®Œæˆæƒ…å†µ | å¤‡æ³¨ |
|------|------|---------|------|
| 2025-11-25 | æ–¹æ¡ˆè®¾è®¡ | âœ… å®Œæˆ | åˆ›å»ºæœ¬æ–¹æ¡ˆæ–‡æ¡£ |
|  |  |  |  |
|  |  |  |  |

### 9.2 é—®é¢˜è®°å½•

| é—®é¢˜æè¿° | è§£å†³æ–¹æ¡ˆ | è®°å½•äºº | æ—¥æœŸ |
|---------|---------|--------|------|
|  |  |  |  |
|  |  |  |  |

---

## åã€é™„å½•

### 10.1 å¸¸è§é—®é¢˜ FAQ

**Q1ï¼šä¸ºä»€ä¹ˆè¦åˆ›å»º navConfig.js æ–‡ä»¶ï¼Ÿ**
Aï¼šé›†ä¸­ç®¡ç†æ‰€æœ‰è§’è‰²çš„å¯¼èˆªé…ç½®ï¼Œæ–¹ä¾¿ç»´æŠ¤å’Œæ‰©å±•ã€‚åç»­æ–°å¢è§’è‰²æˆ–ä¿®æ”¹å¯¼èˆªé¡¹ï¼Œåªéœ€ä¿®æ”¹é…ç½®æ–‡ä»¶å³å¯ã€‚

**Q2ï¼šä¸ºä»€ä¹ˆè¦åˆ é™¤ Home é¡µé¢çš„å¯¼èˆªæ ä»£ç ï¼Ÿ**
Aï¼šé¿å…ä»£ç é‡å¤ï¼Œç»Ÿä¸€ä½¿ç”¨ AppHeader ç»„ä»¶ã€‚è¿™æ ·ä¿®æ”¹å¯¼èˆªæ æ—¶åªéœ€ä¿®æ”¹ä¸€å¤„ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚

**Q3ï¼šå¦‚ä½•æ–°å¢ä¸€ä¸ªå¯¼èˆªé¡¹ï¼Ÿ**
Aï¼šåœ¨ `navConfig.js` ä¸­å¯¹åº”è§’è‰²çš„ `navItems` æ•°ç»„ä¸­æ·»åŠ æ–°çš„é…ç½®å¯¹è±¡å³å¯ã€‚

**Q4ï¼šå¦‚ä½•æ”¯æŒæ–°çš„ç”¨æˆ·è§’è‰²ï¼Ÿ**
Aï¼šåœ¨ `navConfig.js` ä¸­çš„ `navConfigs` å¯¹è±¡ä¸­æ·»åŠ æ–°è§’è‰²çš„é…ç½®ï¼Œå¹¶åœ¨ `USER_ROLES` æšä¸¾ä¸­æ·»åŠ æ–°è§’è‰²ã€‚

**Q5ï¼šæœªè¯»æ¶ˆæ¯æ•°æ®å¦‚ä½•å¯¹æ¥ï¼Ÿ**
Aï¼šåç»­åœ¨ Layout ä¸­ä¿®æ”¹ `unreadCount` è®¡ç®—å±æ€§ï¼Œä» authStore æˆ– API è·å–çœŸå®æ•°æ®ã€‚

### 10.2 æœ¯è¯­è¡¨

| æœ¯è¯­ | è¯´æ˜ |
|------|------|
| é…ç½®é©±åŠ¨ | é€šè¿‡é…ç½®æ–‡ä»¶è€Œéç¡¬ç¼–ç æ¥æ§åˆ¶ç»„ä»¶è¡Œä¸º |
| Props æ³¨å…¥ | é€šè¿‡ Props å‘å­ç»„ä»¶ä¼ é€’æ•°æ® |
| å¯¼èˆªé«˜äº® | å½“å‰é¡µé¢å¯¹åº”çš„å¯¼èˆªé¡¹æ˜¾ç¤ºæ¿€æ´»çŠ¶æ€ |
| ç™»å½•æ‹¦æˆª | æœªç™»å½•ç”¨æˆ·è®¿é—®éœ€ç™»å½•åŠŸèƒ½æ—¶è·³è½¬åˆ°ç™»å½•é¡µ |
| å¿«æ·æ“ä½œ | ç”¨æˆ·ä¸‹æ‹‰èœå•ä¸­çš„æ“ä½œé¡¹ï¼ˆå¦‚ä¸ªäººä¸­å¿ƒã€é€€å‡ºç™»å½•ï¼‰ |
| matchRoute | è‡ªå®šä¹‰è·¯ç”±åŒ¹é…å‡½æ•°ï¼Œç”¨äºå­è·¯ç”±é«˜äº®çˆ¶çº§å¯¼èˆª |
| variant | ç»„ä»¶æ ·å¼å˜ä½“ï¼Œå¦‚ defaultï¼ˆé»˜è®¤ï¼‰ã€transparentï¼ˆé€æ˜ï¼‰ |
| badgeKey | æœªè¯»å¾½ç« çš„é”®åï¼Œç”¨äºæ˜ å°„æœªè¯»æ¶ˆæ¯æ•°é‡ |

---

**æ–‡æ¡£ç»“æŸ**

å¦‚æœ‰ç–‘é—®æˆ–éœ€è¦è¡¥å……ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æŸ¥é˜…å‚è€ƒæ–‡æ¡£ã€‚
