# 交互记忆台账（替代 memory MCP）

> 说明：由于当前运行环境未提供可调用的 `memory` MCP 工具，本项目以本文件作为等效“记忆载体”，按时间戳记录关键交互节点与决策，确保可追溯。

## 2025-12-18

- 17:00：用户提出需求：实现“信息中心/消息中心”页面，参考 CSDN 消息页面，导航栏区分消息类型（我的消息、收藏关注、评论和回复）。
- 17:01：确认约束：Vue3 + Vite + Element Plus；不新增测试文件；页面入口为 `src/views/message/MessageCenter/index.vue`，路由为 `/messages`。
- 17:02：技术决策：采用 Element Plus 的 `el-tabs` + 左右两栏布局，使用 mock 数据占位，后续接入 API 可直接替换数据源。
- 17:03：执行进展：完成 `src/views/message/MessageCenter/index.vue` 页面骨架（顶部标题+分类导航+左列表右详情），并加入搜索过滤、标记已读、删除（前端模拟）等基础交互。
- 17:04：验证：执行 `npm run build` 构建通过，确认页面代码可编译打包。
- 17:06：文档同步：已更新 `project_document/[000]功能模块文档.md` 的“消息中心”模块状态与最新更新记录，补充本次实现说明与方案引用（[130]）。
- 17:09：版本归档：创建 Git 提交 `7512b6c`，用于追踪本次“消息中心页面实现”变更。
- 17:12：用户新增需求：在消息中心现有页面上去除“消息中心”标题与“消息设置”，并将搜索条移动到顶部导航栏（Tabs 行）右侧。
- 17:13：验证：执行 `npm run build` 构建通过，确认改动后可编译打包。
- 17:14：版本归档：创建 Git 提交 `506ec1c`，用于追踪本次“消息中心页头优化（搜索上移）”变更。
- 17:15：文档补记：补充计划文件提交信息（追加文档提交 `07cac89` 与 `c85e51c`），确保计划可追溯。
- 19:37：用户新增需求：在“我的消息”下增加私信功能，学生可与企业/其他学生进行私信交流，交互类似 QQ/微信。
- 19:40：技术决策：本次先采用“方案 A：前端 mock + localStorage 持久化”实现私信闭环（会话列表、聊天窗口、发送、发起私信），后续再按“方案 B：后端 API + WebSocket”迭代为真实 IM。
- 19:44：文档同步：已新增实施方案 `project_document/[133]消息中心-私信功能（QQ微信式）实现方案.md` 并更新 `project_document/[000]功能模块文档.md` 记录本次私信能力。
- 19:46：版本归档：创建 Git 提交 `28b61f9`，用于追踪本次“消息中心私信功能（前端 mock）”实现。
- 19:52：缺陷反馈：消息中心导航切换/按钮点击卡顿，控制台报错 `TypeError: Cannot read properties of undefined (reading 'id')`（定位到 `MessageCenter/index.vue` 列表渲染）。
- 19:55：修复决策：修正 `filteredNotices` 误返回 computed 对象（补 `.value`），并对私信 localStorage 写入做节流以缓解卡顿。
- 19:56：快速验证：短暂启动 `npm run dev`，确认开发服务可启动且无立即编译错误。
