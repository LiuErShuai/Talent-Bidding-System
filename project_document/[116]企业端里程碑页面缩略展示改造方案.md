# 企业端里程碑页面缩略展示改造方案

- **背景**：当前企业端里程碑页面在时间轴布局中直接展示较多信息（承接方提交摘要、发布方操作区、审核历史等），导致页面信息密度过高，不利于快速浏览。用户希望将企业端里程碑页面改为和学生端类似的形式，即里程碑卡片仅显示缩略信息，详细信息通过点击详情按钮在弹窗中查看。
- **目标**：优化企业端里程碑页面的信息展示方式，实现缩略信息快速浏览+详情弹窗深度查看的交互模式，提升用户体验。
- **时间戳**：2025-01-XX

---

## 目录

1. [现状分析](#1-现状分析)
2. [改造目标](#2-改造目标)
3. [详细改造方案](#3-详细改造方案)
   - 3.1 [里程碑卡片缩略化改造](#31-里程碑卡片缩略化改造)
   - 3.2 [详情弹窗内容扩展](#32-详情弹窗内容扩展)
   - 3.3 [发布方专属功能保留策略](#33-发布方专属功能保留策略)
   - 3.4 [交互流程优化](#34-交互流程优化)
4. [技术实现方案](#4-技术实现方案)
5. [数据结构调整](#5-数据结构调整)
6. [样式设计](#6-样式设计)
7. [实施计划](#7-实施计划)

---

## 1. 现状分析

### 1.1 当前实现情况

**文件位置**：`src/views/project/Detail/index.vue`

**当前布局**：
- 使用时间轴布局（`milestone-timeline`）
- 每个里程碑卡片包含以下内容：
  1. **基础信息**：标题、状态标签、计划日期、实际完成日期、延迟天数
  2. **缩略描述**：描述文本（最多100字符）
  3. **摘要信息**：交付物数量、进度百分比
  4. **承接方提交摘要区域**（仅发布方可见）：显示申请者信息、申请理由、方案标题、技术栈等
  5. **发布方操作区**（仅发布方可见）：审核按钮、跳过按钮等
  6. **审核历史记录**（折叠面板）：审核记录列表
  7. **承接方操作区**（仅承接方可见）：更新进度、提交等按钮

**详情弹窗现状**：
- 已实现详情弹窗（`MILESTONE_DETAIL_DIALOG`）
- 弹窗宽度：950px
- 包含内容：
  - 基本信息
  - 交付物列表
  - 项目参与者信息（详细进度、沟通记录、内部备注、内部附件）
  - 操作按钮（更新进度/提交）

### 1.2 存在的问题

1. **信息密度过高**：
   - 里程碑卡片中直接展示承接方提交摘要、发布方操作区、审核历史等，导致卡片高度过大
   - 用户需要滚动较多内容才能浏览所有里程碑
   - 不利于快速浏览和对比多个里程碑

2. **与学生端体验不一致**：
   - 学生端采用缩略信息+详情弹窗的模式，体验更简洁
   - 企业端信息展示方式不同，用户学习成本增加

3. **详情弹窗内容不完整**：
   - 详情弹窗中缺少承接方提交摘要的完整展示
   - 缺少审核历史记录的详细展示
   - 缺少发布方操作入口（审核、跳过等）

### 1.3 参考实现

**学生端里程碑页面**（`src/views/project/Tracker/index.vue`）：
- 使用卡片网格布局
- 里程碑卡片仅显示：
  - 标题、状态标签
  - 计划日期
  - 缩略描述（最多2行）
  - 交付物数量、过程任务数量
  - 进度条
  - "查看详情"按钮
- 详情弹窗包含完整信息

---

## 2. 改造目标

### 2.1 核心目标

1. **缩略信息展示**：里程碑卡片仅显示核心缩略信息，便于快速浏览
2. **详情弹窗扩展**：将承接方提交摘要、发布方操作区、审核历史等详细信息移至详情弹窗
3. **交互一致性**：与企业端其他页面、学生端里程碑页面保持一致的交互模式
4. **功能完整性**：确保所有功能（审核、跳过、查看历史等）在详情弹窗中可正常使用

### 2.2 改造范围

- **里程碑卡片**：精简为缩略信息展示
- **详情弹窗**：扩展为完整信息展示，包含所有发布方专属功能
- **交互流程**：优化点击详情按钮后的交互体验

---

## 3. 详细改造方案

### 3.1 里程碑卡片缩略化改造

#### 3.1.1 卡片内容精简

**保留内容**：
1. **顶部区域**：
   - 里程碑标题
   - 状态标签
   - "查看详情"按钮（右上角）

2. **基础信息**：
   - 计划日期（图标+日期）
   - 实际完成日期（如有）
   - 延迟天数（如有，红色高亮）

3. **缩略描述**：
   - 描述文本（最多2行，超出省略）
   - 使用CSS `-webkit-line-clamp: 2` 实现

4. **摘要信息**（图标+文字）：
   - 交付物数量：`交付物：X 项`
   - 进度百分比：`进度：X%`（如有进度详情）
   - 过程任务数量：`X 个过程任务`（如有）

5. **发布方专属提示**（仅发布方可见）：
   - 待审核提示：当里程碑状态为 `in-progress` 且需要审核时，显示红色角标或提示文字
   - 承接方已提交提示：当有承接方提交摘要时，显示"有新的提交"提示

**移除内容**（移至详情弹窗）：
- 承接方提交摘要区域
- 发布方操作区（审核按钮、跳过按钮等）
- 审核历史记录（折叠面板）
- 承接方操作区（更新进度、提交按钮等）

#### 3.1.2 卡片布局代码

```vue
<!-- 里程碑卡片（缩略版） -->
<div class="milestone-card">
  <!-- 顶部区域 -->
  <div class="milestone-header">
    <div class="milestone-title-row">
      <h3 class="milestone-title">{{ milestone.title }}</h3>
      <div class="milestone-header-actions">
        <el-tag
          :type="getMilestoneTagType(milestone.status)"
          size="small"
        >
          {{ getMilestoneStatusText(milestone.status) }}
        </el-tag>
        <!-- 发布方专属：待审核提示 -->
        <el-badge
          v-if="isPublisher && needsPublisherReview(milestone)"
          :value="1"
          class="review-badge"
        >
          <el-icon><Bell /></el-icon>
        </el-badge>
        <el-button
          type="primary"
          size="small"
          text
          @click="openMilestoneDetailDialog(milestone)"
        >
          查看详情
          <el-icon><ArrowRight /></el-icon>
        </el-button>
      </div>
    </div>
    <div class="milestone-meta">
      <span class="milestone-date">
        <el-icon><Calendar /></el-icon>
        {{ milestone.plannedDate }}
      </span>
      <span v-if="milestone.actualDate" class="milestone-actual-date">
        实际完成：{{ milestone.actualDate }}
      </span>
      <span
        v-if="milestone.delayDays && milestone.delayDays > 0"
        class="milestone-delay"
      >
        延迟 {{ milestone.delayDays }} 天
      </span>
    </div>
  </div>

  <!-- 缩略描述（最多2行） -->
  <div class="milestone-description-short">
    <p>{{ truncateText(milestone.description, 100) }}</p>
  </div>

  <!-- 摘要信息 -->
  <div class="milestone-summary">
    <div
      v-if="milestone.deliverables && milestone.deliverables.length > 0"
      class="summary-item"
    >
      <el-icon><Document /></el-icon>
      <span>交付物：{{ milestone.deliverables.length }} 项</span>
    </div>
    <div v-if="milestone.progressDetail" class="summary-item">
      <el-icon><TrendCharts /></el-icon>
      <span>进度：{{ milestone.progressDetail.percentage }}%</span>
    </div>
    <div
      v-if="milestone.processChecklist && milestone.processChecklist.length > 0"
      class="summary-item"
    >
      <el-icon><List /></el-icon>
      <span>{{ milestone.processChecklist.length }} 个过程任务</span>
    </div>
  </div>

  <!-- 发布方专属：承接方已提交提示 -->
  <div
    v-if="isPublisher && milestone.submissionSummary"
    class="submission-hint"
  >
    <el-icon><Document /></el-icon>
    <span>承接方已提交，待审核</span>
  </div>
</div>
```

### 3.2 详情弹窗内容扩展

#### 3.2.1 弹窗内容结构

详情弹窗需要包含以下所有内容：

1. **基本信息**（已有，保持不变）
   - 标题、状态、描述
   - 阶段编码、计划日期、实际完成日期、延迟天数

2. **交付物列表**（已有，保持不变）

3. **承接方提交摘要区域**（新增，从卡片移至弹窗）
   - 完整展示承接方提交内容
   - 根据里程碑类型显示不同摘要信息
   - 提供"查看完整内容"和"查看历史版本"按钮

4. **发布方操作区**（新增，从卡片移至弹窗）
   - 审核按钮（通过/驳回/要求修改）
   - 跳过按钮（仅中期答辩）
   - 其他发布方专属操作

5. **审核历史记录**（新增，从卡片移至弹窗）
   - 完整审核历史列表
   - 审核人、时间、结果、意见、附件等

6. **项目参与者信息**（已有，保持不变）
   - 详细进度、沟通记录、内部备注、内部附件

7. **过程任务清单**（如有，新增）
   - 显示过程任务列表及状态

8. **操作按钮**（已有，需优化）
   - 承接方操作：更新进度/提交
   - 发布方操作：审核/跳过等（移至发布方操作区）

#### 3.2.2 弹窗布局代码结构

```vue
<el-dialog
  v-model="milestoneDetailDialogVisible"
  :title="selectedMilestoneForDetail ? selectedMilestoneForDetail.title + ' - 详情' : '里程碑详情'"
  width="950px"
  :close-on-click-modal="false"
  destroy-on-close
>
  <div v-if="selectedMilestoneForDetail" class="milestone-detail-content">
    <!-- 1. 基本信息 -->
    <div class="detail-section">
      <!-- 保持原有实现 -->
    </div>

    <!-- 2. 交付物列表 -->
    <div v-if="selectedMilestoneForDetail.deliverables && selectedMilestoneForDetail.deliverables.length > 0" class="detail-section">
      <!-- 保持原有实现 -->
    </div>

    <!-- 3. 承接方提交摘要区域（仅发布方可见，从卡片移至弹窗） -->
    <div
      v-if="isPublisher && selectedMilestoneForDetail.submissionSummary"
      class="detail-section submission-summary-section"
    >
      <div class="section-header">
        <el-icon><Document /></el-icon>
        <h4>承接方提交摘要</h4>
        <el-tag
          v-if="selectedMilestoneForDetail.submissionSummary.version"
          size="small"
          type="info"
        >
          v{{ selectedMilestoneForDetail.submissionSummary.version }}
        </el-tag>
      </div>
      <div class="section-content">
        <!-- 根据里程碑类型显示不同摘要内容 -->
        <!-- 揭榜征集、方案提交、中期答辩、成果提交等 -->
      </div>
      <div class="submission-actions">
        <el-button type="text" size="small" @click="viewSubmissionDetail(selectedMilestoneForDetail)">
          查看完整内容 <el-icon><ArrowRight /></el-icon>
        </el-button>
        <el-button
          v-if="selectedMilestoneForDetail.submissionSummary.hasHistory"
          type="text"
          size="small"
          @click="viewSubmissionHistory(selectedMilestoneForDetail)"
        >
          查看历史版本 <el-icon><Clock /></el-icon>
        </el-button>
      </div>
    </div>

    <!-- 4. 发布方操作区（仅发布方可见，从卡片移至弹窗） -->
    <div
      v-if="isPublisher && needsPublisherReview(selectedMilestoneForDetail)"
      class="detail-section publisher-actions-section"
    >
      <div class="section-header">
        <el-icon><EditPen /></el-icon>
        <h4>发布方操作</h4>
      </div>
      <div class="actions-buttons">
        <!-- 根据里程碑类型显示不同操作按钮 -->
        <!-- 揭榜征集：通过/拒绝申请 -->
        <!-- 中期答辩：进入答辩/跳过 -->
        <!-- 其他里程碑：通用审核按钮 -->
      </div>
    </div>

    <!-- 5. 审核历史记录（项目参与者可见，从卡片移至弹窗） -->
    <div
      v-if="isProjectParticipant && selectedMilestoneForDetail.reviewHistory && selectedMilestoneForDetail.reviewHistory.length > 0"
      class="detail-section review-history-section"
    >
      <div class="section-header">
        <el-icon><Clock /></el-icon>
        <h4>审核历史</h4>
        <span class="count-badge">{{ selectedMilestoneForDetail.reviewHistory.length }} 条</span>
      </div>
      <div class="section-content">
        <div class="review-history-list">
          <!-- 审核记录列表 -->
        </div>
      </div>
    </div>

    <!-- 6. 项目参与者信息（已有，保持不变） -->
    <div v-if="isProjectParticipant" class="detail-section sensitive-section">
      <!-- 保持原有实现 -->
    </div>

    <!-- 7. 过程任务清单（如有） -->
    <div
      v-if="selectedMilestoneForDetail.processChecklist && selectedMilestoneForDetail.processChecklist.length > 0"
      class="detail-section"
    >
      <div class="section-header">
        <h4>过程任务</h4>
        <span class="count-badge">{{ selectedMilestoneForDetail.processChecklist.length }} 个</span>
      </div>
      <div class="section-content">
        <!-- 过程任务列表 -->
      </div>
    </div>
  </div>

  <template #footer>
    <div class="dialog-footer">
      <el-button @click="milestoneDetailDialogVisible = false">关闭</el-button>
      <!-- 承接方操作按钮（仅承接方可见） -->
      <el-button
        v-if="isBidder && canOperateMilestone(selectedMilestoneForDetail)"
        type="primary"
        @click="handleMilestoneActionFromDetail"
      >
        <el-icon v-if="isSimpleMilestone(selectedMilestoneForDetail)"><Edit /></el-icon>
        <el-icon v-else><Upload /></el-icon>
        {{ isSimpleMilestone(selectedMilestoneForDetail) ? '更新进度' : '提交' + selectedMilestoneForDetail.title }}
      </el-button>
    </div>
  </template>
</el-dialog>
```

### 3.3 发布方专属功能保留策略

#### 3.3.1 功能保留原则

1. **所有发布方专属功能必须保留**：
   - 承接方提交摘要查看
   - 审核操作（通过/驳回/要求修改）
   - 跳过里程碑功能
   - 审核历史记录查看

2. **功能位置调整**：
   - 从里程碑卡片移至详情弹窗
   - 在详情弹窗中集中展示，便于操作

3. **快速入口保留**：
   - 在里程碑卡片上保留待审核提示（角标或文字）
   - 点击详情按钮后，弹窗自动滚动到发布方操作区（如有）

#### 3.3.2 交互优化

1. **待审核提示**：
   - 在里程碑卡片上显示红色角标或"待审核"文字
   - 点击详情按钮后，弹窗打开并自动定位到发布方操作区

2. **操作流程**：
   - 发布方点击"查看详情" → 弹窗打开 → 查看承接方提交摘要 → 执行审核操作
   - 审核操作在弹窗内完成，无需跳转

### 3.4 交互流程优化

#### 3.4.1 用户操作流程

**发布方操作流程**：
1. 浏览里程碑列表（缩略信息）
2. 发现待审核里程碑（红色角标提示）
3. 点击"查看详情"按钮
4. 弹窗打开，自动滚动到承接方提交摘要区域
5. 查看提交内容
6. 在发布方操作区执行审核操作
7. 查看审核历史记录

**承接方操作流程**：
1. 浏览里程碑列表（缩略信息）
2. 点击"查看详情"按钮
3. 弹窗打开，查看完整信息
4. 在弹窗底部或操作区执行提交/更新操作

#### 3.4.2 弹窗自动定位

当发布方点击待审核里程碑的详情按钮时，弹窗打开后自动滚动到发布方操作区：

```javascript
const openMilestoneDetailDialog = (milestone) => {
  selectedMilestoneForDetail.value = milestone
  milestoneDetailDialogVisible.value = true
  
  // 如果是发布方且需要审核，自动滚动到操作区
  if (isPublisher.value && needsPublisherReview(milestone)) {
    nextTick(() => {
      const actionsSection = document.querySelector('.publisher-actions-section')
      if (actionsSection) {
        actionsSection.scrollIntoView({ behavior: 'smooth', block: 'start' })
      }
    })
  }
}
```

---

## 4. 技术实现方案

### 4.1 代码修改位置

**主要修改文件**：
- `src/views/project/Detail/index.vue`

**修改范围**：
1. **模板部分**（约330-635行）：
   - 精简里程碑卡片内容
   - 移除承接方提交摘要、发布方操作区、审核历史记录从卡片
   - 保留"查看详情"按钮

2. **详情弹窗部分**（约725-885行）：
   - 扩展详情弹窗内容
   - 添加承接方提交摘要区域
   - 添加发布方操作区
   - 添加审核历史记录区域
   - 添加过程任务清单区域

3. **脚本部分**（约1670-1703行）：
   - 优化 `openMilestoneDetailDialog` 函数
   - 添加弹窗自动定位逻辑

4. **样式部分**（约2658-3300行）：
   - 优化里程碑卡片样式（使其更简洁）
   - 扩展详情弹窗样式
   - 添加发布方专属区域样式

### 4.2 关键函数调整

#### 4.2.1 文本截断函数

```javascript
// 截断文本（用于缩略描述）
const truncateText = (text, maxLength = 100) => {
  if (!text) return ''
  if (text.length <= maxLength) return text
  return text.substring(0, maxLength) + '...'
}
```

#### 4.2.2 打开详情弹窗函数

```javascript
// 打开里程碑详情弹窗（优化版）
const openMilestoneDetailDialog = (milestone) => {
  selectedMilestoneForDetail.value = milestone
  milestoneDetailDialogVisible.value = true
  
  // 如果是发布方且需要审核，延迟滚动到操作区
  if (isPublisher.value && needsPublisherReview(milestone)) {
    nextTick(() => {
      setTimeout(() => {
        const actionsSection = document.querySelector('.publisher-actions-section')
        if (actionsSection) {
          actionsSection.scrollIntoView({ behavior: 'smooth', block: 'start' })
        }
      }, 300) // 等待弹窗动画完成
    })
  }
}
```

#### 4.2.3 判断是否需要发布方审核

```javascript
// 判断当前里程碑是否需要发布方审核
const needsPublisherReview = (milestone) => {
  return milestone.status === 'in-progress' && 
         ['BIDDING', 'PROPOSAL', 'MIDTERM', 'DELIVERY', 'REVIEW', 'ANNOUNCEMENT'].includes(milestone.code)
}
```

---

## 5. 数据结构调整

### 5.1 数据结构保持不变

里程碑数据结构无需调整，现有数据结构已包含所需字段：
- `submissionSummary`：承接方提交摘要
- `reviewHistory`：审核历史记录
- `processChecklist`：过程任务清单
- 其他字段保持不变

### 5.2 数据展示逻辑调整

**卡片展示逻辑**：
- 仅展示基础字段的缩略信息
- 不展示 `submissionSummary`、`reviewHistory` 的详细内容

**弹窗展示逻辑**：
- 完整展示所有字段的详细信息
- 根据用户角色（发布方/承接方）显示/隐藏相应区域

---

## 6. 样式设计

### 6.1 里程碑卡片样式优化

```css
/* 里程碑卡片（缩略版） */
.milestone-card {
  padding: 16px;
  border-radius: 8px;
  background: #fff;
  border: 1px solid #e4e7ed;
  transition: all 0.3s;
  min-height: 180px; /* 固定最小高度，保持卡片一致性 */
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.milestone-card:hover {
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-color: #409eff;
}

.milestone-header {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.milestone-title-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 12px;
}

.milestone-title {
  margin: 0;
  font-size: 16px;
  font-weight: 600;
  color: #303133;
  flex: 1;
}

.milestone-header-actions {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-shrink: 0;
}

.milestone-meta {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  font-size: 13px;
  color: #909399;
}

.milestone-description-short {
  margin: 8px 0;
}

.milestone-description-short p {
  margin: 0;
  color: #606266;
  font-size: 14px;
  line-height: 1.6;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

.milestone-summary {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
  margin-top: auto; /* 推到底部 */
}

.summary-item {
  display: flex;
  align-items: center;
  gap: 6px;
  color: #909399;
  font-size: 13px;
}

/* 发布方专属：承接方已提交提示 */
.submission-hint {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  background: #ecf5ff;
  border-radius: 4px;
  color: #409eff;
  font-size: 13px;
  margin-top: 8px;
}

/* 待审核角标 */
.review-badge {
  margin-right: 4px;
}
```

### 6.2 详情弹窗样式扩展

```css
/* 详情弹窗内容区域 */
.milestone-detail-content {
  max-height: 70vh;
  overflow-y: auto;
  padding-right: 8px; /* 为滚动条留出空间 */
}

/* 承接方提交摘要区域（在弹窗中） */
.detail-section.submission-summary-section {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
  border: 1px solid #e3e8ef;
}

/* 发布方操作区（在弹窗中） */
.detail-section.publisher-actions-section {
  background: #f5f7fa;
  border-radius: 8px;
  padding: 16px;
  border-left: 4px solid #409eff;
}

.actions-buttons {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
  margin-top: 12px;
}

/* 审核历史记录区域（在弹窗中） */
.detail-section.review-history-section {
  background: #fafafa;
  border-radius: 8px;
  padding: 16px;
}

.review-history-list {
  max-height: 400px;
  overflow-y: auto;
  margin-top: 12px;
}
```

---

## 7. 实施计划

### 7.1 实施步骤

#### 步骤1：里程碑卡片精简（预计1小时）

1. 修改里程碑卡片模板，移除以下内容：
   - 承接方提交摘要区域（`submission-summary-section`）
   - 发布方操作区（`publisher-actions-section`）
   - 审核历史记录（`review-history-collapse`）
   - 承接方操作区（`milestone-actions`）

2. 保留并优化以下内容：
   - 顶部区域（标题、状态、查看详情按钮）
   - 基础信息（日期、延迟天数）
   - 缩略描述
   - 摘要信息（交付物数量、进度、过程任务数量）

3. 添加发布方专属提示：
   - 待审核角标（`review-badge`）
   - 承接方已提交提示（`submission-hint`）

4. 更新卡片样式，使其更简洁

#### 步骤2：详情弹窗内容扩展（预计2小时）

1. 在详情弹窗中添加承接方提交摘要区域：
   - 从卡片代码复制相关代码
   - 调整样式适配弹窗环境
   - 确保权限控制正确（仅发布方可见）

2. 在详情弹窗中添加发布方操作区：
   - 从卡片代码复制相关代码
   - 调整按钮布局
   - 确保权限控制正确（仅发布方可见）

3. 在详情弹窗中添加审核历史记录区域：
   - 从卡片代码复制相关代码
   - 将折叠面板改为直接展示（或保留折叠）
   - 调整样式适配弹窗环境

4. 在详情弹窗中添加过程任务清单区域（如有）

5. 优化弹窗底部操作按钮区域

#### 步骤3：交互逻辑优化（预计1小时）

1. 优化 `openMilestoneDetailDialog` 函数：
   - 添加弹窗自动定位逻辑
   - 处理发布方待审核场景

2. 测试各种交互场景：
   - 发布方查看待审核里程碑
   - 发布方查看已完成里程碑
   - 承接方查看里程碑
   - 访客查看里程碑

#### 步骤4：样式优化（预计1小时）

1. 优化里程碑卡片样式：
   - 固定最小高度
   - 优化间距和布局
   - 添加悬停效果

2. 优化详情弹窗样式：
   - 调整各区域样式
   - 确保滚动流畅
   - 优化响应式布局

3. 测试不同屏幕尺寸下的显示效果

#### 步骤5：测试与优化（预计1小时）

1. 功能测试：
   - 测试所有发布方功能（审核、跳过等）
   - 测试所有承接方功能（更新进度、提交等）
   - 测试权限控制

2. 交互测试：
   - 测试弹窗打开/关闭
   - 测试自动定位功能
   - 测试滚动体验

3. 兼容性测试：
   - 测试不同浏览器
   - 测试不同屏幕尺寸

### 7.2 验收标准

1. **里程碑卡片**：
   - ✅ 仅显示缩略信息
   - ✅ 卡片高度适中，便于快速浏览
   - ✅ 发布方可见待审核提示
   - ✅ 点击"查看详情"按钮正常打开弹窗

2. **详情弹窗**：
   - ✅ 包含所有详细信息
   - ✅ 承接方提交摘要区域正常显示（仅发布方可见）
   - ✅ 发布方操作区正常显示和操作（仅发布方可见）
   - ✅ 审核历史记录正常显示
   - ✅ 所有功能正常工作

3. **交互体验**：
   - ✅ 弹窗打开流畅
   - ✅ 发布方点击待审核里程碑时，弹窗自动定位到操作区
   - ✅ 滚动体验良好
   - ✅ 响应式布局正常

### 7.3 风险评估

1. **功能遗漏风险**：
   - 风险：在移动内容时可能遗漏某些功能
   - 应对：仔细对比卡片和弹窗代码，确保所有功能都已迁移

2. **权限控制风险**：
   - 风险：权限控制逻辑可能出错
   - 应对：仔细检查 `v-if` 条件，确保权限控制正确

3. **样式兼容性风险**：
   - 风险：弹窗中的样式可能与原有样式冲突
   - 应对：使用 `scoped` 样式或添加特定类名避免冲突

---

## 8. 预期效果

### 8.1 用户体验提升

1. **快速浏览**：
   - 里程碑列表更简洁，用户可以快速浏览所有里程碑
   - 信息密度降低，减少视觉疲劳

2. **深度查看**：
   - 点击详情按钮后，在弹窗中查看完整信息
   - 所有功能集中在一个弹窗中，操作更便捷

3. **一致性**：
   - 与企业端其他页面、学生端里程碑页面保持一致的交互模式
   - 降低用户学习成本

### 8.2 功能完整性

- ✅ 所有发布方专属功能保留
- ✅ 所有承接方功能保留
- ✅ 所有查看功能保留
- ✅ 权限控制正确

---

## 9. 后续优化建议

1. **性能优化**：
   - 如果里程碑数据量大，考虑虚拟滚动
   - 弹窗内容懒加载

2. **交互优化**：
   - 考虑添加键盘快捷键（如 ESC 关闭弹窗）
   - 考虑添加弹窗内搜索功能

3. **可访问性**：
   - 添加 ARIA 标签
   - 优化键盘导航

---

**文档结束**





