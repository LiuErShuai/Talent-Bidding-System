import{_ as ee,r as d,c as r,y as te,a as n,b as s,w as se,f as C,v as le,F as g,d as _,l as I,t as a,u as ae,o as i,n as f,z as oe}from"./index-DnkofVqd.js";const ne={class:"project-hall-page"},ie={class:"page-body"},ce={class:"search-filter-section"},de={class:"search-row"},re={class:"search-box"},ue={key:0,class:"search-suggestions"},ve=["onClick"],ge={class:"suggestion-title"},_e={class:"suggestion-company"},fe={class:"filter-rows"},he={class:"filter-row"},be=["onClick"],pe={class:"filter-row"},ke=["onClick"],we={class:"filter-row"},me=["onClick"],ye={class:"filter-row sort-row"},Ce=["onClick"],xe={class:"project-list-section"},Te={class:"list-header"},De={key:0,class:"project-list"},Se=["onClick"],je={class:"project-card-main"},Ae={class:"project-card-left"},$e={class:"project-card-title-row"},Ve={class:"project-badges"},Le={class:"project-title"},Pe={class:"project-meta-row"},Ie={class:"meta-item"},Ne={class:"meta-item"},Oe={class:"meta-item"},Re={class:"project-brief"},Ee={class:"project-footer-row"},He={class:"project-actions"},Me=["onClick"],Be={class:"project-stats"},Fe={class:"stat-text"},Ue={class:"like-text"},We={class:"project-card-right"},ze={class:"reward"},Ge={key:1,class:"empty-state"},Xe={key:2,class:"pagination"},Ye=["disabled"],Ze=["onClick"],qe=["disabled"],Je={__name:"index",setup(Ke){const D=ae(),S=d(!1);d(!1);const N=d(0),j=d({username:"张三",role:"student",avatar:"https://picsum.photos/seed/user123/40/40.jpg"});r(()=>j.value.role||"student");const O=()=>{if(localStorage.getItem("token")){S.value=!0;const t=localStorage.getItem("userData");t&&(j.value=JSON.parse(t))}else S.value=!1,N.value=0},v=d(""),w=d(!1),m=d("all"),u=d(["all"]),h=d("all"),p=d("comprehensive"),c=d(1),x=d(5),R=[{label:"全部",value:"all"},{label:"软件工程",value:"software"},{label:"人工智能",value:"ai"},{label:"大数据",value:"big-data"},{label:"移动开发",value:"mobile"},{label:"Web前端",value:"frontend"}],E=[{label:"全部",value:"all"},{label:"揭榜中",value:"bidding"},{label:"评审中",value:"reviewing"},{label:"公示中",value:"publishing"},{label:"已完成",value:"completed"}],H=[{label:"全部",value:"all"},{label:"0-5千",value:"0-5k"},{label:"5千-1万",value:"5k-10k"},{label:"1万-3万",value:"10k-30k"},{label:"3万以上",value:"30k+"}],M=[{label:"综合排序",value:"comprehensive"},{label:"最新发布",value:"latest"},{label:"奖金最高",value:"reward-desc"},{label:"即将截止",value:"deadline-asc"}],B={bidding:"揭榜中",reviewing:"评审中",publishing:"公示中",completed:"已完成"},F=d([{id:1,title:"AI智能客服系统开发",company:"XX科技有限公司",field:"人工智能",fieldValue:"ai",status:"bidding",reward:15e3,deadlineDays:7,brief:"需要开发一套基于自然语言处理的智能客服系统，用于提升客户服务效率...",tag:"HOT",tagText:"HOT",joinCount:12,likeCount:45,createdAt:"2025-01-10"},{id:2,title:"电商平台前端开发",company:"YY网络公司",field:"Web前端",fieldValue:"frontend",status:"bidding",reward:8e3,deadlineDays:5,brief:"开发一个现代化的电商平台前端页面，支持响应式布局和多终端适配...",tag:"NEW",tagText:"NEW",joinCount:8,likeCount:32,createdAt:"2025-01-14"},{id:3,title:"数据分析与可视化项目",company:"ZZ数据公司",field:"大数据",fieldValue:"big-data",status:"reviewing",reward:1e4,deadlineDays:0,brief:"需要对销售数据进行深度分析并制作可视化报表，支持多维度钻取分析...",tag:"",tagText:"",joinCount:15,likeCount:28,createdAt:"2025-01-05"},{id:4,title:"移动学习APP开发",company:"智慧教育科技有限公司",field:"移动开发",fieldValue:"mobile",status:"bidding",reward:2e4,deadlineDays:3,brief:"开发一款面向高校学生的移动学习应用，支持课程学习、作业提交、在线测验等...",tag:"URGENT",tagText:"急",joinCount:20,likeCount:60,createdAt:"2025-01-15"},{id:5,title:"高校实验室管理系统",company:"校园信息化中心",field:"软件工程",fieldValue:"software",status:"publishing",reward:12e3,deadlineDays:0,brief:"为高校实验室建设一套预约与管理系统，支持实验预约、设备管理和数据统计...",tag:"",tagText:"",joinCount:18,likeCount:40,createdAt:"2024-12-30"},{id:6,title:"企业数据中台建设",company:"鸿云科技集团",field:"大数据",fieldValue:"big-data",status:"completed",reward:35e3,deadlineDays:-10,brief:"搭建企业级数据中台，统一数据标准，支持多业务系统的数据服务能力...",tag:"HOT",tagText:"HOT",joinCount:25,likeCount:80,createdAt:"2024-11-20"}]),A=r(()=>F.value.map(l=>({...l,deadlineText:l.deadlineDays>0?`${l.deadlineDays}天后`:l.deadlineDays===0?"今天截止":"已截止"}))),$=r(()=>{if(!v.value.trim())return[];const l=v.value.trim().toLowerCase();return A.value.filter(t=>t.title.toLowerCase().includes(l)||t.company.toLowerCase().includes(l)).slice(0,5)}),U=()=>{w.value=!!v.value.trim(),c.value=1},W=()=>{w.value=!1,c.value=1},z=l=>{v.value=l.title,w.value=!1,c.value=1},G=l=>{m.value=l,c.value=1},X=l=>{if(l==="all")u.value=["all"];else{const t=u.value.includes(l),e=u.value.filter(o=>o!=="all");if(t){const o=e.filter(b=>b!==l);u.value=o.length?o:["all"]}else e.push(l),u.value=e}c.value=1},Y=l=>{h.value=l,c.value=1},Z=l=>{p.value=l,c.value=1},q=r(()=>{const l=v.value.trim().toLowerCase();return A.value.filter(t=>{const e=!l||t.title.toLowerCase().includes(l)||t.company.toLowerCase().includes(l),o=m.value==="all"||t.fieldValue===m.value,b=u.value.includes("all")||u.value.includes(t.status);let k=!0;return h.value==="0-5k"?k=t.reward<=5e3:h.value==="5k-10k"?k=t.reward>5e3&&t.reward<=1e4:h.value==="10k-30k"?k=t.reward>1e4&&t.reward<=3e4:h.value==="30k+"&&(k=t.reward>3e4),e&&o&&b&&k})}),V=r(()=>{const l=[...q.value];return p.value==="latest"?l.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt)):p.value==="reward-desc"?l.sort((t,e)=>e.reward-t.reward):p.value==="deadline-asc"?l.sort((t,e)=>t.deadlineDays-e.deadlineDays):l.sort((t,e)=>{const o=(t.tag==="HOT"?2:0)+(t.tag==="URGENT"?1:0),b=(e.tag==="HOT"?2:0)+(e.tag==="URGENT"?1:0);return b!==o?b-o:new Date(e.createdAt)-new Date(t.createdAt)}),l}),L=r(()=>V.value.length),y=r(()=>Math.max(1,Math.ceil(L.value/x.value))),P=r(()=>{const l=(c.value-1)*x.value;return V.value.slice(l,l+x.value)}),J=r(()=>{const l=[];for(let t=1;t<=y.value;t++)l.push(t);return l}),T=l=>{if(l<1||l>y.value)return;c.value=l;const t=document.querySelector(".project-list-section");t&&t.scrollIntoView({behavior:"smooth"})},K=l=>{D.push(`/apply/${l}`)},Q=l=>{D.push(`/projects/${l}`)};return te(()=>{O()}),(l,t)=>(i(),n("div",ne,[s("main",ie,[s("section",ce,[s("div",de,[s("div",re,[se(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),type:"text",class:"search-input",placeholder:"搜索项目名称 / 编号 / 企业名称",onInput:U},null,544),[[le,v.value]]),s("button",{class:"search-btn",onClick:W},"搜索"),w.value&&$.value.length?(i(),n("ul",ue,[(i(!0),n(g,null,_($.value,e=>(i(),n("li",{key:e.id,class:"suggestion-item",onClick:o=>z(e)},[s("span",ge,a(e.title),1),s("span",_e,a(e.company),1)],8,ve))),128))])):C("",!0)])]),s("div",fe,[s("div",he,[t[3]||(t[3]=s("span",{class:"filter-label"},"项目领域：",-1)),(i(),n(g,null,_(R,e=>s("button",{key:e.value,class:f(["filter-chip",{active:m.value===e.value}]),onClick:o=>G(e.value)},a(e.label),11,be)),64))]),s("div",pe,[t[4]||(t[4]=s("span",{class:"filter-label"},"项目状态：",-1)),(i(),n(g,null,_(E,e=>s("button",{key:e.value,class:f(["filter-chip",{active:u.value.includes(e.value)}]),onClick:o=>X(e.value)},a(e.label),11,ke)),64))]),s("div",we,[t[5]||(t[5]=s("span",{class:"filter-label"},"奖金范围：",-1)),(i(),n(g,null,_(H,e=>s("button",{key:e.value,class:f(["filter-chip",{active:h.value===e.value}]),onClick:o=>Y(e.value)},a(e.label),11,me)),64))]),s("div",ye,[t[6]||(t[6]=s("span",{class:"filter-label"},"排序方式：",-1)),(i(),n(g,null,_(M,e=>s("button",{key:e.value,class:f(["filter-chip",{active:p.value===e.value}]),onClick:o=>Z(e.value)},a(e.label),11,Ce)),64))])])]),s("section",xe,[s("div",Te,[s("span",null,[t[7]||(t[7]=I("共找到 ",-1)),s("strong",null,a(L.value),1),t[8]||(t[8]=I(" 个项目",-1))])]),P.value.length?(i(),n("div",De,[(i(!0),n(g,null,_(P.value,e=>(i(),n("article",{key:e.id,class:"project-card",onClick:o=>Q(e.id)},[s("div",je,[s("div",Ae,[s("div",$e,[s("div",Ve,[e.tag?(i(),n("span",{key:0,class:f(["badge",e.tag])},a(e.tagText),3)):C("",!0)]),s("h2",Le,a(e.title),1)]),s("div",Pe,[s("span",Ie,"发布方："+a(e.company),1),t[9]||(t[9]=s("span",{class:"meta-sep"},"|",-1)),s("span",Ne,"领域："+a(e.field),1),t[10]||(t[10]=s("span",{class:"meta-sep"},"|",-1)),s("span",Oe," 截止："+a(e.deadlineText),1)]),s("p",Re,a(e.brief),1),s("div",Ee,[s("div",He,[e.status==="bidding"?(i(),n("button",{key:0,class:"apply-btn",onClick:oe(o=>K(e.id),["stop"])}," 立即揭榜 ",8,Me)):C("",!0)]),s("div",Be,[s("span",Fe," 已有 "+a(e.joinCount)+" 人"+a(e.status==="reviewing"?"提交":"揭榜"),1),s("span",Ue,"❤ "+a(e.likeCount),1)])])]),s("div",We,[s("div",ze,"￥"+a(e.reward.toLocaleString()),1),s("div",{class:f(["status-tag",e.status])},a(B[e.status]),3)])])],8,Se))),128))])):(i(),n("div",Ge," 暂无符合当前筛选条件的项目 ")),y.value>1?(i(),n("div",Xe,[s("button",{class:"page-btn",disabled:c.value===1,onClick:t[1]||(t[1]=e=>T(c.value-1))}," 上一页 ",8,Ye),(i(!0),n(g,null,_(J.value,e=>(i(),n("button",{key:e,class:f(["page-btn",{active:e===c.value}]),onClick:o=>T(e)},a(e),11,Ze))),128)),s("button",{class:"page-btn",disabled:c.value===y.value,onClick:t[2]||(t[2]=e=>T(c.value+1))}," 下一页 ",8,qe)])):C("",!0)])])]))}},et=ee(Je,[["__scopeId","data-v-9b008f0c"]]);export{et as default};
