import{_ as Ht,h as qt,r as f,c as U,p as Yt,g as Gt,a as d,b as t,j as l,k as s,l as g,e as Qt,i as _,n as k,t as r,F as h,d as P,u as Jt,o as u,s as a,z as p,L as Te,M as Ge,N as Qe,O as Wt,P as Je,Q as We,A as oe,f as m,D as Xe,R as G,S as Q,B as F,U as Xt,V as ue,W as Kt,X as Ke,Y as Ze,Z as Zt,G as he,$ as J,a0 as et,a1 as el,a2 as tt,a3 as tl,H as w,a4 as ll,a5 as sl}from"./index-Bg6MLb3F.js";const il={class:"project-details-container"},nl={class:"main-content"},al={class:"breadcrumb-section mb20"},ol={class:"content-row"},ul={class:"main-info-section"},dl={class:"project-header"},rl={class:"project-header-left"},vl={class:"action-section"},pl={class:"action-buttons"},ml={class:"progress-section"},cl={class:"progress-bar"},fl={class:"current-status-text"},gl={class:"stats-section"},yl={class:"stats"},bl={class:"stat-item"},_l={class:"stat-item"},wl={class:"stat-item"},kl={class:"project-steps-container mt15"},Dl={class:"ant-steps ant-steps-horizontal project-steps ant-steps-label-vertical"},Sl={class:"ant-steps-item-container"},Rl={class:"ant-steps-item-icon"},Ml={class:"ant-steps-icon"},Vl={key:1,class:"circle-icon"},Il={class:"ant-steps-item-content"},xl={class:"ant-steps-item-title"},Nl={key:0,class:"ant-steps-item-description"},Tl={class:"color-grey-6 font-12"},hl={class:"stage-highlight detail-highlight"},El={class:"title-with-status"},Cl={class:"stage-title"},Pl={class:"stage-desc"},Al={class:"stage-info-row"},Fl={class:"info-items-group"},Ll={class:"info-item-compact"},Bl={class:"info-value"},Ul={class:"info-item-compact"},zl={class:"info-value"},Ol={class:"info-item-compact"},$l={class:"stage-actions-inline"},jl={class:"tab-section"},Hl={class:"detail-content"},ql={class:"section"},Yl={key:0},Gl={key:1},Ql={class:"section"},Jl={key:0},Wl={key:1},Xl={class:"section"},Kl={key:0},Zl={key:1},es={class:"section"},ts={key:0},ls={key:1},ss={class:"section"},is={key:0},ns={key:1},as={class:"section"},os={key:0},us={key:1},ds={class:"section"},rs={class:"attachments"},vs={class:"attachment-item"},ps={class:"attachment-item"},ms={class:"attachment-item"},cs={class:"attachment-item"},fs={class:"section"},gs={class:"bidders-list-content"},ys={key:0,class:"application-list"},bs={class:"application-header"},_s={class:"team-basic-info"},ws={class:"team-name"},ks={class:"team-meta"},Ds={class:"meta-item"},Ss={class:"meta-item"},Rs={class:"meta-item"},Ms={class:"application-details"},Vs={class:"detail-section"},Is={class:"detail-title"},xs={class:"application-text"},Ns={key:0,class:"detail-section"},Ts={class:"detail-title"},hs={class:"application-text"},Es={key:1,class:"application-actions"},Cs={key:1,class:"no-permission-placeholder"},Ps={class:"milestone-tracking-content"},As={key:0,class:"permission-notice"},Fs={class:"milestone-timeline"},Ls={key:0,class:"timeline-connector"},Bs={class:"milestone-marker"},Us={key:1,class:"marker-icon in-progress"},zs={key:2,class:"marker-icon pending"},Os={class:"milestone-card"},$s={class:"milestone-header"},js={class:"header-left"},Hs={class:"milestone-title"},qs={class:"header-meta"},Ys={class:"meta-item"},Gs={key:0,class:"meta-item"},Qs={key:1,class:"meta-item text-danger"},Js={key:2,class:"meta-item"},Ws={class:"milestone-description"},Xs={class:"progress-input-group"},Ks={class:"progress-text"},Zs={class:"dialog-footer"},ei={key:0,class:"milestone-detail-content"},ti={class:"section-header"},li={class:"section-header-right"},si={class:"section-content"},ii={key:0,class:"edit-field"},ni={class:"meta-info"},ai={class:"meta-row"},oi={key:0,class:"meta-row edit-field"},ui={key:1,class:"meta-row"},di={key:2,class:"meta-row"},ri={key:3,class:"meta-row"},vi={key:2,class:"edit-actions"},pi={class:"section-header"},mi={class:"section-header-right"},ci={class:"count-badge"},fi={class:"section-content"},gi={key:0,class:"deliverables-edit"},yi={key:1,class:"deliverables-list-full"},bi={key:2,class:"empty-deliverables"},_i={key:0,class:"detail-section submission-summary-section"},wi={class:"section-header"},ki={class:"section-content"},Di={key:0,class:"bidding-summary"},Si={key:0},Ri={class:"submit-time"},Mi={key:1,class:"proposal-summary"},Vi={class:"submit-time"},Ii={key:2,class:"midterm-summary"},xi={class:"submit-time"},Ni={key:3,class:"default-summary"},Ti={class:"submit-time"},hi={class:"submission-actions"},Ei={key:1,class:"detail-section publisher-actions-section"},Ci={class:"section-header"},Pi={class:"actions-buttons"},Ai={key:2,class:"detail-section review-history-section"},Fi={class:"section-header"},Li={class:"count-badge"},Bi={class:"section-content"},Ui={class:"review-history-list"},zi={class:"review-header"},Oi={class:"reviewer-info"},$i={class:"reviewer-details"},ji={class:"reviewer-name"},Hi={class:"review-time"},qi={class:"review-result"},Yi={key:0,class:"version-tag"},Gi={class:"review-content"},Qi={class:"review-comment"},Ji={key:0,class:"review-attachments"},Wi={key:1,class:"review-extended"},Xi={class:"extended-item"},Ki={key:2,class:"review-extended"},Zi={class:"extended-item"},en={key:3,class:"review-extended"},tn={class:"extended-item"},ln={key:3,class:"detail-section"},sn={class:"section-header"},nn={class:"count-badge"},an={class:"section-content"},on={class:"sub-milestones-list"},un={class:"sub-milestone-header"},dn={class:"sub-milestone-title"},rn={key:0,class:"sub-milestone-meta"},vn={key:4,class:"detail-section sensitive-section"},pn={key:0,class:"section-content"},mn={class:"progress-detail-full"},cn={class:"progress-note"},fn={key:1,class:"section-content"},gn={class:"section-header"},yn={class:"count-badge"},bn={class:"communications-list-full"},_n={class:"comm-header"},wn={class:"comm-author"},kn={class:"comm-time"},Dn={class:"comm-content"},Sn={key:2,class:"section-content"},Rn={class:"internal-notes-full"},Mn={key:3,class:"section-content"},Vn={class:"section-header"},In={class:"count-badge"},xn={class:"attachments-list-full"},Nn={key:5,class:"detail-section"},Tn={class:"dialog-footer"},hn={class:"review-dialog-content"},En={class:"review-left-panel"},Cn={class:"panel-header"},Pn={class:"panel-content"},An={key:0,class:"submission-preview"},Fn={key:0},Ln={class:"preview-item"},Bn={class:"preview-item"},Un={class:"preview-item"},zn={class:"preview-text"},On={class:"preview-item"},$n={key:1},jn={class:"preview-item"},Hn={class:"preview-item"},qn={class:"preview-text"},Yn={class:"preview-item"},Gn={class:"preview-text"},Qn={class:"preview-item"},Jn={class:"preview-text"},Wn={class:"preview-item"},Xn={key:2},Kn={class:"preview-item"},Zn={class:"preview-item"},ea={class:"preview-text"},ta={class:"preview-item"},la={class:"preview-text"},sa={key:0,class:"preview-item"},ia={class:"preview-text"},na={class:"preview-item"},aa={class:"preview-actions"},oa={class:"review-right-panel"},ua={class:"panel-header"},da={class:"panel-content"},ra={class:"dialog-footer"},va={class:"dialog-footer"},pa={class:"form-section"},ma={class:"form-section"},ca={class:"form-section"},fa={class:"dialog-footer"},ga={__name:"index",setup(ya){const de=Gt(),re=Jt(),fe=qt(),Ee=f("details"),T=f({background:!1,functions:!1,techStack:!1,performance:!1,reviewMethod:!1,intellectualProperty:!1}),ge=f((()=>{const n=de.params.id;return{rating:4.5,publisherId:"enterprise-001",bidderIds:{1:["test_student_001","student-001","student-002"],2:["student-001","student-002"],3:["student-002","student-003"]}[n]||["student-001","student-002"]}})()),M=U(()=>({id:fe.userInfo?.id||"",role:fe.userRole||"visitor",isLoggedIn:fe.isAuthenticated})),z=U(()=>M.value.isLoggedIn?M.value.role==="enterprise"&&M.value.id===ge.value.publisherId:!1),Ce=U(()=>M.value.isLoggedIn?M.value.role==="student"&&ge.value.bidderIds?.includes(M.value.id):!1),ve=U(()=>M.value.isLoggedIn?!!(z.value||Ce.value):!1),b=f([{id:"milestone-bidding",code:"BIDDING",title:"揭榜征集",description:"学生查看并提交揭榜申请，企业/学校审核通过后确定承接方",status:"in-progress",plannedDate:"2025-11-15",actualDate:null,delayDays:0,deliverables:["揭榜申请表","审核结果通知"],progressDetail:{percentage:65,status:"warning",note:"已收到12份揭榜申请，正在进行审核"},riskLevel:"low",communications:[{author:"陈老师（教务中心）",time:"2025-11-10 16:30",content:"本次揭榜共收到12份申请，质量整体较高，请企业尽快审核"}],internalNotes:"本期导师资源充足，匹配顺利",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-proposal",code:"PROPOSAL",title:"方案提交",description:"提交项目实施方案，包括技术方案、实施计划、团队分工等，经多角色评审后确定最终方案",status:"pending",plannedDate:"2025-11-20",actualDate:null,delayDays:null,deliverables:["实施方案包","评审意见清单"],progressDetail:{percentage:0,status:"info",note:"等待揭榜征集阶段完成"},riskLevel:"low",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-agreement",code:"AGREEMENT",title:"协议签订",description:"双方签订项目合作协议，明确权利义务、交付标准、费用结算等条款",status:"pending",plannedDate:"2025-11-25",actualDate:null,delayDays:null,deliverables:["项目合作协议","补充协议（如有）"],progressDetail:{percentage:0,status:"info",note:"等待方案提交阶段完成"},riskLevel:"low",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-midterm",code:"MIDTERM",title:"中期答辩",description:"项目中期检查，展示项目进展和阶段性成果，专家评审并提出优化建议",status:"pending",plannedDate:"2025-12-25",actualDate:null,delayDays:null,deliverables:["中期答辩PPT","阶段成果包","评审结论"],progressDetail:{percentage:0,status:"info",note:"等待协议签订阶段完成"},riskLevel:"medium",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-delivery",code:"DELIVERY",title:"成果提交",description:"提交最终项目成果，包括代码包、文档、测试报告等，完成学校初审",status:"pending",plannedDate:"2026-01-20",actualDate:null,delayDays:null,deliverables:["成果代码仓","技术文档","运维手册","测试报告"],progressDetail:{percentage:0,status:"info",note:"等待中期答辩阶段完成"},riskLevel:"medium",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-review",code:"REVIEW",title:"成果评审",description:"企业+专家联合评审，评分并生成评审结果，确定项目排名",status:"pending",plannedDate:"2026-02-05",actualDate:null,delayDays:null,deliverables:["评审打分表","评审报告"],progressDetail:{percentage:0,status:"info",note:"等待成果提交完成后启动评审"},riskLevel:"low",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-project-announcement",code:"PROJECT_ANNOUNCEMENT",title:"项目结算",description:"项目费用结算、发票开具、款项支付等财务相关事宜",status:"pending",plannedDate:"2026-02-15",actualDate:null,delayDays:null,deliverables:["评审结果公示","排名清单","申诉处理记录"],progressDetail:{percentage:0,status:"info",note:"等待成果评审完成后启动公示流程"},riskLevel:"low",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-announcement",code:"ANNOUNCEMENT",title:"结项公示",description:"结果公示、处理申诉、协议签订、费用结算",status:"pending",plannedDate:"2026-02-20",actualDate:null,delayDays:null,deliverables:["公示文件","项目协议","结算单据"],progressDetail:{percentage:0,status:"info",note:"等待评审完成后启动公示流程"},riskLevel:"low",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]},{id:"milestone-completion",code:"COMPLETION",title:"任务完成",description:"完成验收签署、费用结算、经验复盘，标志项目顺利结束",status:"pending",plannedDate:"2026-02-28",actualDate:null,delayDays:null,deliverables:["验收确认单","项目复盘报告"],progressDetail:{percentage:0,status:"info",note:"等待前序阶段完成"},riskLevel:"low",communications:[],internalNotes:"",sensitiveAttachments:[],submissionSummary:null,reviewHistory:[]}]),lt=U(()=>{const n=H.value.find(N=>N.status==="process");if(n)return n.title;const e=H.value.find(N=>N.status==="wait");return e?e.title:H.value[H.value.length-1]?.title||"项目进行中"}),E=U(()=>b.value.length?b.value.find(n=>n.status==="in-progress")||b.value.find(n=>n.status==="pending")||b.value[b.value.length-1]:null),Pe=U(()=>{if(!E.value)return{text:"—",overdue:!1};const n=E.value.plannedDate||E.value.actualDate;return n?Tt(n):{text:"—",overdue:!1}}),ye=n=>({completed:"success","in-progress":"warning",pending:"info",delayed:"danger",skipped:""})[n]||"info",be=n=>({completed:"已完成","in-progress":"进行中",pending:"待开始",delayed:"已延迟",skipped:"已跳过"})[n]||"未知",st=n=>!(!ve.value||M.value.role!=="student"||!ge.value.bidderIds?.includes(M.value.id)||n.status!=="in-progress"&&n.status!=="pending"),_e=n=>!["PROPOSAL","MIDTERM","DELIVERY"].includes(n.code),Ae=n=>{w.info("查看提交详情功能开发中...")},Fe=n=>{w.info("查看提交历史功能开发中...")},it=n=>{const e=de.params.id;re.push(`/project/${e}/milestone/midterm-review`)},Le=n=>n.status==="in-progress"&&["BIDDING","PROPOSAL","AGREEMENT","MIDTERM","DELIVERY","REVIEW","PROJECT_ANNOUNCEMENT","ANNOUNCEMENT"].includes(n.code),nt=n=>({PROPOSAL:"审核方案",AGREEMENT:"审核协议",MIDTERM:"进入中期答辩",DELIVERY:"审核成果",REVIEW:"开始评审",PROJECT_ANNOUNCEMENT:"处理结算",PAYMENT:"确认支付金额",ANNOUNCEMENT:"上传公示内容"})[n.code]||"审核",at=n=>({通过:"success",拒绝:"danger",驳回:"danger",要求修改:"warning",不通过:"danger",需修订:"warning"})[n]||"info",W=f(!1),X=f(null),we=f(null),K=f(!1),V=f({progress:0,description:"",deliverables:[],risks:""}),ot={progress:[{required:!0,message:"请设置完成进度",trigger:"change"}],description:[{required:!0,message:"请填写完成说明",trigger:"blur"},{min:10,message:"完成说明至少10个字符",trigger:"blur"}]},ut=n=>{X.value=n,V.value={progress:n.progressDetail?.percentage||0,description:n.progressDetail?.note||"",deliverables:[],risks:""},W.value=!0},dt=async()=>{if(we.value)try{await we.value.validate(),K.value=!0,await new Promise(e=>setTimeout(e,1e3));const n=b.value.findIndex(e=>e.id===X.value.id);n!==-1&&(b.value[n]={...b.value[n],status:V.value.progress===100?"completed":"in-progress",actualDate:V.value.progress===100?new Date().toISOString().split("T")[0]:null,progressDetail:{percentage:V.value.progress,status:V.value.progress===100?"success":null,note:V.value.description}}),w.success("提交成功"),W.value=!1}catch(n){n!==!1&&w.error("提交失败："+(n.message||"未知错误"))}finally{K.value=!1}},rt=n=>{const e=de.params.id,C=n.code,v={PROPOSAL:`/project/${e}/milestone/proposal`,MIDTERM:`/project/${e}/milestone/midterm`,DELIVERY:`/project/${e}/milestone/delivery`}[C]||`/student/Submit?id=${e}&milestone=${C}`;re.push(v)},Z=f(!1),o=f(null),A=f(!1),D=f({plannedDate:"",description:"",deliverables:[]}),j=n=>z.value&&n.status==="pending",L=n=>n.status==="completed",vt=n=>{o.value=n,Z.value=!0,A.value=!1,D.value={plannedDate:n.plannedDate||"",description:n.description||"",deliverables:n.deliverables&&n.deliverables.length>0?[...n.deliverables]:[""]},z.value&&Le(n)&&ll(()=>{setTimeout(()=>{const e=document.querySelector(".publisher-actions-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})},300)})},Be=()=>{o.value&&(A.value=!0)},pt=()=>{A.value=!1,o.value&&(D.value={plannedDate:o.value.plannedDate||"",description:o.value.description||"",deliverables:o.value.deliverables&&o.value.deliverables.length>0?[...o.value.deliverables]:[""]})},mt=async()=>{if(!o.value)return;if(!D.value.plannedDate){w.warning("请选择计划完成日期");return}if(!D.value.description||D.value.description.trim()===""){w.warning("请输入里程碑描述");return}const n=D.value.deliverables.filter(e=>e&&e.trim()!=="");if(n.length===0){w.warning("请至少添加一个交付物");return}try{await new Promise(C=>setTimeout(C,500));const e=b.value.findIndex(C=>C.id===o.value.id);e!==-1&&(b.value[e]={...b.value[e],plannedDate:D.value.plannedDate,description:D.value.description,deliverables:n},o.value={...o.value,plannedDate:D.value.plannedDate,description:D.value.description,deliverables:n},D.value.deliverables=n),w.success("修改成功"),A.value=!1}catch(e){w.error("修改失败："+(e.message||"未知错误"))}},ct=()=>{D.value.deliverables.push("")},ft=n=>{D.value.deliverables.splice(n,1)},gt=()=>{o.value&&(Z.value=!1,_e(o.value)?ut(o.value):rt(o.value))},Ue=(n,e=100)=>n?n.length<=e?n:n.substring(0,e)+"...":"",ee=f(!1),ze=f(null),ke=f(null),Oe=f(!1),I=f({reviewResult:"",reviewComment:"",attachments:[],notifyBidder:!0}),yt={reviewResult:[{required:!0,message:"请选择审核结果",trigger:"change"}],reviewComment:[{required:!0,message:"请填写审核意见",trigger:"blur"},{min:10,message:"审核意见至少10个字符",trigger:"blur"}]},De=(n,e)=>{ze.value=n,I.value={reviewResult:e==="通过"?"通过":"",reviewComment:"",attachments:[],notifyBidder:!0},ee.value=!0},bt=async()=>{if(ke.value)try{await ke.value.validate(),Oe.value=!0,await new Promise(e=>setTimeout(e,1e3)),w.success("审核提交成功"),ee.value=!1;const n=b.value.findIndex(e=>e.id===ze.value.id);if(n!==-1){const e={reviewId:"review-new-"+Date.now(),reviewerId:M.value.id,reviewerName:M.value.name||"发布方",reviewTime:new Date().toLocaleString("zh-CN"),reviewResult:I.value.reviewResult,reviewComment:I.value.reviewComment,attachments:[]};b.value[n].reviewHistory||(b.value[n].reviewHistory=[]),b.value[n].reviewHistory.unshift(e),I.value.reviewResult==="通过"?(b.value[n].status="completed",b.value[n].actualDate=new Date().toISOString().split("T")[0]):(I.value.reviewResult==="驳回"||I.value.reviewResult==="拒绝")&&(b.value[n].status="pending")}}catch(n){n!==!1&&w.error("审核失败："+(n.message||"未知错误"))}finally{Oe.value=!1}},te=f(!1),Se=f(null),Re=f(null),$e=f(!1),le=f({skipReason:""}),_t={skipReason:[{required:!0,message:"请填写跳过原因",trigger:"blur"},{min:10,message:"跳过原因至少10个字符",trigger:"blur"}]},wt=n=>{Se.value=n,le.value={skipReason:""},te.value=!0},kt=async()=>{if(Re.value)try{await Re.value.validate(),await sl.confirm(`确定跳过"${Se.value.title}"里程碑吗？跳过后不可恢复！`,"二次确认",{confirmButtonText:"确定跳过",cancelButtonText:"取消",type:"warning"}),$e.value=!0,await new Promise(e=>setTimeout(e,1e3)),w.success("里程碑已跳过"),te.value=!1;const n=b.value.findIndex(e=>e.id===Se.value.id);n!==-1&&(b.value[n].status="skipped",b.value[n].actualDate=new Date().toISOString().split("T")[0],b.value[n].reviewHistory||(b.value[n].reviewHistory=[]),b.value[n].reviewHistory.unshift({reviewId:"skip-"+Date.now(),reviewerId:M.value.id,reviewerName:M.value.name||"发布方",reviewTime:new Date().toLocaleString("zh-CN"),reviewResult:"已跳过",reviewComment:le.value.skipReason,attachments:[]}))}catch(n){n!=="cancel"&&n!==!1&&w.error("跳过失败："+(n.message||"未知错误"))}finally{$e.value=!1}},H=f([{code:"BIDDING",title:"揭榜征集",status:"process",timeInfo:"剩余3天",startDate:"2025-11-01",endDate:null,deadline:"2025-11-15"},{code:"PROPOSAL",title:"方案提交",status:"wait",timeInfo:"预计15天",startDate:null,endDate:null,deadline:"2025-11-20"},{code:"AGREEMENT",title:"协议签订",status:"wait",timeInfo:"预计5天",startDate:null,endDate:null,deadline:"2025-11-25"},{code:"MIDTERM",title:"中期答辩",status:"wait",timeInfo:"预计30天",startDate:null,endDate:null,deadline:"2025-12-25"},{code:"DELIVERY",title:"成果提交",status:"wait",timeInfo:"预计25天",startDate:null,endDate:null,deadline:"2026-01-20"},{code:"REVIEW",title:"成果评审",status:"wait",timeInfo:"预计15天",startDate:null,endDate:null,deadline:"2026-02-05"},{code:"PROJECT_ANNOUNCEMENT",title:"项目结算",status:"wait",timeInfo:"预计10天",startDate:null,endDate:null,deadline:"2026-02-15"},{code:"ANNOUNCEMENT",title:"结项公示",status:"wait",timeInfo:"预计15天",startDate:null,endDate:null,deadline:"2026-02-20"},{code:"COMPLETION",title:"任务完成",status:"wait",timeInfo:"预计8天",startDate:null,endDate:null,deadline:"2026-02-28"}]),Dt=()=>{re.push("/projects")},pe=U(()=>{const n=H.value.find(e=>e.code==="BIDDING");return n?n.status==="finish":!1}),se=f(!1),St=()=>{se.value=!se.value,se.value?w.success("已关注项目"):w.info("已取消关注")},q=n=>{T.value[n]=!T.value[n]},ie=f(!1),Y=f(null),Me=f(!1),S=f({teamName:"",teamSize:2,requiredSkills:[],bonusSkills:[],experienceLevel:"none",applicationReason:"",otherInfo:"",attachments:[]}),Rt={teamName:[{required:!0,message:"请输入团队名称",trigger:"blur"},{min:2,max:50,message:"团队名称长度在 2 到 50 个字符",trigger:"blur"}],teamSize:[{required:!0,message:"请选择团队规模",trigger:"change"},{type:"number",min:2,max:20,message:"团队规模在 2 到 20 人之间",trigger:"change"}],requiredSkills:[{type:"array",required:!0,message:"请至少选择一项必备技能",trigger:"change"}],applicationReason:[{required:!0,message:"请填写申请理由",trigger:"blur"},{min:50,message:"申请理由至少50个字符，请详细说明团队优势和项目规划",trigger:"blur"}]},Ve=()=>{if(pe.value){w.warning("该项目已揭榜完成，无法继续揭榜");return}if(!M.value.isLoggedIn){w.warning("请先登录"),re.push("/auth/login");return}if(M.value.role!=="student"){w.warning("只有学生可以揭榜");return}ie.value=!0},Mt=()=>{ie.value=!1,Y.value&&Y.value.resetFields(),S.value={teamName:"",teamSize:2,requiredSkills:[],bonusSkills:[],experienceLevel:"none",applicationReason:"",otherInfo:"",attachments:[]}},Vt=async()=>{if(Y.value)try{await Y.value.validate(),Me.value=!0,await new Promise(n=>setTimeout(n,1e3)),w.success("申请提交成功！"),ie.value=!1,Y.value.resetFields()}catch(n){n!==!1&&w.error("提交失败："+(n.message||"未知错误"))}finally{Me.value=!1}},It=n=>{const e=n.size/1024/1024<50;return e||w.error("上传文件大小不能超过 50MB!"),e},xt=(n,e)=>{w.warning(`最多只能上传 5 个文件，当前已选择 ${n.length+e.length} 个文件`)},je=f([{id:"app-001",teamName:"创新先锋队",teamAvatar:"https://picsum.photos/seed/team1/80/80",teamSize:4,leaderId:"student-001",leaderName:"张三",requiredSkills:["Vue.js","Spring Boot","MySQL"],bonusSkills:["UI/UX设计","项目管理"],experienceLevel:"intermediate",applicationReason:"我们团队在过去两年内成功完成了2个类似的项目，具有丰富的实战经验。团队成员分工明确，包括前端、后端、UI设计和项目管理各1名。我们计划采用敏捷开发模式，每两周进行一次迭代，确保项目按时高质量交付。",otherInfo:'团队成员均获得过校级以上奖项，曾在"互联网+"大赛中获得省级三等奖。',submitTime:"2025-11-08 14:30:00",status:"pending"},{id:"app-002",teamName:"智能科技团队",teamAvatar:"https://picsum.photos/seed/team2/80/80",teamSize:3,leaderId:"student-002",leaderName:"李四",requiredSkills:["Vue.js","Node.js","MongoDB"],bonusSkills:["敏捷开发","英语能力"],experienceLevel:"advanced",applicationReason:"我们团队已完成3个商业项目，累计服务客户10+。团队核心成员有3年以上开发经验，熟悉完整的项目开发流程。我们承诺7天内完成详细的技术方案，30天内交付可演示的MVP版本。",otherInfo:"团队曾为某知名企业开发过类似的客服系统，对业务场景非常熟悉。",submitTime:"2025-11-08 16:45:00",status:"pending"},{id:"app-003",teamName:"测试学生团队",teamAvatar:"https://picsum.photos/seed/team3/80/80",teamSize:2,leaderId:"test_student_001",leaderName:"测试学生",requiredSkills:["Vue.js","Spring Boot"],bonusSkills:["软件测试"],experienceLevel:"basic",applicationReason:"作为在校学生，我们非常希望通过这个项目提升实战能力。虽然经验不足，但我们学习能力强，态度认真，愿意投入100%的精力完成项目。团队成员包括1名前端开发和1名后端开发，我们会虚心向导师请教，确保项目质量。",otherInfo:"我们愿意接受更低的报酬，只求一个学习和成长的机会。",submitTime:"2025-11-09 09:20:00",status:"pending"}]),Nt=n=>!!(z.value||M.value.isLoggedIn&&M.value.id===n.leaderId);Yt(()=>{de.params.id});const Tt=n=>{if(!n)return{text:"—",overdue:!1};const e=new Date(n);if(Number.isNaN(e.getTime()))return{text:"—",overdue:!1};const C=new Date,N=e.getTime()-C.getTime(),v=Math.ceil(N/(1e3*60*60*24));return v>=0?{text:`剩余 ${v} 天`,overdue:!1}:{text:`逾期 ${Math.abs(v)} 天`,overdue:!0}};return(n,e)=>{const C=g("router-link"),N=g("el-tag"),v=g("el-icon"),c=g("el-button"),ht=g("el-tooltip"),He=g("el-card"),Et=g("el-col"),Ct=g("el-row"),O=g("el-link"),ne=g("el-tab-pane"),Pt=g("el-avatar"),Ie=g("el-empty"),xe=g("el-alert"),At=g("el-tabs"),Ft=g("el-slider"),R=g("el-form-item"),B=g("el-input"),Ne=g("el-upload"),me=g("el-form"),ae=g("el-dialog"),Lt=g("el-date-picker"),Bt=g("el-divider"),Ut=g("el-progress"),$=g("el-radio"),qe=g("el-radio-group"),zt=g("el-rate"),Ot=g("el-switch"),$t=g("el-input-number"),y=g("el-option"),Ye=g("el-select");return u(),d("div",il,[t("div",nl,[t("div",al,[l(C,{class:"color-deep-blue",to:"/home"},{default:s(()=>[...e[45]||(e[45]=[a("首页 > ",-1)])]),_:1}),l(C,{class:"color-deep-blue",to:"/projects"},{default:s(()=>[...e[46]||(e[46]=[a("项目大厅 > ",-1)])]),_:1}),e[47]||(e[47]=t("span",null,"项目详情",-1))]),t("div",ol,[t("div",ul,[t("div",dl,[t("div",rl,[l(N,{class:"status-tag",type:"success"},{default:s(()=>[...e[48]||(e[48]=[a("揭榜中",-1)])]),_:1}),e[49]||(e[49]=t("h1",{class:"project-title"},"AI智能客服系统",-1))]),t("button",{class:"back-project-btn",onClick:Dt},"返回大厅")]),e[50]||(e[50]=Qt('<div class="publisher-info" data-v-3f32232f><span class="publisher" data-v-3f32232f>发布方：XX科技有限公司</span></div><div class="basic-info-card" data-v-3f32232f><div class="info-row" data-v-3f32232f><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>悬赏金额</span><span class="value price" data-v-3f32232f>￥15,000</span></div><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>项目领域</span><span class="value" data-v-3f32232f>人工智能</span></div></div><div class="info-row" data-v-3f32232f><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>揭榜模式</span><span class="value" data-v-3f32232f>团队悬赏</span></div><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>需求人数</span><span class="value" data-v-3f32232f>2-4人</span></div></div><div class="info-row" data-v-3f32232f><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>项目周期</span><span class="value" data-v-3f32232f>60天</span></div><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>发布时间</span><span class="value" data-v-3f32232f>2025-11-01</span></div></div><div class="info-row" data-v-3f32232f><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>截止时间</span><span class="value" data-v-3f32232f>2025-11-15</span></div><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>剩余时间</span><span class="value time-left" data-v-3f32232f>7天</span></div></div><div class="info-row" data-v-3f32232f><div class="info-item" data-v-3f32232f><span class="label" data-v-3f32232f>已揭榜数</span><span class="value" data-v-3f32232f>12人</span></div></div></div>',2))]),t("div",vl,[t("div",pl,[pe.value?(u(),_(ht,{key:0,content:"该项目已揭榜完成",placement:"top"},{default:s(()=>[l(c,{disabled:pe.value,class:k(["action-btn",pe.value?"disabled":"primary"]),onClick:Ve},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Te))]),_:1}),e[51]||(e[51]=a(" 我要揭榜 ",-1))]),_:1},8,["disabled","class"])]),_:1})):(u(),_(c,{key:1,type:"primary",class:"action-btn primary",onClick:Ve},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Te))]),_:1}),e[52]||(e[52]=a(" 我要揭榜 ",-1))]),_:1})),l(c,{class:k(["action-btn","secondary",se.value?"favorited":""]),onClick:St},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Ge))]),_:1}),a(" "+r(se.value?"已关注":"关注项目"),1)]),_:1},8,["class"]),l(c,{class:"action-btn secondary"},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Qe))]),_:1}),e[53]||(e[53]=a(" 咨询企业 ",-1))]),_:1})]),t("div",ml,[e[54]||(e[54]=t("h4",null,"项目进度",-1)),t("div",cl,[t("div",fl,[l(v,null,{default:s(()=>[l(p(Wt))]),_:1}),t("span",null,r(lt.value),1)])])]),t("div",gl,[e[58]||(e[58]=t("h4",null,"统计信息",-1)),t("div",yl,[t("div",bl,[l(v,null,{default:s(()=>[l(p(Je))]),_:1}),e[55]||(e[55]=t("span",null,"浏览量: 1,234",-1))]),t("div",_l,[l(v,null,{default:s(()=>[l(p(Ge))]),_:1}),e[56]||(e[56]=t("span",null,"关注数: 45",-1))]),t("div",wl,[l(v,null,{default:s(()=>[l(p(We))]),_:1}),e[57]||(e[57]=t("span",null,"揭榜数: 12",-1))])])])])]),t("div",kl,[t("div",Dl,[(u(!0),d(h,null,P(H.value,(i,x)=>(u(),d("div",{key:i.code,class:k(["ant-steps-item","ant-steps-item-custom",{"ant-steps-item-finish":i.status==="finish","ant-steps-item-process":i.status==="process","ant-steps-item-wait":i.status==="wait"}])},[t("div",Sl,[e[59]||(e[59]=t("div",{class:"ant-steps-item-tail"},null,-1)),t("div",Rl,[t("span",Ml,[i.status==="finish"?(u(),_(v,{key:0,class:"icon-check"},{default:s(()=>[l(p(oe))]),_:1})):(u(),d("div",Vl))])]),t("div",Il,[t("div",xl,r(i.title),1),i.timeInfo?(u(),d("div",Nl,[t("span",Tl,r(i.timeInfo),1)])):m("",!0)])])],2))),128))])]),t("section",hl,[l(Ct,{gutter:20},{default:s(()=>[l(Et,{xs:24},{default:s(()=>[E.value?(u(),_(He,{key:0,class:"highlight-card current"},{default:s(()=>[e[64]||(e[64]=t("div",{class:"milestone-tab-label"},"当前里程碑",-1)),t("div",El,[t("h2",Cl,r(E.value.title),1),l(N,{type:ye(E.value.status),class:"status-tag-inline"},{default:s(()=>[a(r(be(E.value.status)),1)]),_:1},8,["type"])]),t("p",Pl,r(Ue(E.value.description,110)),1),t("div",Al,[t("div",Fl,[t("div",Ll,[e[60]||(e[60]=t("span",{class:"info-label"},"交付物",-1)),t("span",Bl,r(E.value.deliverables?E.value.deliverables.length:0),1)]),t("div",Ul,[e[61]||(e[61]=t("span",{class:"info-label"},"计划完成时间",-1)),t("span",zl,r(E.value.plannedDate||"待定"),1)]),t("div",Ol,[e[62]||(e[62]=t("span",{class:"info-label"},"剩余/逾期天数",-1)),t("span",{class:k(["info-value",{overdue:Pe.value.overdue}])},r(Pe.value.text),3)])]),t("div",$l,[l(c,{type:"primary",size:"small",text:"",onClick:e[0]||(e[0]=i=>vt(E.value))},{default:s(()=>[e[63]||(e[63]=a(" 查看详情 ",-1)),l(v,null,{default:s(()=>[l(p(Xe))]),_:1})]),_:1})])])]),_:1})):(u(),_(He,{key:1,class:"highlight-card empty"},{default:s(()=>[...e[65]||(e[65]=[t("p",{class:"card-empty"},"暂无当前里程碑信息",-1)])]),_:1}))]),_:1})]),_:1})]),t("div",jl,[l(At,{modelValue:Ee.value,"onUpdate:modelValue":e[7]||(e[7]=i=>Ee.value=i),class:"detail-tabs"},{default:s(()=>[l(ne,{label:"项目详情",name:"details"},{default:s(()=>[t("div",Hl,[t("div",ql,[e[70]||(e[70]=t("h3",null,"■ 项目背景",-1)),t("div",{class:k(["expandable-content",{expanded:T.value.background}])},[e[68]||(e[68]=t("div",{class:"content-preview"}," 随着人工智能技术的快速发展和深度学习算法的不断突破，智能客服已经成为企业数字化转型和提升客户服务质量的重要工具。然而，当前市场上大多数智能客服系统普遍存在响应速度慢、自然语言理解能力有限... ",-1)),e[69]||(e[69]=t("div",{class:"content-full"},[t("p",null,"随着人工智能技术的快速发展和深度学习算法的不断突破，智能客服已经成为企业数字化转型和提升客户服务质量的重要工具。然而，当前市场上大多数智能客服系统普遍存在响应速度慢、自然语言理解能力有限、多轮对话上下文记忆不足、知识库更新维护困难等问题，导致用户体验不佳，企业服务效率难以提升。本项目旨在开发一款基于最新AI技术的高性能智能客服系统，通过整合自然语言处理、知识图谱、深度学习等前沿技术，打造一个真正智能、高效、易用的企业级客服解决方案。")],-1)),t("div",{class:"expand-toggle",onClick:e[1]||(e[1]=i=>q("background"))},[T.value.background?(u(),d("span",Gl,[l(v,null,{default:s(()=>[l(p(Q))]),_:1}),e[67]||(e[67]=a(" 收起 ",-1))])):(u(),d("span",Yl,[l(v,null,{default:s(()=>[l(p(G))]),_:1}),e[66]||(e[66]=a(" 展开 ",-1))]))])],2)]),e[115]||(e[115]=t("div",{class:"section"},[t("h3",null,"■ 项目目标"),t("ol",null,[t("li",null,"实现7×24小时全天候智能在线客服，保证99.9%以上的系统可用性"),t("li",null,"支持多轮对话和上下文理解，能够准确把握用户意图并提供连贯的对话体验"),t("li",null,"集成智能知识库管理系统，支持知识的自动抽取、分类、更新和优化"),t("li",null,"支持多种渠道无缝接入，包括网页端、微信公众号、微信小程序、移动APP等"),t("li",null,"提供完善的数据统计分析功能，支持对话质量评估、用户行为分析、业务洞察报告"),t("li",null,"实现智能学习能力，通过用户反馈和数据分析持续优化对话效果")])],-1)),e[116]||(e[116]=t("div",{class:"section"},[t("h3",null,"■ 成果形式"),t("ol",null,[t("li",null,"完整的系统源代码（包括前端、后端、AI模型等所有模块）"),t("li",null,"详细的系统部署文档（包含环境配置、依赖安装、部署步骤等）"),t("li",null,"完整的用户使用手册（面向管理员和普通用户的操作指南）"),t("li",null,"项目演示视频（不少于10分钟，展示核心功能和使用场景）"),t("li",null,"API接口文档（详细说明所有接口的调用方式和参数）"),t("li",null,"数据库设计文档（包含ER图和表结构说明）")])],-1)),t("div",Ql,[e[75]||(e[75]=t("h3",null,"■ 功能要求",-1)),t("div",{class:k(["expandable-content",{expanded:T.value.functions}])},[e[73]||(e[73]=t("div",{class:"content-preview"}," 详细的功能需求包括：1. 用户管理模块 - 支持多角色权限管理、用户信息管理、登录认证等；2. 对话管理模块 - 实现智能对话、多轮对话、对话转人工、对话记录等；3. 知识库管理 - 支持知识分类、知识检索、知识更新、智能推荐等... ",-1)),e[74]||(e[74]=t("div",{class:"content-full"},[t("ol",null,[t("li",null,[t("strong",null,"用户管理模块"),a("：支持多角色权限管理（管理员、客服人员、普通用户），用户信息管理，登录认证与安全控制")]),t("li",null,[t("strong",null,"智能对话模块"),a("：实现智能对话引擎，支持意图识别、实体提取、多轮对话、上下文管理、对话转人工客服、对话记录保存与检索")]),t("li",null,[t("strong",null,"知识库管理"),a("：支持知识分类与标签管理、全文检索、知识自动更新、智能推荐、知识评分与优化、FAQ管理")]),t("li",null,[t("strong",null,"统计分析模块"),a("：提供实时数据大屏、对话质量分析、用户满意度统计、热点问题分析、业务趋势报告、导出功能")]),t("li",null,[t("strong",null,"系统设置模块"),a("：支持系统参数配置、机器人形象设置、欢迎语配置、敏感词过滤、日志管理、备份恢复")]),t("li",null,[t("strong",null,"多渠道接入"),a("：提供统一的接口标准，支持网页端、微信公众号、小程序、APP等多种渠道的快速接入")])])],-1)),t("div",{class:"expand-toggle",onClick:e[2]||(e[2]=i=>q("functions"))},[T.value.functions?(u(),d("span",Wl,[l(v,null,{default:s(()=>[l(p(Q))]),_:1}),e[72]||(e[72]=a(" 收起 ",-1))])):(u(),d("span",Jl,[l(v,null,{default:s(()=>[l(p(G))]),_:1}),e[71]||(e[71]=a(" 展开 ",-1))]))])],2)]),t("div",Xl,[e[80]||(e[80]=t("h3",null,"■ 技术栈要求",-1)),t("div",{class:k(["expandable-content",{expanded:T.value.techStack}])},[e[78]||(e[78]=t("div",{class:"content-preview"}," 前端：Vue3 + Element Plus + TypeScript；后端：Spring Boot + MyBatis-Plus + Redis；AI：Python + TensorFlow/PyTorch + BERT；数据库：MySQL + MongoDB + Elasticsearch... ",-1)),e[79]||(e[79]=t("div",{class:"content-full"},[t("ol",null,[t("li",null,[t("strong",null,"前端技术"),a("：Vue3 + Element Plus + TypeScript + Vite + Pinia + Axios")]),t("li",null,[t("strong",null,"后端技术"),a("：Spring Boot + Spring Security + MyBatis-Plus + Redis + RabbitMQ")]),t("li",null,[t("strong",null,"AI技术"),a("：Python + TensorFlow/PyTorch + BERT/GPT + Jieba分词 + HanLP")]),t("li",null,[t("strong",null,"数据库"),a("：MySQL（关系型数据） + MongoDB（对话记录） + Elasticsearch（全文检索）")]),t("li",null,[t("strong",null,"部署运维"),a("：Docker + Nginx + Jenkins + Linux + Git")])])],-1)),t("div",{class:"expand-toggle",onClick:e[3]||(e[3]=i=>q("techStack"))},[T.value.techStack?(u(),d("span",Zl,[l(v,null,{default:s(()=>[l(p(Q))]),_:1}),e[77]||(e[77]=a(" 收起 ",-1))])):(u(),d("span",Kl,[l(v,null,{default:s(()=>[l(p(G))]),_:1}),e[76]||(e[76]=a(" 展开 ",-1))]))])],2)]),t("div",es,[e[85]||(e[85]=t("h3",null,"■ 性能指标",-1)),t("div",{class:k(["expandable-content",{expanded:T.value.performance}])},[e[83]||(e[83]=t("div",{class:"content-preview"}," 响应时间：系统平均响应时间小于200ms，95%请求响应时间小于500ms；并发能力：支持1000+并发用户同时在线，单服务器QPS达到500+... ",-1)),e[84]||(e[84]=t("div",{class:"content-full"},[t("ol",null,[t("li",null,[t("strong",null,"响应时间"),a("：系统平均响应时间小于200ms，95%请求响应时间小于500ms，99%请求响应时间小于1秒")]),t("li",null,[t("strong",null,"并发能力"),a("：支持1000+并发用户同时在线，单服务器QPS（每秒查询率）达到500+")]),t("li",null,[t("strong",null,"系统可用性"),a("：年可用性达到99.9%（允许停机时间不超过8.76小时/年），支持故障自动恢复")]),t("li",null,[t("strong",null,"准确率要求"),a("：意图识别准确率≥90%，知识匹配准确率≥85%，用户问题解决率≥75%")]),t("li",null,[t("strong",null,"数据容量"),a("：支持千万级对话记录存储，百万级知识条目管理，TB级日志数据处理")])])],-1)),t("div",{class:"expand-toggle",onClick:e[4]||(e[4]=i=>q("performance"))},[T.value.performance?(u(),d("span",ls,[l(v,null,{default:s(()=>[l(p(Q))]),_:1}),e[82]||(e[82]=a(" 收起 ",-1))])):(u(),d("span",ts,[l(v,null,{default:s(()=>[l(p(G))]),_:1}),e[81]||(e[81]=a(" 展开 ",-1))]))])],2)]),t("div",ss,[e[90]||(e[90]=t("h3",null,"■ 评审方式",-1)),t("div",{class:k(["expandable-content",{expanded:T.value.reviewMethod}])},[e[88]||(e[88]=t("div",{class:"content-preview"},[a(" 本项目采用"),t("strong",null,"企业 + 专家联合评审"),a("的方式，评审团由3-5名行业专家和企业技术负责人组成。评审将分为中期答辩和成果评审两个阶段... ")],-1)),e[89]||(e[89]=t("div",{class:"content-full"},[t("p",null,[a("本项目采用"),t("strong",null,"企业 + 专家联合评审"),a("的方式，评审团由3-5名行业专家和企业技术负责人组成。评审将分为中期答辩和成果评审两个阶段，综合考察项目的技术实现、功能完整性、创新性、实用性等多个维度，最终给出评审意见和项目评分。")])],-1)),t("div",{class:"expand-toggle",onClick:e[5]||(e[5]=i=>q("reviewMethod"))},[T.value.reviewMethod?(u(),d("span",ns,[l(v,null,{default:s(()=>[l(p(Q))]),_:1}),e[87]||(e[87]=a(" 收起 ",-1))])):(u(),d("span",is,[l(v,null,{default:s(()=>[l(p(G))]),_:1}),e[86]||(e[86]=a(" 展开 ",-1))]))])],2)]),t("div",as,[e[95]||(e[95]=t("h3",null,"■ 知识产权",-1)),t("div",{class:k(["expandable-content",{expanded:T.value.intellectualProperty}])},[e[93]||(e[93]=t("div",{class:"content-preview"},[a(" 根据产教融合项目原则，项目成果的"),t("strong",null,"知识产权归学生团队所有"),a("，企业拥有永久免费使用权和优先商业化合作权... ")],-1)),e[94]||(e[94]=t("div",{class:"content-full"},[t("p",null,[a("根据产教融合项目原则，项目成果的"),t("strong",null,"知识产权归学生团队所有"),a("，企业拥有永久免费使用权和优先商业化合作权。学生团队可以将项目成果用于学术研究、竞赛参赛、个人作品展示等用途，但不得将完全相同的系统出售给企业的直接竞争对手。")])],-1)),t("div",{class:"expand-toggle",onClick:e[6]||(e[6]=i=>q("intellectualProperty"))},[T.value.intellectualProperty?(u(),d("span",us,[l(v,null,{default:s(()=>[l(p(Q))]),_:1}),e[92]||(e[92]=a(" 收起 ",-1))])):(u(),d("span",os,[l(v,null,{default:s(()=>[l(p(G))]),_:1}),e[91]||(e[91]=a(" 展开 ",-1))]))])],2)]),t("div",ds,[e[104]||(e[104]=t("h3",null,"■ 附件资料",-1)),t("div",rs,[t("div",vs,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[97]||(e[97]=t("span",null,"需求规格说明书.pdf (2.3MB)",-1)),l(O,{type:"primary"},{default:s(()=>[...e[96]||(e[96]=[a("[下载]",-1)])]),_:1})]),t("div",ps,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[99]||(e[99]=t("span",null,"接口文档.docx (856KB)",-1)),l(O,{type:"primary"},{default:s(()=>[...e[98]||(e[98]=[a("[下载]",-1)])]),_:1})]),t("div",ms,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[101]||(e[101]=t("span",null,"数据库设计规范.pdf (1.2MB)",-1)),l(O,{type:"primary"},{default:s(()=>[...e[100]||(e[100]=[a("[下载]",-1)])]),_:1})]),t("div",cs,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[103]||(e[103]=t("span",null,"UI设计稿.zip (15.6MB)",-1)),l(O,{type:"primary"},{default:s(()=>[...e[102]||(e[102]=[a("[下载]",-1)])]),_:1})])])]),t("div",fs,[e[113]||(e[113]=t("h3",null,"■ 联系方式",-1)),e[114]||(e[114]=t("p",null,"联系人：李经理（项目负责人）",-1)),t("p",null,[e[106]||(e[106]=a("联系电话：138****1234 ",-1)),l(O,{type:"primary"},{default:s(()=>[...e[105]||(e[105]=[a("[查看完整]",-1)])]),_:1}),e[107]||(e[107]=a()),e[108]||(e[108]=t("span",{class:"contact-tip"},"(提交揭榜申请后可见完整联系方式)",-1))]),t("p",null,[e[110]||(e[110]=a("电子邮箱：project@****company.com ",-1)),l(O,{type:"primary"},{default:s(()=>[...e[109]||(e[109]=[a("[查看完整]",-1)])]),_:1}),e[111]||(e[111]=a()),e[112]||(e[112]=t("span",{class:"contact-tip"},"(提交揭榜申请后可见)",-1))])])])]),_:1}),l(ne,{label:"揭榜名单",name:"bidders"},{default:s(()=>[t("div",gs,[je.value.length>0?(u(),d("div",ys,[(u(!0),d(h,null,P(je.value,i=>(u(),d("div",{key:i.id,class:"application-item"},[t("div",bs,[l(Pt,{size:60,src:i.teamAvatar,class:"team-avatar"},{default:s(()=>[a(r(i.teamName.charAt(0)),1)]),_:2},1032,["src"]),t("div",_s,[t("h3",ws,r(i.teamName),1),t("div",ks,[t("span",Ds,[l(v,null,{default:s(()=>[l(p(We))]),_:1}),a(" 队长："+r(i.leaderName),1)]),t("span",Ss,[l(v,null,{default:s(()=>[l(p(Xt))]),_:1}),a(" 团队规模："+r(i.teamSize)+"人 ",1)]),t("span",Rs,[l(v,null,{default:s(()=>[l(p(ue))]),_:1}),a(" "+r(i.submitTime),1)])])])]),t("div",Ms,[Nt(i)?(u(),d(h,{key:0},[t("div",Vs,[t("h4",Is,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[117]||(e[117]=a(" 申请理由 ",-1))]),t("p",xs,r(i.applicationReason),1)]),i.otherInfo?(u(),d("div",Ns,[t("h4",Ts,[l(v,null,{default:s(()=>[l(p(Kt))]),_:1}),e[118]||(e[118]=a(" 其他说明 ",-1))]),t("p",hs,r(i.otherInfo),1)])):m("",!0),z.value?(u(),d("div",Es,[l(c,{type:"success",size:"small"},{default:s(()=>[l(v,null,{default:s(()=>[l(p(oe))]),_:1}),e[119]||(e[119]=a(" 通过申请 ",-1))]),_:1}),l(c,{type:"danger",size:"small"},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Ke))]),_:1}),e[120]||(e[120]=a(" 拒绝申请 ",-1))]),_:1}),l(c,{type:"primary",size:"small",plain:""},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Qe))]),_:1}),e[121]||(e[121]=a(" 联系团队 ",-1))]),_:1})])):m("",!0)],64)):(u(),d("div",Cs,[l(v,{class:"lock-icon"},{default:s(()=>[l(p(Ze))]),_:1}),e[122]||(e[122]=t("p",{class:"permission-hint"}," 详细申请信息仅对项目发布方和申请团队可见 ",-1))]))])]))),128))])):(u(),_(Ie,{key:1,description:"暂无揭榜申请","image-size":120},{default:s(()=>[l(c,{type:"primary",onClick:Ve},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Te))]),_:1}),e[123]||(e[123]=a(" 立即揭榜 ",-1))]),_:1})]),_:1}))])]),_:1}),l(ne,{label:"评论(23)",name:"comments"},{default:s(()=>[...e[124]||(e[124]=[t("div",{class:"tab-content"},"评论内容将在这里显示",-1)])]),_:1}),l(ne,{label:"企业介绍",name:"company"},{default:s(()=>[...e[125]||(e[125]=[t("div",{class:"tab-content"},"企业介绍内容将在这里显示",-1)])]),_:1}),l(ne,{label:"项目里程碑",name:"milestones"},{default:s(()=>[t("div",Ps,[ve.value?m("",!0):(u(),d("div",As,[l(xe,{type:"info",closable:!1,"show-icon":""},{title:s(()=>[...e[126]||(e[126]=[t("span",null,"您当前以访客身份查看，部分敏感信息仅对项目参与者（发布方和承接方）可见",-1)])]),_:1})])),t("div",Fs,[(u(!0),d(h,null,P(b.value,(i,x)=>(u(),d("div",{key:i.id,class:k(["milestone-item",{"milestone-completed":i.status==="completed","milestone-in-progress":i.status==="in-progress","milestone-pending":i.status==="pending","milestone-delayed":i.status==="delayed"}])},[x<b.value.length-1?(u(),d("div",Ls)):m("",!0),t("div",Bs,[i.status==="completed"?(u(),_(v,{key:0,class:"marker-icon completed"},{default:s(()=>[l(p(oe))]),_:1})):i.status==="in-progress"?(u(),d("div",Us,[...e[127]||(e[127]=[t("div",{class:"pulse-dot"},null,-1)])])):(u(),d("div",zs))]),t("div",Os,[t("div",$s,[t("div",js,[t("h3",Hs,r(i.title),1),l(N,{type:ye(i.status),size:"large"},{default:s(()=>[a(r(be(i.status)),1)]),_:2},1032,["type"])]),t("div",qs,[t("div",Ys,[l(v,null,{default:s(()=>[l(p(Zt))]),_:1}),t("span",null,"计划: "+r(i.plannedDate),1)]),i.actualDate?(u(),d("div",Gs,[l(v,null,{default:s(()=>[l(p(oe))]),_:1}),t("span",null,"实际: "+r(i.actualDate),1)])):m("",!0),i.delayDays&&i.delayDays>0?(u(),d("div",Qs,[l(v,null,{default:s(()=>[l(p(ue))]),_:1}),t("span",null,"逾期 "+r(i.delayDays)+" 天",1)])):m("",!0),i.deliverables&&i.deliverables.length>0?(u(),d("div",Js,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),t("span",null,"交付物: "+r(i.deliverables.length),1)])):m("",!0)])]),t("div",Ws,r(Ue(i.description,100)),1)])],2))),128))]),b.value.length===0?(u(),_(Ie,{key:1,description:"暂无里程碑信息"})):m("",!0)])]),_:1})]),_:1},8,["modelValue"])])]),l(ae,{modelValue:W.value,"onUpdate:modelValue":e[13]||(e[13]=i=>W.value=i),title:X.value?X.value.title+" - 更新进度":"里程碑操作",width:"800px","close-on-click-modal":!1,"destroy-on-close":""},{footer:s(()=>[t("div",Zs,[l(c,{onClick:e[12]||(e[12]=i=>W.value=!1)},{default:s(()=>[...e[130]||(e[130]=[a("取消",-1)])]),_:1}),l(c,{type:"primary",onClick:dt,loading:K.value},{default:s(()=>[...e[131]||(e[131]=[a(" 提交 ",-1)])]),_:1},8,["loading"])])]),default:s(()=>[X.value?(u(),_(me,{key:0,ref_key:"milestoneFormRef",ref:we,model:V.value,rules:ot,"label-width":"120px"},{default:s(()=>[l(R,{label:"完成进度",prop:"progress"},{default:s(()=>[t("div",Xs,[l(Ft,{modelValue:V.value.progress,"onUpdate:modelValue":e[8]||(e[8]=i=>V.value.progress=i),min:0,max:100,"show-tooltip":!0},null,8,["modelValue"]),t("span",Ks,r(V.value.progress)+"%",1)])]),_:1}),l(R,{label:"完成说明",prop:"description"},{default:s(()=>[l(B,{modelValue:V.value.description,"onUpdate:modelValue":e[9]||(e[9]=i=>V.value.description=i),type:"textarea",rows:4,placeholder:"请描述本里程碑的完成情况、遇到的问题、解决方案等...","show-word-limit":"",maxlength:"1000"},null,8,["modelValue"])]),_:1}),l(R,{label:"交付物",prop:"deliverables"},{default:s(()=>[l(Ne,{"file-list":V.value.deliverables,"onUpdate:fileList":e[10]||(e[10]=i=>V.value.deliverables=i),action:"#",multiple:"","auto-upload":!1,limit:10},{tip:s(()=>[...e[129]||(e[129]=[t("div",{class:"el-upload__tip"}," 支持上传多个文件，单个文件不超过 100MB，最多10个文件 ",-1)])]),default:s(()=>[l(c,{type:"primary"},{default:s(()=>[l(v,null,{default:s(()=>[l(p(he))]),_:1}),e[128]||(e[128]=a(" 上传文件 ",-1))]),_:1})]),_:1},8,["file-list"])]),_:1}),l(R,{label:"问题与风险"},{default:s(()=>[l(B,{modelValue:V.value.risks,"onUpdate:modelValue":e[11]||(e[11]=i=>V.value.risks=i),type:"textarea",rows:3,placeholder:"如有问题或风险，请在此说明...","show-word-limit":"",maxlength:"500"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):m("",!0)]),_:1},8,["modelValue","title"]),l(ae,{modelValue:Z.value,"onUpdate:modelValue":e[24]||(e[24]=i=>Z.value=i),title:o.value?o.value.title+" - 详情":"里程碑详情",width:"950px","close-on-click-modal":!1,"destroy-on-close":""},{footer:s(()=>[t("div",Tn,[l(c,{onClick:e[23]||(e[23]=i=>Z.value=!1)},{default:s(()=>[...e[174]||(e[174]=[a("关闭",-1)])]),_:1}),Ce.value&&st(o.value)?(u(),_(c,{key:0,type:"primary",onClick:gt},{default:s(()=>[_e(o.value)?(u(),_(v,{key:0},{default:s(()=>[l(p(tl))]),_:1})):(u(),_(v,{key:1},{default:s(()=>[l(p(he))]),_:1})),a(" "+r(_e(o.value)?"更新进度":"提交"+o.value.title),1)]),_:1})):m("",!0)])]),default:s(()=>[o.value?(u(),d("div",ei,[t("div",{class:k(["detail-section",{"milestone-completed-section":L(o.value)}])},[t("div",ti,[e[133]||(e[133]=t("h4",null,"基本信息",-1)),t("div",li,[l(N,{type:ye(o.value.status),size:"small"},{default:s(()=>[a(r(be(o.value.status)),1)]),_:1},8,["type"]),j(o.value)&&!A.value?(u(),_(c,{key:0,type:"primary",size:"small",text:"",onClick:Be},{default:s(()=>[l(v,null,{default:s(()=>[l(p(J))]),_:1}),e[132]||(e[132]=a(" 编辑 ",-1))]),_:1})):m("",!0)])]),t("div",si,[A.value&&j(o.value)?(u(),d("div",ii,[l(B,{modelValue:D.value.description,"onUpdate:modelValue":e[14]||(e[14]=i=>D.value.description=i),type:"textarea",rows:3,placeholder:"请输入里程碑描述"},null,8,["modelValue"])])):(u(),d("p",{key:1,class:k(["description-full",{"completed-text":L(o.value)}])},r(o.value.description),3)),t("div",ni,[t("div",ai,[e[134]||(e[134]=t("span",{class:"meta-label"},"阶段编码：",-1)),t("span",{class:k({"completed-text":L(o.value)})},r(o.value.code),3)]),A.value&&j(o.value)?(u(),d("div",oi,[e[135]||(e[135]=t("span",{class:"meta-label"},"计划日期：",-1)),l(Lt,{modelValue:D.value.plannedDate,"onUpdate:modelValue":e[15]||(e[15]=i=>D.value.plannedDate=i),type:"date",placeholder:"选择计划完成日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",style:{width:"200px"}},null,8,["modelValue"])])):(u(),d("div",ui,[e[136]||(e[136]=t("span",{class:"meta-label"},"计划日期：",-1)),t("span",{class:k({"completed-text":L(o.value)})},r(o.value.plannedDate),3)])),o.value.actualDate?(u(),d("div",di,[e[137]||(e[137]=t("span",{class:"meta-label"},"实际完成：",-1)),t("span",{class:k({"completed-text":L(o.value)})},r(o.value.actualDate),3)])):m("",!0),o.value.delayDays?(u(),d("div",ri,[e[138]||(e[138]=t("span",{class:"meta-label"},"延迟天数：",-1)),t("span",{class:k({"text-danger":o.value.delayDays>0,"completed-text":L(o.value)})},r(o.value.delayDays>0?`延迟 ${o.value.delayDays} 天`:`提前 ${Math.abs(o.value.delayDays)} 天`),3)])):m("",!0)]),A.value&&j(o.value)?(u(),d("div",vi,[l(c,{size:"small",onClick:pt},{default:s(()=>[...e[139]||(e[139]=[a("取消",-1)])]),_:1}),l(c,{type:"primary",size:"small",onClick:mt},{default:s(()=>[...e[140]||(e[140]=[a("保存",-1)])]),_:1})])):m("",!0)])],2),t("div",{class:k(["detail-section",{"milestone-completed-section":L(o.value)}])},[t("div",pi,[e[142]||(e[142]=t("h4",null,"交付物",-1)),t("div",mi,[t("span",ci,r(o.value.deliverables.length)+" 项",1),j(o.value)&&!A.value?(u(),_(c,{key:0,type:"primary",size:"small",text:"",onClick:Be},{default:s(()=>[l(v,null,{default:s(()=>[l(p(J))]),_:1}),e[141]||(e[141]=a(" 编辑 ",-1))]),_:1})):m("",!0)])]),t("div",fi,[A.value&&j(o.value)?(u(),d("div",gi,[(u(!0),d(h,null,P(D.value.deliverables,(i,x)=>(u(),d("div",{key:x,class:"deliverable-edit-item"},[l(B,{modelValue:D.value.deliverables[x],"onUpdate:modelValue":ce=>D.value.deliverables[x]=ce,placeholder:"请输入交付物名称",style:{flex:"1"}},null,8,["modelValue","onUpdate:modelValue"]),l(c,{type:"danger",size:"small",text:"",onClick:ce=>ft(x)},{default:s(()=>[l(v,null,{default:s(()=>[l(p(et))]),_:1})]),_:1},8,["onClick"])]))),128)),l(c,{type:"primary",size:"small",text:"",onClick:ct,style:{"margin-top":"8px"}},{default:s(()=>[l(v,null,{default:s(()=>[l(p(el))]),_:1}),e[143]||(e[143]=a(" 添加交付物 ",-1))]),_:1})])):o.value.deliverables&&o.value.deliverables.length>0?(u(),d("ul",yi,[(u(!0),d(h,null,P(o.value.deliverables,(i,x)=>(u(),d("li",{key:x,class:k({"completed-text":L(o.value)})},[l(v,null,{default:s(()=>[l(p(F))]),_:1}),t("span",null,r(i),1)],2))),128))])):(u(),d("div",bi,[t("span",{class:k({"completed-text":L(o.value)})}," 暂无交付物 ",2)]))])],2),z.value&&o.value.submissionSummary?(u(),d("div",_i,[t("div",wi,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[144]||(e[144]=t("h4",null,"承接方提交摘要",-1)),o.value.submissionSummary.version?(u(),_(N,{key:0,size:"small",type:"info"},{default:s(()=>[a(" v"+r(o.value.submissionSummary.version),1)]),_:1})):m("",!0)]),t("div",ki,[o.value.code==="BIDDING"?(u(),d("div",Di,[t("p",null,[e[145]||(e[145]=t("strong",null,"申请者：",-1)),a(r(o.value.submissionSummary.applicantName),1)]),o.value.submissionSummary.teamName?(u(),d("p",Si,[e[146]||(e[146]=t("strong",null,"团队：",-1)),a(r(o.value.submissionSummary.teamName),1)])):m("",!0),t("p",null,[e[147]||(e[147]=t("strong",null,"申请理由：",-1)),a(r(o.value.submissionSummary.reason),1)]),t("p",Ri,"提交时间："+r(o.value.submissionSummary.submitTime),1)])):o.value.code==="PROPOSAL"?(u(),d("div",Mi,[t("p",null,[e[148]||(e[148]=t("strong",null,"方案标题：",-1)),a(r(o.value.submissionSummary.title),1)]),t("p",null,[e[149]||(e[149]=t("strong",null,"技术栈：",-1)),(u(!0),d(h,null,P(o.value.submissionSummary.techStack,i=>(u(),_(N,{key:i,size:"small",style:{"margin-right":"4px","margin-top":"4px"}},{default:s(()=>[a(r(i),1)]),_:2},1024))),128))]),t("p",null,[e[150]||(e[150]=t("strong",null,"方案概述：",-1)),a(r(o.value.submissionSummary.planOverview),1)]),t("p",Vi,"提交时间："+r(o.value.submissionSummary.submitTime),1)])):o.value.code==="MIDTERM"?(u(),d("div",Ii,[t("p",null,[e[151]||(e[151]=t("strong",null,"材料类型：",-1)),a(r(o.value.submissionSummary.materialType),1)]),t("p",null,[e[152]||(e[152]=t("strong",null,"进度对比：",-1)),a(r(o.value.submissionSummary.progressComparison),1)]),t("p",null,[e[153]||(e[153]=t("strong",null,"问题数量：",-1)),a(r(o.value.submissionSummary.issueCount)+"个",1)]),t("p",xi,"提交时间："+r(o.value.submissionSummary.submitTime),1)])):(u(),d("div",Ni,[t("p",null,[e[154]||(e[154]=t("strong",null,"提交者：",-1)),a(r(o.value.submissionSummary.submitterName),1)]),t("p",Ti,"提交时间："+r(o.value.submissionSummary.submitTime),1)]))]),t("div",hi,[l(c,{type:"text",size:"small",onClick:e[16]||(e[16]=i=>Ae(o.value))},{default:s(()=>[e[155]||(e[155]=a(" 查看完整内容 ",-1)),l(v,null,{default:s(()=>[l(p(Xe))]),_:1})]),_:1}),o.value.submissionSummary.hasHistory?(u(),_(c,{key:0,type:"text",size:"small",onClick:e[17]||(e[17]=i=>Fe(o.value))},{default:s(()=>[e[156]||(e[156]=a(" 查看历史版本 ",-1)),l(v,null,{default:s(()=>[l(p(ue))]),_:1})]),_:1})):m("",!0)])])):m("",!0),z.value&&Le(o.value)?(u(),d("div",Ei,[t("div",Ci,[l(v,null,{default:s(()=>[l(p(J))]),_:1}),e[157]||(e[157]=t("h4",null,"发布方操作",-1))]),t("div",Pi,[o.value.code==="BIDDING"?(u(),d(h,{key:0},[l(c,{type:"success",onClick:e[18]||(e[18]=i=>De(o.value,"通过"))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(oe))]),_:1}),e[158]||(e[158]=a(" 通过申请 ",-1))]),_:1}),l(c,{type:"danger",onClick:e[19]||(e[19]=i=>De(o.value,"拒绝"))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Ke))]),_:1}),e[159]||(e[159]=a(" 拒绝申请 ",-1))]),_:1})],64)):o.value.code==="MIDTERM"?(u(),d(h,{key:1},[l(c,{type:"primary",onClick:e[20]||(e[20]=i=>it(o.value))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(J))]),_:1}),e[160]||(e[160]=a(" 进入中期答辩 ",-1))]),_:1}),l(c,{type:"warning",onClick:e[21]||(e[21]=i=>wt(o.value))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(et))]),_:1}),e[161]||(e[161]=a(" 跳过此里程碑 ",-1))]),_:1})],64)):(u(),_(c,{key:2,type:"primary",onClick:e[22]||(e[22]=i=>De(o.value,"审核"))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(J))]),_:1}),a(" "+r(nt(o.value)),1)]),_:1}))])])):m("",!0),ve.value&&o.value.reviewHistory&&o.value.reviewHistory.length>0?(u(),d("div",Ai,[t("div",Fi,[l(v,null,{default:s(()=>[l(p(ue))]),_:1}),e[162]||(e[162]=t("h4",null,"审核历史",-1)),t("span",Li,r(o.value.reviewHistory.length)+" 条",1)]),t("div",Bi,[t("div",Ui,[(u(!0),d(h,null,P(o.value.reviewHistory,(i,x)=>(u(),d("div",{key:i.reviewId,class:k(["review-history-item",{"latest-review":x===0}])},[t("div",zi,[t("div",Oi,[t("div",$i,[t("span",ji,r(i.reviewerName),1),t("span",Hi,r(i.reviewTime),1)])]),t("div",qi,[l(N,{type:at(i.reviewResult),size:"small"},{default:s(()=>[a(r(i.reviewResult),1)]),_:2},1032,["type"]),i.submissionVersion?(u(),d("span",Yi," v"+r(i.submissionVersion),1)):m("",!0)])]),t("div",Gi,[t("p",Qi,r(i.reviewComment),1),i.attachments&&i.attachments.length>0?(u(),d("div",Ji,[l(v,null,{default:s(()=>[l(p(tt))]),_:1}),(u(!0),d(h,null,P(i.attachments,(ce,jt)=>(u(),d("span",{key:jt,class:"attachment-link"},r(ce.name),1))),128))])):m("",!0),i.highlights?(u(),d("div",Wi,[t("div",Xi,[e[163]||(e[163]=t("span",{class:"label"},"亮点：",-1)),t("span",null,r(i.highlights),1)])])):m("",!0),i.issues?(u(),d("div",Ki,[t("div",Zi,[e[164]||(e[164]=t("span",{class:"label"},"问题：",-1)),t("span",null,r(i.issues),1)])])):m("",!0),i.rectificationRequirements?(u(),d("div",en,[t("div",tn,[e[165]||(e[165]=t("span",{class:"label"},"整改要求：",-1)),t("span",null,r(i.rectificationRequirements),1)])])):m("",!0)])],2))),128))])])])):m("",!0),o.value.processChecklist&&o.value.processChecklist.length>0?(u(),d("div",ln,[t("div",sn,[e[166]||(e[166]=t("h4",null,"过程任务",-1)),t("span",nn,r(o.value.processChecklist.length)+" 个",1)]),t("div",an,[t("div",on,[(u(!0),d(h,null,P(o.value.processChecklist,(i,x)=>(u(),d("div",{key:i.id,class:"sub-milestone-item"},[t("div",un,[t("span",dn,r(i.text),1),l(N,{type:i.done?"success":"info",size:"small"},{default:s(()=>[a(r(i.done?"已完成":"待开始"),1)]),_:2},1032,["type"])]),i.time?(u(),d("div",rn,[t("span",null,"时间："+r(i.time),1)])):m("",!0)]))),128))])])])):m("",!0),ve.value?(u(),d("div",vn,[l(Bt,null,{default:s(()=>[l(v,null,{default:s(()=>[l(p(Ze))]),_:1}),e[167]||(e[167]=t("span",null,"项目参与者信息",-1))]),_:1}),o.value.progressDetail?(u(),d("div",pn,[e[168]||(e[168]=t("div",{class:"section-header"},[t("h4",null,"详细进度")],-1)),t("div",mn,[l(Ut,{percentage:o.value.progressDetail.percentage,status:o.value.progressDetail.status,"stroke-width":10},null,8,["percentage","status"]),t("p",cn,r(o.value.progressDetail.note),1)])])):m("",!0),o.value.communications&&o.value.communications.length>0?(u(),d("div",fn,[t("div",gn,[e[169]||(e[169]=t("h4",null,"沟通记录",-1)),t("span",yn,r(o.value.communications.length)+" 条",1)]),t("div",bn,[(u(!0),d(h,null,P(o.value.communications,(i,x)=>(u(),d("div",{key:x,class:"communication-item-full"},[t("div",_n,[t("span",wn,r(i.author),1),t("span",kn,r(i.time),1)]),t("p",Dn,r(i.content),1)]))),128))])])):m("",!0),o.value.internalNotes?(u(),d("div",Sn,[e[170]||(e[170]=t("div",{class:"section-header"},[t("h4",null,"内部备注")],-1)),t("div",Rn,[t("p",null,r(o.value.internalNotes),1)])])):m("",!0),o.value.sensitiveAttachments&&o.value.sensitiveAttachments.length>0?(u(),d("div",Mn,[t("div",Vn,[e[171]||(e[171]=t("h4",null,"内部附件",-1)),t("span",In,r(o.value.sensitiveAttachments.length)+" 个",1)]),t("div",xn,[(u(!0),d(h,null,P(o.value.sensitiveAttachments,(i,x)=>(u(),d("div",{key:x,class:"attachment-item-full"},[l(v,null,{default:s(()=>[l(p(F))]),_:1}),t("span",null,r(i.name)+" ("+r(i.size)+")",1),l(O,{type:"primary",underline:!1},{default:s(()=>[...e[172]||(e[172]=[a("[下载]",-1)])]),_:1})]))),128))])])):m("",!0)])):(u(),d("div",Nn,[l(xe,{type:"info",closable:!1,"show-icon":""},{title:s(()=>[...e[173]||(e[173]=[t("span",null,"此里程碑包含项目参与者专属信息，仅项目发布方和承接方可查看",-1)])]),_:1})]))])):m("",!0)]),_:1},8,["modelValue","title"]),l(ae,{modelValue:ee.value,"onUpdate:modelValue":e[32]||(e[32]=i=>ee.value=i),title:n.currentMilestoneForReview?"审核 - "+n.currentMilestoneForReview.title:"审核",width:"1200px","close-on-click-modal":!1,"destroy-on-close":""},{footer:s(()=>[t("div",ra,[l(c,{onClick:e[31]||(e[31]=i=>ee.value=!1)},{default:s(()=>[...e[200]||(e[200]=[a("取消",-1)])]),_:1}),l(c,{type:"primary",onClick:bt,loading:K.value},{default:s(()=>[...e[201]||(e[201]=[a(" 提交审核 ",-1)])]),_:1},8,["loading"])])]),default:s(()=>[t("div",hn,[t("div",En,[t("div",Cn,[l(v,null,{default:s(()=>[l(p(F))]),_:1}),e[175]||(e[175]=t("span",null,"提交内容预览",-1))]),t("div",Pn,[n.currentMilestoneForReview&&n.currentMilestoneForReview.submissionSummary?(u(),d("div",An,[n.currentMilestoneForReview.code==="BIDDING"?(u(),d("div",Fn,[t("div",Ln,[e[176]||(e[176]=t("span",{class:"preview-label"},"申请人：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.applicantName),1)]),t("div",Bn,[e[177]||(e[177]=t("span",{class:"preview-label"},"团队名称：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.teamName),1)]),t("div",Un,[e[178]||(e[178]=t("span",{class:"preview-label"},"申请理由：",-1)),t("p",zn,r(n.currentMilestoneForReview.submissionSummary.reason),1)]),t("div",On,[e[179]||(e[179]=t("span",{class:"preview-label"},"提交时间：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.submitTime),1)])])):m("",!0),n.currentMilestoneForReview.code==="PROPOSAL"?(u(),d("div",$n,[t("div",jn,[e[180]||(e[180]=t("span",{class:"preview-label"},"方案标题：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.proposalTitle),1)]),t("div",Hn,[e[181]||(e[181]=t("span",{class:"preview-label"},"技术方案摘要：",-1)),t("p",qn,r(n.currentMilestoneForReview.submissionSummary.technicalSummary),1)]),t("div",Yn,[e[182]||(e[182]=t("span",{class:"preview-label"},"实施计划：",-1)),t("p",Gn,r(n.currentMilestoneForReview.submissionSummary.implementationPlan),1)]),t("div",Qn,[e[183]||(e[183]=t("span",{class:"preview-label"},"风险评估：",-1)),t("p",Jn,r(n.currentMilestoneForReview.submissionSummary.riskAssessment),1)]),t("div",Wn,[e[184]||(e[184]=t("span",{class:"preview-label"},"提交时间：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.submitTime),1)])])):m("",!0),["MIDTERM","DELIVERY"].includes(n.currentMilestoneForReview.code)?(u(),d("div",Xn,[t("div",Kn,[e[185]||(e[185]=t("span",{class:"preview-label"},"成果标题：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.resultTitle),1)]),t("div",Zn,[e[186]||(e[186]=t("span",{class:"preview-label"},"完成情况：",-1)),t("p",ea,r(n.currentMilestoneForReview.submissionSummary.completionStatus),1)]),t("div",ta,[e[187]||(e[187]=t("span",{class:"preview-label"},"核心成果：",-1)),t("p",la,r(n.currentMilestoneForReview.submissionSummary.coreResults),1)]),n.currentMilestoneForReview.submissionSummary.challenges?(u(),d("div",sa,[e[188]||(e[188]=t("span",{class:"preview-label"},"遇到的挑战：",-1)),t("p",ia,r(n.currentMilestoneForReview.submissionSummary.challenges),1)])):m("",!0),t("div",na,[e[189]||(e[189]=t("span",{class:"preview-label"},"提交时间：",-1)),t("span",null,r(n.currentMilestoneForReview.submissionSummary.submitTime),1)])])):m("",!0),t("div",aa,[l(c,{size:"small",onClick:e[25]||(e[25]=i=>Ae(n.currentMilestoneForReview))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(Je))]),_:1}),e[190]||(e[190]=a(" 查看完整内容 ",-1))]),_:1}),n.currentMilestoneForReview.submissionSummary.hasHistory?(u(),_(c,{key:0,size:"small",onClick:e[26]||(e[26]=i=>Fe(n.currentMilestoneForReview))},{default:s(()=>[l(v,null,{default:s(()=>[l(p(ue))]),_:1}),e[191]||(e[191]=a(" 查看历史版本 ",-1))]),_:1})):m("",!0)])])):(u(),_(Ie,{key:1,description:"暂无提交内容","image-size":80}))])]),t("div",oa,[t("div",ua,[l(v,null,{default:s(()=>[l(p(J))]),_:1}),e[192]||(e[192]=t("span",null,"审核意见",-1))]),t("div",da,[l(me,{model:I.value,rules:yt,ref_key:"reviewFormRef",ref:ke,"label-width":"100px"},{default:s(()=>[l(R,{label:"审核结果",prop:"reviewResult"},{default:s(()=>[l(qe,{modelValue:I.value.reviewResult,"onUpdate:modelValue":e[27]||(e[27]=i=>I.value.reviewResult=i)},{default:s(()=>[l($,{label:"通过"},{default:s(()=>[...e[193]||(e[193]=[a("通过",-1)])]),_:1}),l($,{label:"拒绝"},{default:s(()=>[...e[194]||(e[194]=[a("拒绝",-1)])]),_:1}),n.currentMilestoneForReview&&!["BIDDING"].includes(n.currentMilestoneForReview.code)?(u(),_($,{key:0,label:"要求修改"},{default:s(()=>[...e[195]||(e[195]=[a("要求修改",-1)])]),_:1})):m("",!0)]),_:1},8,["modelValue"])]),_:1}),l(R,{label:"审核意见",prop:"reviewComment"},{default:s(()=>[l(B,{modelValue:I.value.reviewComment,"onUpdate:modelValue":e[28]||(e[28]=i=>I.value.reviewComment=i),type:"textarea",rows:6,placeholder:"请输入审核意见（至少10个字）...","show-word-limit":"",maxlength:"500"},null,8,["modelValue"])]),_:1}),n.currentMilestoneForReview&&n.currentMilestoneForReview.code==="FINAL_REVIEW"?(u(),_(R,{key:0,label:"评分",prop:"score"},{default:s(()=>[l(zt,{modelValue:I.value.score,"onUpdate:modelValue":e[29]||(e[29]=i=>I.value.score=i),"show-score":"",max:10},null,8,["modelValue"]),e[196]||(e[196]=t("span",{class:"score-hint"},"（满分10分）",-1))]),_:1})):m("",!0),l(R,{label:"附件"},{default:s(()=>[l(Ne,{class:"review-upload","auto-upload":!1,"file-list":I.value.attachments,multiple:"",limit:5},{tip:s(()=>[...e[198]||(e[198]=[t("div",{class:"upload-tip"},"支持上传最多5个附件，单个文件不超过10MB",-1)])]),default:s(()=>[l(c,{size:"small"},{default:s(()=>[l(v,null,{default:s(()=>[l(p(tt))]),_:1}),e[197]||(e[197]=a(" 添加附件 ",-1))]),_:1})]),_:1},8,["file-list"])]),_:1}),l(R,{label:"通知承接方"},{default:s(()=>[l(Ot,{modelValue:I.value.notifyBidder,"onUpdate:modelValue":e[30]||(e[30]=i=>I.value.notifyBidder=i)},null,8,["modelValue"]),e[199]||(e[199]=t("span",{class:"switch-hint"},"（通过邮件和站内消息通知）",-1))]),_:1})]),_:1},8,["model"])])])])]),_:1},8,["modelValue","title"]),l(ae,{modelValue:te.value,"onUpdate:modelValue":e[35]||(e[35]=i=>te.value=i),title:"跳过里程碑",width:"600px","close-on-click-modal":!1,"destroy-on-close":""},{footer:s(()=>[t("div",va,[l(c,{onClick:e[34]||(e[34]=i=>te.value=!1)},{default:s(()=>[...e[203]||(e[203]=[a("取消",-1)])]),_:1}),l(c,{type:"warning",onClick:kt,loading:K.value},{default:s(()=>[...e[204]||(e[204]=[a(" 确认跳过 ",-1)])]),_:1},8,["loading"])])]),default:s(()=>[l(xe,{title:"重要提示",type:"warning",closable:!1,"show-icon":""},{default:s(()=>[...e[202]||(e[202]=[t("p",null,'跳过里程碑后将无法恢复，该阶段将被标记为"已跳过"状态。',-1),t("p",null,"项目将直接进入下一个里程碑阶段，请谨慎操作！",-1)])]),_:1}),l(me,{model:le.value,rules:_t,ref_key:"skipFormRef",ref:Re,"label-width":"100px",style:{"margin-top":"20px"}},{default:s(()=>[l(R,{label:"跳过原因",prop:"skipReason"},{default:s(()=>[l(B,{modelValue:le.value.skipReason,"onUpdate:modelValue":e[33]||(e[33]=i=>le.value.skipReason=i),type:"textarea",rows:5,placeholder:"请说明跳过该里程碑的原因（至少10个字）...","show-word-limit":"",maxlength:"200"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),l(ae,{modelValue:ie.value,"onUpdate:modelValue":e[44]||(e[44]=i=>ie.value=i),title:"揭榜申请",width:"800px","close-on-click-modal":!1,"destroy-on-close":""},{footer:s(()=>[t("div",fa,[l(c,{onClick:Mt},{default:s(()=>[...e[215]||(e[215]=[a("取消",-1)])]),_:1}),l(c,{type:"primary",onClick:Vt,loading:Me.value},{default:s(()=>[...e[216]||(e[216]=[a(" 提交申请 ",-1)])]),_:1},8,["loading"])])]),default:s(()=>[l(me,{ref_key:"biddingFormRef",ref:Y,model:S.value,rules:Rt,"label-width":"120px"},{default:s(()=>[t("div",pa,[e[206]||(e[206]=t("h4",{class:"form-section-title"},"团队信息",-1)),l(R,{label:"团队名称",prop:"teamName"},{default:s(()=>[l(B,{modelValue:S.value.teamName,"onUpdate:modelValue":e[36]||(e[36]=i=>S.value.teamName=i),placeholder:"请输入团队名称",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(R,{label:"团队规模",prop:"teamSize"},{default:s(()=>[l($t,{modelValue:S.value.teamSize,"onUpdate:modelValue":e[37]||(e[37]=i=>S.value.teamSize=i),min:2,max:20,step:1,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[205]||(e[205]=t("span",{class:"form-tip",style:{"margin-left":"12px"}}," 建议：2-4人 ",-1))]),_:1})]),t("div",ma,[e[211]||(e[211]=t("h4",{class:"form-section-title"},"技能与经验",-1)),l(R,{label:"必备技能",prop:"requiredSkills"},{default:s(()=>[l(Ye,{modelValue:S.value.requiredSkills,"onUpdate:modelValue":e[38]||(e[38]=i=>S.value.requiredSkills=i),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"请选择或输入团队掌握的必备技能",style:{width:"100%"}},{default:s(()=>[l(y,{label:"Vue.js",value:"Vue.js"}),l(y,{label:"React",value:"React"}),l(y,{label:"Angular",value:"Angular"}),l(y,{label:"Spring Boot",value:"Spring Boot"}),l(y,{label:"Node.js",value:"Node.js"}),l(y,{label:"Python",value:"Python"}),l(y,{label:"Java",value:"Java"}),l(y,{label:"MySQL",value:"MySQL"}),l(y,{label:"Redis",value:"Redis"}),l(y,{label:"MongoDB",value:"MongoDB"}),l(y,{label:"Docker",value:"Docker"}),l(y,{label:"Kubernetes",value:"Kubernetes"}),l(y,{label:"微信小程序",value:"微信小程序"}),l(y,{label:"Android",value:"Android"}),l(y,{label:"iOS",value:"iOS"}),l(y,{label:"人工智能",value:"人工智能"}),l(y,{label:"机器学习",value:"机器学习"}),l(y,{label:"数据分析",value:"数据分析"})]),_:1},8,["modelValue"])]),_:1}),l(R,{label:"加分技能",prop:"bonusSkills"},{default:s(()=>[l(Ye,{modelValue:S.value.bonusSkills,"onUpdate:modelValue":e[39]||(e[39]=i=>S.value.bonusSkills=i),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"请选择或输入团队掌握的加分技能（可选）",style:{width:"100%"}},{default:s(()=>[l(y,{label:"UI/UX设计",value:"UI/UX设计"}),l(y,{label:"软件测试",value:"软件测试"}),l(y,{label:"项目管理",value:"项目管理"}),l(y,{label:"敏捷开发",value:"敏捷开发"}),l(y,{label:"DevOps",value:"DevOps"}),l(y,{label:"云计算",value:"云计算"}),l(y,{label:"大数据",value:"大数据"}),l(y,{label:"区块链",value:"区块链"}),l(y,{label:"网络安全",value:"网络安全"}),l(y,{label:"英语能力",value:"英语能力"})]),_:1},8,["modelValue"])]),_:1}),l(R,{label:"项目经验",prop:"experienceLevel"},{default:s(()=>[l(qe,{modelValue:S.value.experienceLevel,"onUpdate:modelValue":e[40]||(e[40]=i=>S.value.experienceLevel=i)},{default:s(()=>[l($,{value:"none"},{default:s(()=>[...e[207]||(e[207]=[a("无项目经验",-1)])]),_:1}),l($,{value:"basic"},{default:s(()=>[...e[208]||(e[208]=[a("有基础项目经验",-1)])]),_:1}),l($,{value:"intermediate"},{default:s(()=>[...e[209]||(e[209]=[a("有中级项目经验（1-2个项目）",-1)])]),_:1}),l($,{value:"advanced"},{default:s(()=>[...e[210]||(e[210]=[a("有高级项目经验（3个以上项目）",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),t("div",ca,[e[214]||(e[214]=t("h4",{class:"form-section-title"},"申请说明",-1)),l(R,{label:"申请理由",prop:"applicationReason"},{default:s(()=>[l(B,{modelValue:S.value.applicationReason,"onUpdate:modelValue":e[41]||(e[41]=i=>S.value.applicationReason=i),type:"textarea",rows:6,placeholder:`请详细说明：
1. 团队优势和成员分工
2. 项目实施计划和时间安排
3. 相关经验和成功案例
4. 为什么你们适合这个项目`,maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(R,{label:"其他说明"},{default:s(()=>[l(B,{modelValue:S.value.otherInfo,"onUpdate:modelValue":e[42]||(e[42]=i=>S.value.otherInfo=i),type:"textarea",rows:3,placeholder:"如有其他需要说明的信息，请在此填写（可选）",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(R,{label:"附件资料"},{default:s(()=>[l(Ne,{"file-list":S.value.attachments,"onUpdate:fileList":e[43]||(e[43]=i=>S.value.attachments=i),action:"#","auto-upload":!1,"before-upload":It,"on-exceed":xt,limit:5,multiple:""},{tip:s(()=>[...e[213]||(e[213]=[t("div",{class:"el-upload__tip"}," 支持上传团队简介、项目作品、获奖证书等文件，单个文件不超过50MB，最多5个文件 ",-1)])]),default:s(()=>[l(c,{type:"primary",plain:""},{default:s(()=>[l(v,null,{default:s(()=>[l(p(he))]),_:1}),e[212]||(e[212]=a(" 上传文件 ",-1))]),_:1})]),_:1},8,["file-list"])]),_:1})])]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}},wa=Ht(ga,[["__scopeId","data-v-3f32232f"]]);export{wa as default};
