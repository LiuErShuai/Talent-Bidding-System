import{_ as ee,r,c as u,s as te,a as n,h as se,b as s,k as ae,w as le,f as C,v as oe,F as _,d as p,l as P,t as l,u as ne,o as i,n as f,x as ie}from"./index-DttCejnL.js";const ce={class:"project-hall-page"},de={class:"page-body"},re={class:"search-filter-section"},ue={class:"search-row"},ve={class:"search-box"},ge={key:0,class:"search-suggestions"},_e=["onClick"],pe={class:"suggestion-title"},fe={class:"suggestion-company"},he={class:"filter-rows"},be={class:"filter-row"},ke=["onClick"],me={class:"filter-row"},we=["onClick"],ye={class:"filter-row"},Ce=["onClick"],xe={class:"filter-row sort-row"},Te=["onClick"],De={class:"project-list-section"},Se={class:"list-header"},Ae={key:0,class:"project-list"},je=["onClick"],Ve={class:"project-card-main"},$e={class:"project-card-left"},Le={class:"project-card-title-row"},Ne={class:"project-badges"},Pe={class:"project-title"},Ie={class:"project-meta-row"},He={class:"meta-item"},Oe={class:"meta-item"},Re={class:"meta-item"},Ee={class:"project-brief"},Me={class:"project-footer-row"},Be={class:"project-actions"},Fe=["onClick"],Ue={class:"project-stats"},We={class:"stat-text"},Ge={class:"like-text"},ze={class:"project-card-right"},Xe={class:"reward"},Ye={key:1,class:"empty-state"},Ze={key:2,class:"pagination"},qe=["disabled"],Je=["onClick"],Ke=["disabled"],Qe={__name:"index",setup(et){const D=ne(),S=r(!1);r(!1);const I=r(0),A=r({username:"张三",role:"student",avatar:"https://picsum.photos/seed/user123/40/40.jpg"});u(()=>A.value.role||"student");const H=()=>{if(localStorage.getItem("token")){S.value=!0;const t=localStorage.getItem("userData");t&&(A.value=JSON.parse(t))}else S.value=!1,I.value=0},g=r(""),m=r(!1),w=r("all"),v=r(["all"]),h=r("all"),b=r("comprehensive"),c=r(1),x=r(5),O=[{label:"全部",value:"all"},{label:"软件工程",value:"software"},{label:"人工智能",value:"ai"},{label:"大数据",value:"big-data"},{label:"移动开发",value:"mobile"},{label:"Web前端",value:"frontend"}],R=[{label:"全部",value:"all"},{label:"揭榜中",value:"bidding"},{label:"评审中",value:"reviewing"},{label:"公示中",value:"publishing"},{label:"已完成",value:"completed"}],E=[{label:"全部",value:"all"},{label:"0-5千",value:"0-5k"},{label:"5千-1万",value:"5k-10k"},{label:"1万-3万",value:"10k-30k"},{label:"3万以上",value:"30k+"}],M=[{label:"综合排序",value:"comprehensive"},{label:"最新发布",value:"latest"},{label:"奖金最高",value:"reward-desc"},{label:"即将截止",value:"deadline-asc"}],B={bidding:"揭榜中",reviewing:"评审中",publishing:"公示中",completed:"已完成"},F=r([{id:1,title:"AI智能客服系统开发",company:"XX科技有限公司",field:"人工智能",fieldValue:"ai",status:"bidding",reward:15e3,deadlineDays:7,brief:"需要开发一套基于自然语言处理的智能客服系统，用于提升客户服务效率...",tag:"HOT",tagText:"HOT",joinCount:12,likeCount:45,createdAt:"2025-01-10"},{id:2,title:"电商平台前端开发",company:"YY网络公司",field:"Web前端",fieldValue:"frontend",status:"bidding",reward:8e3,deadlineDays:5,brief:"开发一个现代化的电商平台前端页面，支持响应式布局和多终端适配...",tag:"NEW",tagText:"NEW",joinCount:8,likeCount:32,createdAt:"2025-01-14"},{id:3,title:"数据分析与可视化项目",company:"ZZ数据公司",field:"大数据",fieldValue:"big-data",status:"reviewing",reward:1e4,deadlineDays:0,brief:"需要对销售数据进行深度分析并制作可视化报表，支持多维度钻取分析...",tag:"",tagText:"",joinCount:15,likeCount:28,createdAt:"2025-01-05"},{id:4,title:"移动学习APP开发",company:"智慧教育科技有限公司",field:"移动开发",fieldValue:"mobile",status:"bidding",reward:2e4,deadlineDays:3,brief:"开发一款面向高校学生的移动学习应用，支持课程学习、作业提交、在线测验等...",tag:"URGENT",tagText:"急",joinCount:20,likeCount:60,createdAt:"2025-01-15"},{id:5,title:"高校实验室管理系统",company:"校园信息化中心",field:"软件工程",fieldValue:"software",status:"publishing",reward:12e3,deadlineDays:0,brief:"为高校实验室建设一套预约与管理系统，支持实验预约、设备管理和数据统计...",tag:"",tagText:"",joinCount:18,likeCount:40,createdAt:"2024-12-30"},{id:6,title:"企业数据中台建设",company:"鸿云科技集团",field:"大数据",fieldValue:"big-data",status:"completed",reward:35e3,deadlineDays:-10,brief:"搭建企业级数据中台，统一数据标准，支持多业务系统的数据服务能力...",tag:"HOT",tagText:"HOT",joinCount:25,likeCount:80,createdAt:"2024-11-20"}]),j=u(()=>F.value.map(a=>({...a,deadlineText:a.deadlineDays>0?`${a.deadlineDays}天后`:a.deadlineDays===0?"今天截止":"已截止"}))),V=u(()=>{if(!g.value.trim())return[];const a=g.value.trim().toLowerCase();return j.value.filter(t=>t.title.toLowerCase().includes(a)||t.company.toLowerCase().includes(a)).slice(0,5)}),U=()=>{m.value=!!g.value.trim(),c.value=1},W=()=>{m.value=!1,c.value=1},G=a=>{g.value=a.title,m.value=!1,c.value=1},z=a=>{w.value=a,c.value=1},X=a=>{if(a==="all")v.value=["all"];else{const t=v.value.includes(a),o=v.value.filter(e=>e!=="all");if(t){const e=o.filter(d=>d!==a);v.value=e.length?e:["all"]}else o.push(a),v.value=o}c.value=1},Y=a=>{h.value=a,c.value=1},Z=a=>{b.value=a,c.value=1},q=u(()=>{const a=g.value.trim().toLowerCase();return j.value.filter(t=>{const o=!a||t.title.toLowerCase().includes(a)||t.company.toLowerCase().includes(a),e=w.value==="all"||t.fieldValue===w.value,d=v.value.includes("all")||v.value.includes(t.status);let k=!0;return h.value==="0-5k"?k=t.reward<=5e3:h.value==="5k-10k"?k=t.reward>5e3&&t.reward<=1e4:h.value==="10k-30k"?k=t.reward>1e4&&t.reward<=3e4:h.value==="30k+"&&(k=t.reward>3e4),o&&e&&d&&k})}),$=u(()=>{const a=[...q.value];return b.value==="latest"?a.sort((t,o)=>new Date(o.createdAt)-new Date(t.createdAt)):b.value==="reward-desc"?a.sort((t,o)=>o.reward-t.reward):b.value==="deadline-asc"?a.sort((t,o)=>t.deadlineDays-o.deadlineDays):a.sort((t,o)=>{const e=(t.tag==="HOT"?2:0)+(t.tag==="URGENT"?1:0),d=(o.tag==="HOT"?2:0)+(o.tag==="URGENT"?1:0);return d!==e?d-e:new Date(o.createdAt)-new Date(t.createdAt)}),a}),L=u(()=>$.value.length),y=u(()=>Math.max(1,Math.ceil(L.value/x.value))),N=u(()=>{const a=(c.value-1)*x.value;return $.value.slice(a,a+x.value)}),J=u(()=>{const a=[];for(let t=1;t<=y.value;t++)a.push(t);return a}),T=a=>{if(a<1||a>y.value)return;c.value=a;const t=document.querySelector(".project-list-section");t&&t.scrollIntoView({behavior:"smooth"})},K=a=>{D.push(`/apply/${a}`)},Q=a=>{D.push(`/projects/${a}`)};return te(()=>{H()}),(a,t)=>{const o=ae("AppHeader");return i(),n("div",ce,[se(o),s("main",de,[s("section",re,[s("div",ue,[s("div",ve,[le(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),type:"text",class:"search-input",placeholder:"搜索项目名称 / 编号 / 企业名称",onInput:U},null,544),[[oe,g.value]]),s("button",{class:"search-btn",onClick:W},"搜索"),m.value&&V.value.length?(i(),n("ul",ge,[(i(!0),n(_,null,p(V.value,e=>(i(),n("li",{key:e.id,class:"suggestion-item",onClick:d=>G(e)},[s("span",pe,l(e.title),1),s("span",fe,l(e.company),1)],8,_e))),128))])):C("",!0)])]),s("div",he,[s("div",be,[t[3]||(t[3]=s("span",{class:"filter-label"},"项目领域：",-1)),(i(),n(_,null,p(O,e=>s("button",{key:e.value,class:f(["filter-chip",{active:w.value===e.value}]),onClick:d=>z(e.value)},l(e.label),11,ke)),64))]),s("div",me,[t[4]||(t[4]=s("span",{class:"filter-label"},"项目状态：",-1)),(i(),n(_,null,p(R,e=>s("button",{key:e.value,class:f(["filter-chip",{active:v.value.includes(e.value)}]),onClick:d=>X(e.value)},l(e.label),11,we)),64))]),s("div",ye,[t[5]||(t[5]=s("span",{class:"filter-label"},"奖金范围：",-1)),(i(),n(_,null,p(E,e=>s("button",{key:e.value,class:f(["filter-chip",{active:h.value===e.value}]),onClick:d=>Y(e.value)},l(e.label),11,Ce)),64))]),s("div",xe,[t[6]||(t[6]=s("span",{class:"filter-label"},"排序方式：",-1)),(i(),n(_,null,p(M,e=>s("button",{key:e.value,class:f(["filter-chip",{active:b.value===e.value}]),onClick:d=>Z(e.value)},l(e.label),11,Te)),64))])])]),s("section",De,[s("div",Se,[s("span",null,[t[7]||(t[7]=P("共找到 ",-1)),s("strong",null,l(L.value),1),t[8]||(t[8]=P(" 个项目",-1))])]),N.value.length?(i(),n("div",Ae,[(i(!0),n(_,null,p(N.value,e=>(i(),n("article",{key:e.id,class:"project-card",onClick:d=>Q(e.id)},[s("div",Ve,[s("div",$e,[s("div",Le,[s("div",Ne,[e.tag?(i(),n("span",{key:0,class:f(["badge",e.tag])},l(e.tagText),3)):C("",!0)]),s("h2",Pe,l(e.title),1)]),s("div",Ie,[s("span",He,"发布方："+l(e.company),1),t[9]||(t[9]=s("span",{class:"meta-sep"},"|",-1)),s("span",Oe,"领域："+l(e.field),1),t[10]||(t[10]=s("span",{class:"meta-sep"},"|",-1)),s("span",Re," 截止："+l(e.deadlineText),1)]),s("p",Ee,l(e.brief),1),s("div",Me,[s("div",Be,[e.status==="bidding"?(i(),n("button",{key:0,class:"apply-btn",onClick:ie(d=>K(e.id),["stop"])}," 立即揭榜 ",8,Fe)):C("",!0)]),s("div",Ue,[s("span",We," 已有 "+l(e.joinCount)+" 人"+l(e.status==="reviewing"?"提交":"揭榜"),1),s("span",Ge,"❤ "+l(e.likeCount),1)])])]),s("div",ze,[s("div",Xe,"￥"+l(e.reward.toLocaleString()),1),s("div",{class:f(["status-tag",e.status])},l(B[e.status]),3)])])],8,je))),128))])):(i(),n("div",Ye," 暂无符合当前筛选条件的项目 ")),y.value>1?(i(),n("div",Ze,[s("button",{class:"page-btn",disabled:c.value===1,onClick:t[1]||(t[1]=e=>T(c.value-1))}," 上一页 ",8,qe),(i(!0),n(_,null,p(J.value,e=>(i(),n("button",{key:e,class:f(["page-btn",{active:e===c.value}]),onClick:d=>T(e)},l(e),11,Je))),128)),s("button",{class:"page-btn",disabled:c.value===y.value,onClick:t[2]||(t[2]=e=>T(c.value+1))}," 下一页 ",8,Ke)])):C("",!0)])])])}}},st=ee(Qe,[["__scopeId","data-v-0bfe369e"]]);export{st as default};
