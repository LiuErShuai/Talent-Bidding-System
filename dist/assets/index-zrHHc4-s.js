import{_ as ne,r as u,c as r,p as ie,a as o,b as s,w as ue,f as m,v as ce,F as _,d as h,n as d,s as A,t as i,u as re,o as n,x as de}from"./index-Bg6MLb3F.js";const ve={class:"project-hall-page"},be={class:"page-body"},fe={class:"search-filter-section"},_e={class:"search-row"},he={class:"search-box"},pe={key:0,class:"search-suggestions"},ge=["onClick"],ke={class:"suggestion-title"},me={class:"suggestion-company"},we={class:"filter-rows"},ye={class:"filter-row"},Ce={class:"filter-options"},xe=["onClick"],Te={key:0,class:"filter-row more-row"},De={class:"filter-options more-fields-panel"},Se=["onClick"],je={class:"filter-row"},Ae={class:"filter-options"},$e=["onClick"],Ve={class:"filter-row"},Fe={class:"filter-options"},Ie=["onClick"],Le={class:"filter-row sort-row"},Pe={class:"filter-options"},Me=["onClick"],Ne={class:"project-list-section"},Oe={class:"list-header"},Re={key:0,class:"project-list"},Be=["onClick"],Ee={class:"project-card-main"},He={class:"project-card-left"},Ue={class:"project-card-title-row"},We={class:"project-title"},Ge={class:"project-meta-row"},Xe={class:"meta-item"},qe={class:"meta-item"},ze={class:"meta-item"},Ye={class:"project-brief"},Ze={class:"project-footer-row"},Je={class:"project-actions"},Ke=["onClick"],Qe={class:"project-stats"},et={class:"stat-text"},tt={class:"like-text"},lt={class:"project-card-right"},st={class:"reward"},at={key:1,class:"empty-state"},ot={key:2,class:"pagination"},nt=["disabled"],it=["onClick"],ut=["disabled"],ct={__name:"index",setup(rt){const $=re(),V=u(!1);u(!1);const B=u(0),F=u({username:"张三",role:"student",avatar:"https://picsum.photos/seed/user123/40/40.jpg"});r(()=>F.value.role||"student");const E=()=>{if(localStorage.getItem("token")){V.value=!0;const t=localStorage.getItem("userData");t&&(F.value=JSON.parse(t))}else V.value=!1,B.value=0},p=u(""),C=u(!1),v=u("all"),b=u(["all"]),g=u("all"),w=u("comprehensive"),c=u(1),T=u(5),D=[{label:"全部",value:"all"},{label:"人工智能",value:"ai"},{label:"Web前端",value:"frontend"},{label:"后端开发",value:"backend"},{label:"移动开发",value:"mobile"},{label:"大数据",value:"big-data"},{label:"云计算",value:"cloud"},{label:"物联网",value:"iot"},{label:"网络安全",value:"security"},{label:"区块链",value:"blockchain"},{label:"数据可视化",value:"data-vis"},{label:"UI/UX设计",value:"ui-ux"},{label:"测试与质量",value:"qa"},{label:"DevOps",value:"devops"},{label:"软件工程",value:"software"}],H=u(8),f=u(!1),I=r(()=>{const l=D.slice(0,H.value);if(v.value==="all"||l.some(a=>a.value===v.value))return l;const e=D.find(a=>a.value===v.value);return e?l.length?[...l.slice(0,-1),e]:[e]:l}),S=r(()=>{const l=new Set(I.value.map(t=>t.value));return D.filter(t=>!l.has(t.value))}),U=[{label:"全部",value:"all"},{label:"揭榜中",value:"bidding"},{label:"评审中",value:"reviewing"},{label:"公示中",value:"publishing"},{label:"已完成",value:"completed"}],W=[{label:"全部",value:"all"},{label:"0-5千",value:"0-5k"},{label:"5千-1万",value:"5k-10k"},{label:"1万-3万",value:"10k-30k"},{label:"3万以上",value:"30k+"}],G=[{label:"综合排序",value:"comprehensive"},{label:"最新发布",value:"latest"},{label:"奖金最高",value:"reward-desc"},{label:"即将截止",value:"deadline-asc"}],X={bidding:"揭榜中",reviewing:"评审中",publishing:"公示中",completed:"已完成"},q=u([{id:1,title:"AI智能客服系统开发",company:"XX科技有限公司",field:"人工智能",fieldValue:"ai",status:"bidding",reward:15e3,deadlineDays:7,brief:"需要开发一套基于自然语言处理的智能客服系统，用于提升客户服务效率...",tag:"HOT",tagText:"HOT",joinCount:12,likeCount:45,createdAt:"2025-01-10"},{id:2,title:"电商平台前端开发",company:"YY网络公司",field:"Web前端",fieldValue:"frontend",status:"bidding",reward:8e3,deadlineDays:5,brief:"开发一个现代化的电商平台前端页面，支持响应式布局和多终端适配...",tag:"NEW",tagText:"NEW",joinCount:8,likeCount:32,createdAt:"2025-01-14"},{id:3,title:"数据分析与可视化项目",company:"ZZ数据公司",field:"大数据",fieldValue:"big-data",status:"reviewing",reward:1e4,deadlineDays:0,brief:"需要对销售数据进行深度分析并制作可视化报表，支持多维度钻取分析...",tag:"",tagText:"",joinCount:15,likeCount:28,createdAt:"2025-01-05"},{id:4,title:"移动学习APP开发",company:"智慧教育科技有限公司",field:"移动开发",fieldValue:"mobile",status:"bidding",reward:2e4,deadlineDays:3,brief:"开发一款面向高校学生的移动学习应用，支持课程学习、作业提交、在线测验等...",tag:"URGENT",tagText:"急",joinCount:20,likeCount:60,createdAt:"2025-01-15"},{id:5,title:"高校实验室管理系统",company:"校园信息化中心",field:"软件工程",fieldValue:"software",status:"publishing",reward:12e3,deadlineDays:0,brief:"为高校实验室建设一套预约与管理系统，支持实验预约、设备管理和数据统计...",tag:"",tagText:"",joinCount:18,likeCount:40,createdAt:"2024-12-30"},{id:6,title:"企业数据中台建设",company:"鸿云科技集团",field:"大数据",fieldValue:"big-data",status:"completed",reward:35e3,deadlineDays:-10,brief:"搭建企业级数据中台，统一数据标准，支持多业务系统的数据服务能力...",tag:"HOT",tagText:"HOT",joinCount:25,likeCount:80,createdAt:"2024-11-20"}]),L=r(()=>q.value.map(l=>({...l,deadlineText:l.deadlineDays>0?`${l.deadlineDays}天后`:l.deadlineDays===0?"今天截止":"已截止"}))),P=r(()=>{if(!p.value.trim())return[];const l=p.value.trim().toLowerCase();return L.value.filter(t=>t.title.toLowerCase().includes(l)||t.company.toLowerCase().includes(l)).slice(0,5)}),z=()=>{C.value=!!p.value.trim(),c.value=1},Y=()=>{C.value=!1,c.value=1},Z=l=>{p.value=l.title,C.value=!1,c.value=1},M=l=>{v.value=l,f.value=!1,c.value=1},J=l=>{M(l),f.value=!1},K=()=>{f.value=!f.value},Q=l=>{if(l==="all")b.value=["all"];else{const t=b.value.includes(l),e=b.value.filter(a=>a!=="all");if(t){const a=e.filter(k=>k!==l);b.value=a.length?a:["all"]}else e.push(l),b.value=e}c.value=1},ee=l=>{g.value=l,c.value=1},te=l=>{w.value=l,c.value=1},le=r(()=>{const l=p.value.trim().toLowerCase();return L.value.filter(t=>{const e=!l||t.title.toLowerCase().includes(l)||t.company.toLowerCase().includes(l),a=v.value==="all"||t.fieldValue===v.value,k=b.value.includes("all")||b.value.includes(t.status);let y=!0;return g.value==="0-5k"?y=t.reward<=5e3:g.value==="5k-10k"?y=t.reward>5e3&&t.reward<=1e4:g.value==="10k-30k"?y=t.reward>1e4&&t.reward<=3e4:g.value==="30k+"&&(y=t.reward>3e4),e&&a&&k&&y})}),N=r(()=>{const l=[...le.value];return w.value==="latest"?l.sort((t,e)=>new Date(e.createdAt)-new Date(t.createdAt)):w.value==="reward-desc"?l.sort((t,e)=>e.reward-t.reward):w.value==="deadline-asc"?l.sort((t,e)=>t.deadlineDays-e.deadlineDays):l.sort((t,e)=>{const a=(t.tag==="HOT"?2:0)+(t.tag==="URGENT"?1:0),k=(e.tag==="HOT"?2:0)+(e.tag==="URGENT"?1:0);return k!==a?k-a:new Date(e.createdAt)-new Date(t.createdAt)}),l}),O=r(()=>N.value.length),x=r(()=>Math.max(1,Math.ceil(O.value/T.value))),R=r(()=>{const l=(c.value-1)*T.value;return N.value.slice(l,l+T.value)}),se=r(()=>{const l=[];for(let t=1;t<=x.value;t++)l.push(t);return l}),j=l=>{if(l<1||l>x.value)return;c.value=l;const t=document.querySelector(".project-list-section");t&&t.scrollIntoView({behavior:"smooth"})},ae=l=>{$.push(`/apply/${l}`)},oe=l=>{$.push(`/projects/${l}`)};return ie(()=>{E()}),(l,t)=>(n(),o("div",ve,[s("main",be,[s("section",fe,[s("div",_e,[s("div",he,[ue(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>p.value=e),type:"text",class:"search-input",placeholder:"搜索项目名称 / 编号 / 企业名称",onInput:z},null,544),[[ce,p.value]]),s("button",{class:"search-btn",onClick:Y},"搜索"),C.value&&P.value.length?(n(),o("ul",pe,[(n(!0),o(_,null,h(P.value,e=>(n(),o("li",{key:e.id,class:"suggestion-item",onClick:a=>Z(e)},[s("span",ke,i(e.title),1),s("span",me,i(e.company),1)],8,ge))),128))])):m("",!0)])]),s("div",we,[s("div",ye,[t[3]||(t[3]=s("span",{class:"filter-label"},"项目领域：",-1)),s("div",Ce,[(n(!0),o(_,null,h(I.value,e=>(n(),o("button",{key:e.value,class:d(["filter-chip",{active:v.value===e.value}]),onClick:a=>M(e.value)},i(e.label),11,xe))),128)),S.value.length?(n(),o("button",{key:0,type:"button",class:d(["filter-chip more-chip",{active:f.value}]),onClick:K},[A(i(f.value?"收起":"展开")+" ",1),s("span",{class:d(["more-arrow",{open:f.value}])},"▾",2)],2)):m("",!0)])]),f.value&&S.value.length?(n(),o("div",Te,[t[4]||(t[4]=s("span",{class:"filter-label"},null,-1)),s("div",De,[(n(!0),o(_,null,h(S.value,e=>(n(),o("button",{key:e.value,type:"button",class:d(["filter-chip",{active:v.value===e.value}]),onClick:a=>J(e.value)},i(e.label),11,Se))),128))])])):m("",!0),s("div",je,[t[5]||(t[5]=s("span",{class:"filter-label"},"项目状态：",-1)),s("div",Ae,[(n(),o(_,null,h(U,e=>s("button",{key:e.value,class:d(["filter-chip",{active:b.value.includes(e.value)}]),onClick:a=>Q(e.value)},i(e.label),11,$e)),64))])]),s("div",Ve,[t[6]||(t[6]=s("span",{class:"filter-label"},"奖金范围：",-1)),s("div",Fe,[(n(),o(_,null,h(W,e=>s("button",{key:e.value,class:d(["filter-chip",{active:g.value===e.value}]),onClick:a=>ee(e.value)},i(e.label),11,Ie)),64))])]),s("div",Le,[t[7]||(t[7]=s("span",{class:"filter-label"},"排序方式：",-1)),s("div",Pe,[(n(),o(_,null,h(G,e=>s("button",{key:e.value,class:d(["filter-chip",{active:w.value===e.value}]),onClick:a=>te(e.value)},i(e.label),11,Me)),64))])])])]),s("section",Ne,[s("div",Oe,[s("span",null,[t[8]||(t[8]=A("共找到 ",-1)),s("strong",null,i(O.value),1),t[9]||(t[9]=A(" 个项目",-1))])]),R.value.length?(n(),o("div",Re,[(n(!0),o(_,null,h(R.value,e=>(n(),o("article",{key:e.id,class:"project-card",onClick:a=>oe(e.id)},[s("div",Ee,[s("div",He,[s("div",Ue,[e.tag?(n(),o("span",{key:0,class:d(["badge",e.tag])},i(e.tagText),3)):m("",!0),s("h2",We,i(e.title),1),s("div",{class:d(["project-status-tag",e.status])},i(X[e.status]),3)]),s("div",Ge,[s("span",Xe,"发布方："+i(e.company),1),t[10]||(t[10]=s("span",{class:"meta-sep"},"|",-1)),s("span",qe,"领域："+i(e.field),1),t[11]||(t[11]=s("span",{class:"meta-sep"},"|",-1)),s("span",ze," 截止："+i(e.deadlineText),1)]),s("p",Ye,i(e.brief),1),s("div",Ze,[s("div",Je,[e.status==="bidding"?(n(),o("button",{key:0,class:"apply-btn",onClick:de(a=>ae(e.id),["stop"])}," 立即揭榜 ",8,Ke)):m("",!0)]),s("div",Qe,[s("span",et," 已有 "+i(e.joinCount)+" 人"+i(e.status==="reviewing"?"提交":"揭榜"),1),s("span",tt,"❤ "+i(e.likeCount),1)])])]),s("div",lt,[s("div",st,"￥"+i(e.reward.toLocaleString()),1)])])],8,Be))),128))])):(n(),o("div",at," 暂无符合当前筛选条件的项目 ")),x.value>1?(n(),o("div",ot,[s("button",{class:"page-btn",disabled:c.value===1,onClick:t[1]||(t[1]=e=>j(c.value-1))}," 上一页 ",8,nt),(n(!0),o(_,null,h(se.value,e=>(n(),o("button",{key:e,class:d(["page-btn",{active:e===c.value}]),onClick:a=>j(e)},i(e),11,it))),128)),s("button",{class:"page-btn",disabled:c.value===x.value,onClick:t[2]||(t[2]=e=>j(c.value+1))}," 下一页 ",8,ut)])):m("",!0)])])]))}},vt=ne(ct,[["__scopeId","data-v-53a361cd"]]);export{vt as default};
