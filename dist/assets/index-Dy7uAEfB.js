import{_ as A,c as N,i as z,k as a,b as e,a as v,f as y,t as i,n as H,s as $,j as n,l as w,u as re,o as l,y as te,F as E,d as U,z as S,A as ue,B as ie,C as Z,r as x,D as se,w as ne,E as le,G as ce,H as B,g as me,I as ve,p as pe,J as fe,K as _e}from"./index-Bg6MLb3F.js";import{P as ge,m as he,f as be}from"./projectManage-D5pePu8w.js";import"./æ¡‚ç”µé€æ˜èƒŒæ™¯logo-ClRN5aIs.js";import"./UserPanel-DC8LkTeQ.js";const ye={class:"overview-main"},we={class:"overview-left"},$e={class:"title-row"},ke={class:"project-title"},De={class:"status-text"},xe={class:"meta-row"},Ce={class:"meta-item"},Me={class:"meta-item"},Ne={class:"meta-item"},je={class:"meta-item"},Ve={class:"project-description"},ze={class:"brief"},Ie={class:"overview-right"},Se={key:0,class:"action-buttons"},Te={__name:"ProjectOverview",props:{project:{type:Object,default:()=>({})},canEdit:{type:Boolean,default:!1}},setup(m){const T=m,d=re(),k=N(()=>({pending:"å¾…å¼€å§‹","in-progress":"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ"})[T.project?.status]||"æœªçŸ¥"),_=C=>{if(!C)return"--";try{const p=new Date(C),u=p-new Date,h=Math.ceil(u/(1e3*60*60*24));return h<0?"å·²æˆªæ­¢":h===0?"ä»Šå¤©æˆªæ­¢":h===1?"æ˜å¤©æˆªæ­¢":h<=7?`${h}å¤©åæˆªæ­¢`:`${p.getMonth()+1}æœˆ${p.getDate()}æ—¥æˆªæ­¢`}catch{return C}},F=C=>C||"--",R=()=>{if(!T.project?.publisherId){console.warn("å‘å¸ƒæ–¹IDä¸å­˜åœ¨");return}d.push({path:`/enterprise/profile/${T.project.publisherId}`})};return(C,p)=>{const I=w("el-button"),u=w("el-card");return l(),z(u,{class:"project-overview-card"},{default:a(()=>[e("div",ye,[e("div",we,[e("div",$e,[e("h2",ke,i(m.project?.name||"é¡¹ç›®åç§°"),1),m.project?.status?(l(),v("div",{key:0,class:H(["status-indicator",`status-${m.project.status}`])},[p[1]||(p[1]=e("span",{class:"status-dot"},null,-1)),e("span",De,i(k.value),1)],2)):y("",!0)]),e("div",xe,[e("span",Ce,[p[2]||(p[2]=$(" å‘å¸ƒæ–¹ï¼š ",-1)),e("span",{class:"publisher-link",onClick:R},i(m.project?.publisher||"--"),1)]),p[3]||(p[3]=e("span",{class:"meta-sep"},"|",-1)),e("span",Me,"é¢†åŸŸï¼š"+i(m.project?.category||"--"),1),p[4]||(p[4]=e("span",{class:"meta-sep"},"|",-1)),e("span",Ne,"æˆªæ­¢ï¼š"+i(_(m.project?.endDate)),1),p[5]||(p[5]=e("span",{class:"meta-sep"},"|",-1)),e("span",je,"é¡¹ç›®å›¢é˜Ÿï¼š"+i(F(m.project?.teamName)),1)]),e("div",Ve,[e("p",ze,i(m.project?.description||m.project?.brief),1)])]),e("div",Ie,[m.canEdit?(l(),v("div",Se,[n(I,{type:"primary",size:"small",onClick:p[0]||(p[0]=h=>C.$emit("edit",m.project))},{default:a(()=>[...p[6]||(p[6]=[$("ç¼–è¾‘é¡¹ç›®",-1)])]),_:1})])):y("",!0)])])]),_:1})}}},Pe=A(Te,[["__scopeId","data-v-8ea01e89"]]),Fe={class:"milestone-progress-bar"},Re={class:"progress-line"},Be=["onClick"],qe={class:"node-dot"},Ee={key:1,class:"node-number"},Ue={key:2,class:"node-number"},Oe={class:"node-label"},He={class:"node-title"},Ae={key:0,class:"node-pulse"},Le={__name:"MilestoneProgressBar",props:{milestones:{type:Array,required:!0,default:()=>[]}},emits:["nodeClick"],setup(m,{emit:T}){const d=m,k=T,_=N(()=>{if(!d.milestones||d.milestones.length===0)return"0%";const u=d.milestones.filter(f=>f.status==="completed").length,h=d.milestones.length;return d.milestones.findIndex(f=>f.status==="in-progress")!==-1?`${(u+.5)/h*100}%`:`${u/h*100}%`}),F=u=>{const h=d.milestones.length;return h<=1?"50%":`calc(40px + ${u/(h-1)*100}% * (100% - 80px) / 100%)`},R=u=>({completed:"å·²å®Œæˆ","in-progress":"è¿›è¡Œä¸­",pending:"å¾…å¼€å§‹"})[u]||"",C=u=>{if(!u.endDate)return"--";if(u.status==="completed")return"å·²å®Œæˆ";try{const o=new Date(u.endDate)-new Date,f=Math.ceil(o/(1e3*60*60*24));return f<0?`é€¾æœŸ${Math.abs(f)}å¤©`:f===0?"ä»Šæ—¥æˆªæ­¢":f===1?"æ˜æ—¥æˆªæ­¢":`å‰©${f}å¤©`}catch{return"--"}},p=u=>{if(!u.endDate)return"";if(u.status==="completed")return"time-success";try{const o=new Date(u.endDate)-new Date,f=Math.ceil(o/(1e3*60*60*24));return f<0?"time-danger":f<=3?"time-warning":""}catch{return""}},I=u=>{k("nodeClick",u)};return(u,h)=>{const j=w("el-icon");return l(),v("div",Fe,[e("div",Re,[e("div",{class:"progress-line-active",style:te({width:_.value})},null,4)]),(l(!0),v(E,null,U(m.milestones,(o,f)=>(l(),v("div",{key:o.id,class:H(["milestone-node",[`node-${o.status}`,{"node-current":o.status==="in-progress"}]]),style:te({left:F(f)}),onClick:D=>I(o)},[e("div",{class:H(["node-status-tag",`status-${o.status}`])},i(R(o.status)),3),e("div",qe,[o.status==="completed"?(l(),z(j,{key:0,class:"node-icon"},{default:a(()=>[n(S(ue))]),_:1})):o.status==="in-progress"?(l(),v("span",Ee,i(f+1),1)):(l(),v("span",Ue,i(f+1),1))]),e("div",Oe,[e("div",He,i(o.title),1),e("div",{class:H(["node-time",p(o)])},i(C(o)),3)]),o.status==="in-progress"?(l(),v("div",Ae)):y("",!0)],14,Be))),128))])}}},We=A(Le,[["__scopeId","data-v-ef386e1c"]]),Ye={class:"submission-item"},Ge={class:"submission-info"},Je={class:"submission-name"},Ke={key:0,class:"submission-description"},Qe={class:"submission-meta"},Xe={__name:"SubmissionItem",props:{submission:{type:Object,required:!0}},emits:["view","download"],setup(m){return(T,d)=>{const k=w("el-icon");return l(),v("div",Ye,[e("div",Ge,[n(k,{class:"file-icon"},{default:a(()=>[n(S(ie))]),_:1}),e("span",Je,i(m.submission.fileName),1),n(k,{class:"download-icon",onClick:d[0]||(d[0]=_=>T.$emit("download",m.submission))},{default:a(()=>[n(S(Z))]),_:1})]),m.submission.description?(l(),v("div",Ke,i(m.submission.description),1)):y("",!0),e("div",Qe,[e("span",null,"ä¸Šä¼ : "+i(m.submission.uploadTime),1),e("span",null,i(m.submission.fileSize),1)])])}}},oe=A(Xe,[["__scopeId","data-v-db093aa6"]]),Ze={class:"milestone-detail-panel"},et={class:"panel-header"},tt={class:"header-left"},st={class:"milestone-title"},nt={class:"deadline-info"},lt={class:"header-right"},ot={class:"panel-content"},it={class:"section task-description-section"},at={class:"description-content"},dt={class:"task-description"},rt={key:0,class:"deliverables-list"},ut={class:"deliverables-items"},ct={class:"deliverable-info"},mt={class:"deliverable-name"},vt={class:"deliverable-requirement"},pt={class:"section task-files-section"},ft={class:"section-header"},_t={class:"toggle-text"},gt={key:0,class:"task-files-list"},ht={class:"file-info"},bt={class:"file-name"},yt={class:"file-size"},wt={class:"section submissions-section"},$t={class:"section-header"},kt={class:"header-actions"},Dt={key:0,class:"latest-submission"},xt={class:"section feedback-section"},Ct={key:0,class:"feedbacks-list"},Mt={key:0,class:"feedback-collapsed"},Nt={class:"feedback-text-collapsed"},jt={class:"feedback-time"},Vt={key:1,class:"feedback-expanded"},zt={class:"feedback-expanded-header"},It={class:"feedback-time"},St={class:"feedback-text-full"},Tt={class:"history-submissions-dialog"},Pt={__name:"MilestoneDetailPanel",props:{milestone:{type:Object,required:!0},currentIndex:{type:Number,required:!0},totalCount:{type:Number,required:!0}},emits:["prev","next","upload","viewSubmission"],setup(m,{emit:T}){const d=m,k=T,_=x(!1),F=N(()=>({pending:"å¾…å¼€å§‹","in-progress":"è¿›è¡Œä¸­",completed:"å·²å®Œæˆ"})[d.milestone?.status]||"æœªçŸ¥"),R=N(()=>({pending:"info","in-progress":"warning",completed:"success"})[d.milestone?.status]||"info"),C=N(()=>d.currentIndex>0),p=N(()=>d.currentIndex<d.totalCount-1),I=g=>{if(!g)return"--";try{const r=new Date(g),P=r.getFullYear(),s=String(r.getMonth()+1).padStart(2,"0"),t=String(r.getDate()).padStart(2,"0");return`${P}-${s}-${t}`}catch{return g}};N(()=>{if(!d.milestone?.endDate)return!1;const g=new Date(d.milestone.endDate);return new Date>g&&d.milestone.status!=="completed"}),N(()=>{if(!d.milestone?.endDate)return"--";if(d.milestone.status==="completed")return"å·²å®Œæˆ";try{const P=new Date(d.milestone.endDate)-new Date,s=Math.ceil(P/(1e3*60*60*24));return s<0?`å·²é€¾æœŸ ${Math.abs(s)} å¤©`:s===0?"ä»Šå¤©æˆªæ­¢":s===1?"æ˜å¤©æˆªæ­¢":`è¿˜å‰© ${s} å¤©`}catch{return"--"}}),N(()=>{if(!d.milestone?.endDate)return"";if(d.milestone.status==="completed")return"text-success";try{const P=new Date(d.milestone.endDate)-new Date,s=Math.ceil(P/(1e3*60*60*24));return s<0?"text-danger":s<=3?"text-warning":""}catch{return""}});const u=N(()=>!d.milestone?.submissions||d.milestone.submissions.length===0?null:d.milestone.submissions[0]),h=N(()=>!d.milestone?.submissions||d.milestone.submissions.length<=1?[]:d.milestone.submissions.slice(1)),j=N(()=>d.milestone?.feedbacks?[...d.milestone.feedbacks].sort((g,r)=>new Date(r.time)-new Date(g.time)):[]),o=x({});function f(g){o.value[g]=!o.value[g]}const D=x(!1);function O(){D.value=!0}const G=()=>k("prev"),J=()=>k("next"),K=()=>k("upload",d.milestone),L=g=>k("viewSubmission",g);function W(g){B.success(`å¼€å§‹ä¸‹è½½ï¼š${g.fileName}`),console.log("ä¸‹è½½æ–‡ä»¶ï¼š",g)}function Q(g){B.success(`å¼€å§‹ä¸‹è½½ï¼š${g.name}`),console.log("ä¸‹è½½ä»»åŠ¡æ–‡ä»¶ï¼š",g)}return(g,r)=>{const P=w("el-tag"),s=w("el-button"),t=w("el-icon"),b=w("el-empty"),V=w("el-dialog");return l(),v("div",Ze,[e("div",et,[e("div",tt,[e("h3",st,i(m.milestone?.title||"é‡Œç¨‹ç¢‘è¯¦æƒ…"),1),e("span",nt,"æˆªæ­¢ï¼š"+i(I(m.milestone?.endDate)),1),n(P,{type:R.value,size:"small"},{default:a(()=>[$(i(F.value),1)]),_:1},8,["type"])]),e("div",lt,[C.value?(l(),z(s,{key:0,size:"small",onClick:G},{default:a(()=>[...r[2]||(r[2]=[$(" ä¸Šä¸€ä¸ª ",-1)])]),_:1})):y("",!0),p.value?(l(),z(s,{key:1,size:"small",onClick:J},{default:a(()=>[r[3]||(r[3]=$(" ä¸‹ä¸€ä¸ª ",-1)),n(t,{class:"el-icon--right"},{default:a(()=>[n(S(se))]),_:1})]),_:1})):y("",!0)])]),e("div",ot,[e("div",it,[e("div",at,[e("p",dt,i(m.milestone?.description||"æš‚æ— æè¿°"),1),m.milestone?.deliverables?.length?(l(),v("div",rt,[r[4]||(r[4]=e("div",{class:"deliverables-header"},[e("h4",{class:"deliverables-title"},"äº¤ä»˜ç‰©è¦æ±‚")],-1)),e("ul",ut,[(l(!0),v(E,null,U(m.milestone.deliverables,c=>(l(),v("li",{key:c.id,class:"deliverable-item"},[e("div",ct,[e("span",mt,i(c.name),1),n(P,{size:"small",type:"info"},{default:a(()=>[$(i(Array.isArray(c.format)?c.format.join(" / "):c.format),1)]),_:2},1024)]),e("p",vt,i(c.requirement),1)]))),128))])])):y("",!0)])]),e("div",pt,[e("div",ft,[r[5]||(r[5]=e("h4",{class:"section-title"},"ä»»åŠ¡æ–‡ä»¶",-1)),n(s,{link:"",size:"small",class:"toggle-btn",onClick:r[0]||(r[0]=c=>_.value=!_.value)},{default:a(()=>[n(t,{class:H(["arrow-icon",{expanded:_.value}])},{default:a(()=>[n(S(se))]),_:1},8,["class"]),e("span",_t,i(_.value?"æ”¶èµ·":"å±•å¼€"),1)]),_:1})]),m.milestone?.taskFiles?.length?ne((l(),v("ul",gt,[(l(!0),v(E,null,U(m.milestone.taskFiles,c=>(l(),v("li",{key:c.id,class:"task-file-item"},[e("div",ht,[n(t,{class:"file-icon"},{default:a(()=>[n(S(ie))]),_:1}),e("span",bt,i(c.name),1),e("span",yt,i(c.size),1)]),n(s,{link:"",type:"primary",onClick:q=>Q(c)},{default:a(()=>[n(t,null,{default:a(()=>[n(S(Z))]),_:1})]),_:1},8,["onClick"])]))),128))],512)),[[le,_.value]]):y("",!0),m.milestone?.taskFiles?.length?y("",!0):ne((l(),z(b,{key:1,description:"æš‚æ— ä»»åŠ¡æ–‡ä»¶","image-size":40},null,512)),[[le,_.value]])]),e("div",wt,[e("div",$t,[r[8]||(r[8]=e("h4",{class:"section-title"},"æˆ‘çš„æäº¤è®°å½•",-1)),e("div",kt,[m.milestone?.status==="in-progress"?(l(),z(s,{key:0,type:"primary",size:"small",onClick:K},{default:a(()=>[n(t,null,{default:a(()=>[n(S(ce))]),_:1}),r[6]||(r[6]=$(" ä¸Šä¼ äº¤ä»˜ç‰© ",-1))]),_:1})):y("",!0),h.value.length>0?(l(),z(s,{key:1,type:"primary",plain:"",size:"small",onClick:O},{default:a(()=>[...r[7]||(r[7]=[$(" æŸ¥çœ‹å†å²æäº¤ ",-1)])]),_:1})):y("",!0)])]),u.value?(l(),v("div",Dt,[n(oe,{submission:u.value,onDownload:W,onView:L},null,8,["submission"])])):y("",!0),u.value?y("",!0):(l(),z(b,{key:1,description:"æš‚æœªæäº¤æ–‡ä»¶","image-size":40}))]),e("div",xt,[r[13]||(r[13]=e("div",{class:"section-header"},[e("h4",{class:"section-title"},"æ„è§åé¦ˆ")],-1)),m.milestone?.feedbacks?.length?(l(),v("div",Ct,[(l(!0),v(E,null,U(j.value,c=>(l(),v("div",{key:c.id,class:"feedback-item"},[o.value[c.id]?(l(),v("div",Vt,[e("div",zt,[r[12]||(r[12]=e("span",{class:"feedback-label"},"åé¦ˆå†…å®¹ï¼š",-1)),e("span",It,i(c.time),1),n(s,{link:"",type:"primary",size:"small",onClick:q=>f(c.id),class:"collapse-btn"},{default:a(()=>[...r[11]||(r[11]=[$(" æ”¶èµ· ",-1)])]),_:1},8,["onClick"])]),e("div",St,i(c.content),1)])):(l(),v("div",Mt,[r[10]||(r[10]=e("span",{class:"feedback-label"},"åé¦ˆå†…å®¹ï¼š",-1)),e("span",Nt,i(c.content),1),e("span",jt,i(c.time),1),n(s,{link:"",type:"primary",size:"small",onClick:q=>f(c.id),class:"expand-btn"},{default:a(()=>[...r[9]||(r[9]=[$(" å±•å¼€ ",-1)])]),_:1},8,["onClick"])]))]))),128))])):(l(),z(b,{key:1,description:"æš‚æ— åé¦ˆæ„è§","image-size":40}))])]),n(V,{modelValue:D.value,"onUpdate:modelValue":r[1]||(r[1]=c=>D.value=c),title:"å†å²æäº¤è®°å½•",width:"700px"},{default:a(()=>[e("div",Tt,[(l(!0),v(E,null,U(h.value,c=>(l(),z(oe,{key:c.id,submission:c,onDownload:W,onView:L},null,8,["submission"]))),128))])]),_:1},8,["modelValue"])])}}},Ft=A(Pt,[["__scopeId","data-v-8f14a0cd"]]),Rt={class:"project-manage-root"},Bt={key:0,class:"loading-container"},qt={key:1,class:"main-layout"},Et={class:"main-content"},Ut={class:"milestone-progress-section"},Ot={class:"hint-list"},Ht={key:0,class:"submission-detail"},At={class:"detail-section"},Lt={class:"detail-grid"},Wt={class:"detail-item"},Yt={class:"value"},Gt={class:"detail-item"},Jt={class:"value"},Kt={class:"detail-item"},Qt={class:"value"},Xt={class:"detail-item"},Zt={class:"value"},es={class:"detail-item"},ts={class:"value"},ss={key:0,class:"detail-section"},ns={class:"version-note"},ls={key:1,class:"detail-section"},os={class:"review-info"},is={class:"review-meta"},as={key:0,class:"rating"},ds={key:2,class:"detail-section"},rs={__name:"index",setup(m){me().params.id;const d=x(!0),k=x(null),_=x([]),F=x([]),R=x([]),C=N(()=>[{title:"é¦–é¡µ",path:"/home"},{title:"æˆ‘çš„é¡¹ç›®",path:"/my-projects"},{title:"é¡¹ç›®ç®¡ç†",path:null}]),p=x(!1),I=x(null),u=ve({file:null,versionNote:""}),h=x([]),j=x(!1),o=x(null),f=x(null),D=x(0),O=N(()=>I.value?_.value.find(s=>s.id===I.value):null);async function G(){d.value=!0;try{await new Promise(b=>setTimeout(b,800));const s=he;k.value=s.project,_.value=s.milestones,F.value=s.timelineEvents,R.value=s.reviewHistory;const t=_.value.find(b=>b.status==="in-progress");if(t){const b=_.value.findIndex(V=>V.id===t.id);f.value=t,D.value=b}else _.value.length>0&&(f.value=_.value[0],D.value=0);console.log("é¡¹ç›®æ•°æ®åŠ è½½æˆåŠŸï¼š",{é¡¹ç›®åç§°:k.value.name,é‡Œç¨‹ç¢‘æ•°é‡:_.value.length,å½“å‰é‡Œç¨‹ç¢‘:t?.title||"æ— "})}catch(s){B.error("åŠ è½½é¡¹ç›®æ•°æ®å¤±è´¥"),console.error(s)}finally{d.value=!1}}pe(G);function J(s){I.value=s,u.file=null,u.versionNote="",h.value=[],p.value=!0}function K(s){u.file=s.raw,h.value=[s]}function L(){if(!u.file){B.warning("è¯·é€‰æ‹©è¦ä¸Šä¼ çš„æ–‡ä»¶");return}if(!u.versionNote){B.warning("è¯·å¡«å†™ç‰ˆæœ¬è¯´æ˜");return}const s=_.value.find(c=>c.id===I.value);if(!s)return;const b=Math.max(...(s.submissions||[]).map(c=>c.version),0)+1,V={id:Date.now(),version:b,deliverableId:s.deliverables[0]?.id||1,fileName:u.file.name,fileSize:be(u.file.size),uploadTime:new Date().toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}),uploader:"å¼ ä¸‰",versionNote:u.versionNote,status:"pending",reviewResult:null};s.submissions||(s.submissions=[]),s.submissions.push(V),s.progressDetail.percentage=Math.round(s.submissions.filter(c=>c.status==="approved").length/s.deliverables.length*100),F.value.unshift({id:`event-${Date.now()}`,time:V.uploadTime,type:"upload",title:`æäº¤äº¤ä»˜ç‰©ï¼š${s.title} v${b}`,description:`æäº¤äº†"${V.fileName}"`,user:V.uploader,icon:"info"}),B.success(`æˆåŠŸæäº¤ v${b}ï¼Œç­‰å¾…å®¡æ ¸`),p.value=!1,console.log("æ–°æäº¤è®°å½•ï¼š",V)}function W(s){o.value=s,j.value=!0}function Q(s){s&&(B.success(`å¼€å§‹ä¸‹è½½ï¼š${s.fileName}`),console.log("ä¸‹è½½æ–‡ä»¶ï¼š",s))}function g(s){const t=_.value.findIndex(b=>b.id===s.id);f.value=s,D.value=t,setTimeout(()=>{const b=document.querySelector(".milestone-detail-panel");if(b){const q=b.getBoundingClientRect().top+window.pageYOffset-100;window.scrollTo({top:q,behavior:"smooth"})}},100)}function r(){D.value>0&&(D.value--,f.value=_.value[D.value])}function P(){D.value<_.value.length-1&&(D.value++,f.value=_.value[D.value])}return(s,t)=>{const b=w("el-icon");w("milestone-timeline");const V=w("el-upload"),c=w("el-form-item"),q=w("el-input"),X=w("el-alert"),ae=w("el-form"),Y=w("el-button"),ee=w("el-dialog"),de=w("el-rate");return l(),v("div",Rt,[n(ge,{"breadcrumb-items":C.value,"unread-count":0},null,8,["breadcrumb-items"]),d.value?(l(),v("div",Bt,[n(b,{class:"is-loading"},{default:a(()=>[n(S(fe))]),_:1}),t[7]||(t[7]=e("span",null,"åŠ è½½ä¸­...",-1))])):k.value?(l(),v("div",qt,[e("div",Et,[n(Pe,{project:k.value,canEdit:!1,class:"overview-card"},null,8,["project"]),e("div",Ut,[n(We,{milestones:_.value,onNodeClick:g},null,8,["milestones"])]),f.value?(l(),z(Ft,{key:0,milestone:f.value,currentIndex:D.value,totalCount:_.value.length,onPrev:r,onNext:P,onUpload:J,onViewSubmission:W},null,8,["milestone","currentIndex","totalCount"])):y("",!0),y("",!0)])])):y("",!0),n(ee,{modelValue:p.value,"onUpdate:modelValue":t[2]||(t[2]=M=>p.value=M),title:`ä¸Šä¼ äº¤ä»˜ç‰© - ${O.value?.title||""}`,width:"600px","close-on-click-modal":!1},{footer:a(()=>[n(Y,{onClick:t[1]||(t[1]=M=>p.value=!1)},{default:a(()=>[...t[11]||(t[11]=[$("å–æ¶ˆ",-1)])]),_:1}),n(Y,{type:"primary",onClick:L},{default:a(()=>[...t[12]||(t[12]=[$("ç¡®è®¤ä¸Šä¼ ",-1)])]),_:1})]),default:a(()=>[n(ae,{model:u,"label-width":"80px"},{default:a(()=>[n(c,{label:"é€‰æ‹©æ–‡ä»¶",required:""},{default:a(()=>[n(V,{class:"upload-demo",drag:"","auto-upload":!1,"on-change":K,limit:1,"file-list":h.value},{tip:a(()=>[...t[8]||(t[8]=[e("div",{class:"el-upload__tip"}," æ”¯æŒä¸Šä¼  PDFã€Wordã€Excelã€å‹ç¼©åŒ…ç­‰æ–‡ä»¶ï¼Œå•ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 500MB ",-1)])]),default:a(()=>[n(b,{class:"el-icon--upload"},{default:a(()=>[n(S(_e))]),_:1}),t[9]||(t[9]=e("div",{class:"el-upload__text"},[$(" å°†æ–‡ä»¶æ‹–åˆ°æ­¤å¤„ï¼Œæˆ–"),e("em",null,"ç‚¹å‡»ä¸Šä¼ ")],-1))]),_:1},8,["file-list"])]),_:1}),n(c,{label:"ç‰ˆæœ¬è¯´æ˜",required:""},{default:a(()=>[n(q,{modelValue:u.versionNote,"onUpdate:modelValue":t[0]||(t[0]=M=>u.versionNote=M),type:"textarea",rows:3,placeholder:"è¯·è¯´æ˜æœ¬æ¬¡æäº¤çš„ä¸»è¦ä¿®æ”¹å†…å®¹æˆ–ç‰¹ç‚¹...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),O.value?(l(),z(X,{key:0,type:"info",closable:!1,class:"deliverables-hint"},{title:a(()=>[t[10]||(t[10]=e("div",{class:"hint-title"},"æœ¬é‡Œç¨‹ç¢‘è¦æ±‚æäº¤ä»¥ä¸‹äº¤ä»˜ç‰©ï¼š",-1)),e("ul",Ot,[(l(!0),v(E,null,U(O.value.deliverables,M=>(l(),v("li",{key:M.id}," âœ“ "+i(M.name)+" - "+i(M.requirement),1))),128))])]),_:1})):y("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),n(ee,{modelValue:j.value,"onUpdate:modelValue":t[6]||(t[6]=M=>j.value=M),title:`${o.value?.fileName||"æäº¤è¯¦æƒ…"}`,width:"600px"},{footer:a(()=>[n(Y,{onClick:t[4]||(t[4]=M=>j.value=!1)},{default:a(()=>[...t[24]||(t[24]=[$("å…³é—­",-1)])]),_:1}),n(Y,{type:"primary",onClick:t[5]||(t[5]=M=>Q(o.value))},{default:a(()=>[n(b,null,{default:a(()=>[n(S(Z))]),_:1}),t[25]||(t[25]=$(" ä¸‹è½½æ–‡ä»¶ ",-1))]),_:1})]),default:a(()=>[o.value?(l(),v("div",Ht,[e("div",At,[t[18]||(t[18]=e("h4",null,"ğŸ“„ æ–‡ä»¶ä¿¡æ¯",-1)),e("div",Lt,[e("div",Wt,[t[13]||(t[13]=e("span",{class:"label"},"æ–‡ä»¶åï¼š",-1)),e("span",Yt,i(o.value.fileName),1)]),e("div",Gt,[t[14]||(t[14]=e("span",{class:"label"},"æ–‡ä»¶å¤§å°ï¼š",-1)),e("span",Jt,i(o.value.fileSize),1)]),e("div",Kt,[t[15]||(t[15]=e("span",{class:"label"},"ç‰ˆæœ¬å·ï¼š",-1)),e("span",Qt,"v"+i(o.value.version),1)]),e("div",Xt,[t[16]||(t[16]=e("span",{class:"label"},"ä¸Šä¼ æ—¶é—´ï¼š",-1)),e("span",Zt,i(o.value.uploadTime),1)]),e("div",es,[t[17]||(t[17]=e("span",{class:"label"},"ä¸Šä¼ äººï¼š",-1)),e("span",ts,i(o.value.uploader),1)])])]),o.value.versionNote?(l(),v("div",ss,[t[19]||(t[19]=e("h4",null,"ğŸ“ ç‰ˆæœ¬è¯´æ˜",-1)),e("p",ns,i(o.value.versionNote),1)])):y("",!0),o.value.reviewResult?(l(),v("div",ls,[e("h4",null,i(o.value.status==="approved"?"âœ…":"âŒ")+" å®¡æ ¸ç»“æœï¼š"+i(o.value.status==="approved"?"å·²é€šè¿‡":"è¢«é©³å›"),1),e("div",os,[e("div",is,[e("span",null,"å®¡æ ¸äººï¼š"+i(o.value.reviewResult.reviewer),1),e("span",null,"å®¡æ ¸æ—¶é—´ï¼š"+i(o.value.reviewResult.reviewTime),1)]),n(X,{type:o.value.status==="approved"?"success":"warning",closable:!1},{title:a(()=>[...t[20]||(t[20]=[$("ğŸ’¬ å®¡æ ¸åé¦ˆ",-1)])]),default:a(()=>[e("p",null,i(o.value.reviewResult.comment),1),o.value.reviewResult.rating?(l(),v("div",as,[t[21]||(t[21]=e("span",null,"è¯„åˆ†ï¼š",-1)),n(de,{modelValue:o.value.reviewResult.rating,"onUpdate:modelValue":t[3]||(t[3]=M=>o.value.reviewResult.rating=M),disabled:""},null,8,["modelValue"])])):y("",!0)]),_:1},8,["type"])])])):(l(),v("div",ds,[n(X,{type:"info",closable:!1},{title:a(()=>[...t[22]||(t[22]=[$("â³ å¾…å®¡æ ¸",-1)])]),default:a(()=>[t[23]||(t[23]=e("p",null,"äº¤ä»˜ç‰©å·²æäº¤ï¼Œç­‰å¾…ä¼ä¸šå®¡æ ¸...",-1))]),_:1})]))])):y("",!0)]),_:1},8,["modelValue","title"])])}}},ps=A(rs,[["__scopeId","data-v-294f2907"]]);export{ps as default};
