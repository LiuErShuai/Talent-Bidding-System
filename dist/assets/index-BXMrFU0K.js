import{_ as U,r as m,m as j,x as B,a as C,b as u,h as l,j as t,k as n,u as R,o as E,q as c,t as F,W as I}from"./index-BxkAOxBQ.js";const N={class:"evaluation-container"},T={class:"evaluation-content"},M={class:"card-header"},h={__name:"index",setup(D){const g=B(),v=R(),f=m("项目名称"),d=m(!1),p=m(),o=m({quality:0,timeliness:0,communication:0,professionalism:0,overall:0,comment:""}),V={quality:[{required:!0,message:"请评价完成质量",trigger:"change"}],overall:[{required:!0,message:"请给出总体评价",trigger:"change"}],comment:[{required:!0,message:"请输入详细评价",trigger:"blur"}]},b=async()=>{if(p.value)try{await p.value.validate(),d.value=!0,setTimeout(()=>{I.success("评估提交成功！"),v.push("/my-projects")},1e3)}catch(r){console.error("表单验证失败:",r)}finally{d.value=!1}},x=()=>{v.back()};return j(()=>{const r=g.params.projectId;r&&(f.value=`项目 ${r}`)}),(r,e)=>{const y=n("el-tag"),i=n("el-rate"),s=n("el-form-item"),q=n("el-input"),_=n("el-button"),w=n("el-form"),k=n("el-card");return E(),C("div",N,[e[9]||(e[9]=u("div",{class:"page-header"},[u("h1",{class:"page-title"},"项目评估"),u("p",{class:"page-subtitle"},"项目成果评估与反馈")],-1)),u("div",T,[l(k,null,{header:t(()=>[u("div",M,[u("span",null,"项目："+F(f.value),1),l(y,{type:"success"},{default:t(()=>[...e[6]||(e[6]=[c("待评估",-1)])]),_:1})])]),default:t(()=>[l(w,{model:o.value,rules:V,ref_key:"evaluationFormRef",ref:p,"label-width":"120px"},{default:t(()=>[l(s,{label:"完成质量",prop:"quality"},{default:t(()=>[l(i,{modelValue:o.value.quality,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.quality=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"按时完成",prop:"timeliness"},{default:t(()=>[l(i,{modelValue:o.value.timeliness,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.timeliness=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"沟通能力",prop:"communication"},{default:t(()=>[l(i,{modelValue:o.value.communication,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.communication=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"专业水平",prop:"professionalism"},{default:t(()=>[l(i,{modelValue:o.value.professionalism,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.professionalism=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"总体评价",prop:"overall"},{default:t(()=>[l(i,{modelValue:o.value.overall,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.overall=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"详细评价",prop:"comment"},{default:t(()=>[l(q,{modelValue:o.value.comment,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.comment=a),type:"textarea",rows:4,placeholder:"请详细描述项目的完成情况和建议"},null,8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(_,{type:"primary",onClick:b,loading:d.value},{default:t(()=>[...e[7]||(e[7]=[c("提交评估",-1)])]),_:1},8,["loading"]),l(_,{onClick:x},{default:t(()=>[...e[8]||(e[8]=[c("取消",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])])}}},W=U(h,[["__scopeId","data-v-67a9251b"]]);export{W as default};
