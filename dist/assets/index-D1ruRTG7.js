import{_ as U,r as m,y as j,j as B,a as C,b as u,h as l,i as t,k as n,u as E,o as R,l as c,t as F,E as I}from"./index-BAqyxCOb.js";const N={class:"evaluation-container"},T={class:"evaluation-content"},M={class:"card-header"},h={__name:"index",setup(D){const g=B(),v=E(),f=m("项目名称"),d=m(!1),p=m(),o=m({quality:0,timeliness:0,communication:0,professionalism:0,overall:0,comment:""}),V={quality:[{required:!0,message:"请评价完成质量",trigger:"change"}],overall:[{required:!0,message:"请给出总体评价",trigger:"change"}],comment:[{required:!0,message:"请输入详细评价",trigger:"blur"}]},y=async()=>{if(p.value)try{await p.value.validate(),d.value=!0,setTimeout(()=>{I.success("评估提交成功！"),v.push("/my-projects")},1e3)}catch(r){console.error("表单验证失败:",r)}finally{d.value=!1}},b=()=>{v.back()};return j(()=>{const r=g.params.projectId;r&&(f.value=`项目 ${r}`)}),(r,e)=>{const x=n("el-tag"),i=n("el-rate"),s=n("el-form-item"),w=n("el-input"),_=n("el-button"),k=n("el-form"),q=n("el-card");return R(),C("div",N,[e[9]||(e[9]=u("div",{class:"page-header"},[u("h1",{class:"page-title"},"项目评估"),u("p",{class:"page-subtitle"},"项目成果评估与反馈")],-1)),u("div",T,[l(q,null,{header:t(()=>[u("div",M,[u("span",null,"项目："+F(f.value),1),l(x,{type:"success"},{default:t(()=>[...e[6]||(e[6]=[c("待评估",-1)])]),_:1})])]),default:t(()=>[l(k,{model:o.value,rules:V,ref_key:"evaluationFormRef",ref:p,"label-width":"120px"},{default:t(()=>[l(s,{label:"完成质量",prop:"quality"},{default:t(()=>[l(i,{modelValue:o.value.quality,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.quality=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"按时完成",prop:"timeliness"},{default:t(()=>[l(i,{modelValue:o.value.timeliness,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.timeliness=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"沟通能力",prop:"communication"},{default:t(()=>[l(i,{modelValue:o.value.communication,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.communication=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"专业水平",prop:"professionalism"},{default:t(()=>[l(i,{modelValue:o.value.professionalism,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.professionalism=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"总体评价",prop:"overall"},{default:t(()=>[l(i,{modelValue:o.value.overall,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.overall=a),"show-text":""},null,8,["modelValue"])]),_:1}),l(s,{label:"详细评价",prop:"comment"},{default:t(()=>[l(w,{modelValue:o.value.comment,"onUpdate:modelValue":e[5]||(e[5]=a=>o.value.comment=a),type:"textarea",rows:4,placeholder:"请详细描述项目的完成情况和建议"},null,8,["modelValue"])]),_:1}),l(s,null,{default:t(()=>[l(_,{type:"primary",onClick:y,loading:d.value},{default:t(()=>[...e[7]||(e[7]=[c("提交评估",-1)])]),_:1},8,["loading"]),l(_,{onClick:b},{default:t(()=>[...e[8]||(e[8]=[c("取消",-1)])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])])}}},$=U(h,[["__scopeId","data-v-88c31dd9"]]);export{$ as default};
