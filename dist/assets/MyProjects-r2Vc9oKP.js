import{_ as ke,h as De,r as y,c as Z,p as qe,a as g,b as t,j as l,s as u,k as o,l as p,n as B,t as d,f as E,w as P,E as M,F as z,d as C,u as Se,o as b,z as X,a1 as Ue,G as ee,i as L,x as Fe,H as V}from"./index-Bg6MLb3F.js";const Pe={class:"myproject-page"},Me={class:"myproject-container"},ze={class:"myproject-layout"},Ce={class:"sidebar"},Re={class:"sidebar-section"},Te={class:"main-content"},je={key:0},$e={class:"form-section"},Ae={class:"form-section"},Ne={class:"form-section"},Be={class:"form-actions"},Ee={class:"milestone-config-container"},Xe={class:"milestone-list"},Le={class:"milestone-header"},Ie={class:"milestone-header-left"},Oe={class:"milestone-title"},We={class:"milestone-description"},Qe={class:"milestone-config-form"},Ge={class:"deliverables-config"},Je={class:"form-actions"},Ke={class:"confirm-publish-container"},He={class:"confirm-content"},Ye={class:"confirm-section"},Ze={class:"confirm-info-grid"},el={class:"confirm-info-item"},ll={class:"value"},tl={class:"confirm-info-item"},al={class:"value"},ol={class:"confirm-info-item"},sl={class:"value price"},nl={class:"confirm-info-item"},il={class:"value"},rl={class:"confirm-info-item"},dl={class:"value"},ul={class:"confirm-info-item"},ml={class:"value"},pl={class:"confirm-info-item"},vl={class:"value"},cl={class:"confirm-info-item"},bl={class:"value"},fl={class:"confirm-info-item"},gl={class:"value"},_l={class:"confirm-section"},hl={class:"confirm-section-title"},Vl={class:"milestone-preview-list"},wl={class:"milestone-preview-header"},yl={class:"milestone-preview-title"},xl={class:"milestone-preview-date"},kl={class:"milestone-preview-goal"},Dl={class:"milestone-preview-deliverables"},ql={class:"form-actions"},Sl={key:1},Ul={class:"section-header"},Fl={class:"section-title"},Pl={class:"project-list"},Ml=["onClick"],zl={class:"project-card-main"},Cl={class:"project-card-header"},Rl={class:"project-name"},Tl={class:"project-meta-row"},jl={class:"project-content-row"},$l={class:"project-brief"},Al=["onClick"],Nl={key:0,class:"empty-state"},le="http://localhost:8091/api/v1/upload",Bl={__name:"MyProjects",setup(El){const I=Se(),te=De(),w=y("published"),f=y(0);y([]);const q=y([{id:"proj-001",name:"AI智能客服系统开发",status:"ongoing",statusText:"进行中",stageText:"方案提交阶段",remainDays:45,contractor:"张三团队",publisher:"XX科技有限公司",brief:"为平台构建基于NLP的智能客服系统，提高客户服务效率和满意度。"},{id:"proj-002",name:"企业数据分析平台",status:"ongoing",statusText:"进行中",stageText:"项目执行阶段",remainDays:30,contractor:"李四团队",publisher:"XX科技有限公司",brief:"开发企业级数据分析平台，支持多维度数据可视化和智能报表生成。"},{id:"proj-003",name:"移动端电商APP",status:"completed",statusText:"已完成",stageText:"项目结算",remainDays:0,contractor:"王五团队",publisher:"XX科技有限公司",brief:"开发一款功能完善的移动端电商应用，包含商品展示、购物车、支付等功能。"}]),k=y(null),s=y({name:"",category:"",reward:5e3,teamSize:"",duration:60,deadline:"",deliveryDate:"",background:"",objectives:"",deliverableForm:"",requirements:"",techStack:"",performanceMetrics:"",reviewMethod:"",contactName:"",contactPhone:"",taskFiles:[],biddingMode:"team",minTeamSize:2,maxTeamSize:4,requiredSkills:[],bonusSkills:[],experienceRequirement:"none",educationRequirement:"none",gradeRequirement:[],otherRequirements:"",reviewProcess:"mixed",maxApplications:20}),ae={name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:5,max:50,message:"项目名称长度在 5 到 50 个字符",trigger:"blur"}],category:[{required:!0,message:"请选择项目领域",trigger:"change"}],reward:[{required:!0,message:"请输入悬赏金额",trigger:"blur"},{type:"number",min:1e3,message:"悬赏金额最低1000元",trigger:"blur"}],teamSize:[{required:!0,message:"请输入需求人数",trigger:"blur"}],duration:[{required:!0,message:"请输入项目周期",trigger:"blur"},{type:"number",min:7,max:365,message:"项目周期在 7 到 365 天之间",trigger:"blur"}],deadline:[{required:!0,message:"请选择截止时间",trigger:"change"}],background:[{required:!0,message:"请描述项目背景",trigger:"blur"},{min:50,message:"项目背景至少50个字符",trigger:"blur"}],objectives:[{required:!0,message:"请列出项目目标",trigger:"blur"},{min:50,message:"项目目标至少50个字符",trigger:"blur"}],deliverableForm:[{required:!0,message:"请描述成果形式",trigger:"blur"}],requirements:[{required:!0,message:"请描述功能要求",trigger:"blur"},{min:100,message:"功能要求至少100个字符",trigger:"blur"}],techStack:[{required:!0,message:"请列出技术栈要求",trigger:"blur"}],reviewMethod:[{required:!0,message:"请输入评审方式",trigger:"blur"}],contactName:[{required:!0,message:"请输入项目联系人",trigger:"blur"}],contactPhone:[{required:!0,message:"请输入联系电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号码",trigger:"blur"}]},O=()=>{if(s.value.deadline&&s.value.duration){const n=new Date(s.value.deadline),e=new Date(n.getTime()+s.value.duration*24*60*60*1e3);s.value.deliveryDate=e}},oe=n=>n.getTime()<Date.now()-864e5,se=n=>{console.log("预览文件:",n)},ne=(n,e)=>{console.log("删除文件:",n),s.value.taskFiles=e},W=n=>{const e=n.size/1024/1024<50;return e||V.error("上传文件大小不能超过 50MB!"),e},ie=(n,e)=>{V.warning(`最多只能上传 5 个文件，当前已选择 ${n.length+e.length} 个文件`)},re=(n,e)=>{console.log("预览里程碑文件:",n.code,e)},de=(n,e,c)=>{console.log("删除里程碑文件:",n.code,e),n.taskFiles=c},ue=(n,e)=>{V.warning(`最多只能上传 3 个文件，当前已选择 ${n.length+e.length} 个文件`)},R=y([{code:"proposal",title:"方案提交",description:"提交详细的技术方案和项目实施计划，包括系统架构设计、技术选型、进度安排等",required:!0,enabled:!0,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[{name:"技术方案文档",format:"PDF / Word",requirement:"不少于10页，需包含系统架构设计、技术选型依据"},{name:"项目计划甘特图",format:"Excel / Project / PDF",requirement:"详细到周级别的任务分解"}]},{code:"agreement",title:"协议签订",description:"双方签订正式的项目合作协议，明确权利义务、交付标准、验收条件等",required:!0,enabled:!0,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[{name:"项目合作协议",format:"PDF",requirement:"双方签字盖章的正式协议"}]},{code:"midterm",title:"中期答辩",description:"项目进行到中期时，进行阶段性成果展示和答辩，评估项目进展情况",required:!1,enabled:!1,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[{name:"中期报告",format:"PDF / PPT",requirement:"包含已完成工作、遇到的问题、下一步计划"},{name:"演示视频",format:"MP4",requirement:"展示当前系统功能"}]},{code:"result_submit",title:"成果提交",description:"提交项目最终成果，包括源代码、文档、部署包等所有交付物",required:!0,enabled:!0,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[{name:"源代码",format:"ZIP / Git仓库",requirement:"完整的项目源代码，包含README"},{name:"部署文档",format:"PDF / Markdown",requirement:"详细的部署和配置说明"},{name:"用户手册",fmat:"PDF",requirement:"面向最终用户的使用手册"}]},{code:"result_review",title:"成果评审",description:"企业和专家对项目成果进行评审，评估是否达到预期目标和质量标准",required:!1,enabled:!1,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[]},{code:"settlement",title:"项目结算",description:"项目验收通过后，进行费用结算和支付",required:!0,enabled:!0,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[{name:"验收报告",format:"PDF",requirement:"项目验收通过的正式报告"},{name:"发票",format:"PDF / 纸质",requirement:"符合财务要求的正式发票"}]},{code:"publicity",title:"结项公示",description:"项目结项后进行公示，接受监督和申诉",required:!1,enabled:!1,expanded:!1,goal:"",plannedDate:"",taskFiles:[],deliverables:[]}]),T=Z(()=>R.value.filter(n=>n.enabled)),me=Z(()=>T.value.length),pe=n=>{n.enabled||(n.expanded=!1)},ve=n=>{n.deliverables.push({name:"",format:"",requirement:""})},ce=(n,e)=>{n.deliverables.splice(e,1)},be=n=>s.value.deadline?n.getTime()<new Date(s.value.deadline).getTime():n.getTime()<Date.now()-864e5,j=n=>{if(!n)return"未设置";const e=new Date(n);return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`},Q=()=>{f.value<2&&f.value++},G=()=>{f.value>0&&f.value--},fe=async()=>{if(!k.value)return;let n=!1;if(await k.value.validate(c=>{n=c,c||(V.error("请完善项目基本信息"),f.value=0)}),!n)return;const e=R.value.filter(c=>c.enabled);if(e.length===0){V.error("请至少选择一个里程碑"),f.value=1;return}for(const c of e){if(!c.goal){V.error(`请配置"${c.title}"的里程碑目标`),f.value=1;return}if(!c.plannedDate){V.error(`请设置"${c.title}"的计划完成时间`),f.value=1;return}}console.log("提交发布项目:",{basicInfo:s.value,milestones:T.value}),V.success("项目发布成功！"),k.value.resetFields(),f.value=0,w.value="published"},ge=()=>{k.value.resetFields(),f.value=0,w.value="published"};function _e(n){I.push(`/projects/${n.id}`)}function he(n){console.log("管理发布的项目 ->",n.id),I.push(`/enterprise/project/${n.id}/manage`)}function Ve(){console.log("点击发布项目按钮"),w.value="publish"}return qe(()=>{console.log('企业端"我的项目"页面加载'),console.log("当前用户角色:",te.userRole)}),(n,e)=>{const c=p("el-icon"),$=p("el-step"),we=p("el-steps"),v=p("el-input"),r=p("el-form-item"),i=p("el-option"),A=p("el-select"),D=p("el-input-number"),h=p("el-col"),S=p("el-row"),N=p("el-date-picker"),_=p("el-button"),J=p("el-upload"),U=p("el-radio"),ye=p("el-radio-group"),K=p("el-form"),xe=p("el-checkbox"),H=p("el-tag");return b(),g("div",Pe,[t("div",Me,[t("div",ze,[t("aside",Ce,[t("button",{class:"publish-btn",onClick:Ve},[l(c,null,{default:o(()=>[l(X(Ue))]),_:1}),e[24]||(e[24]=u(" 发布项目 ",-1))]),t("div",Re,[e[25]||(e[25]=t("div",{class:"sidebar-title"},"我的项目",-1)),t("button",{class:B(["sidebar-item",{active:w.value==="published"}]),onClick:e[0]||(e[0]=a=>w.value="published")}," 我发布的 ("+d(q.value.length)+") ",3)])]),t("section",Te,[w.value==="publish"?(b(),g("div",je,[e[64]||(e[64]=t("div",{class:"section-header"},[t("h2",{class:"section-title"},"发布项目")],-1)),l(we,{active:f.value,"align-center":"",class:"publish-steps"},{default:o(()=>[l($,{title:"基本信息",description:"填写项目基本信息"}),l($,{title:"里程碑配置",description:"配置项目里程碑"}),l($,{title:"确认发布",description:"确认并提交发布"})]),_:1},8,["active"]),P(l(K,{ref_key:"publishFormRef",ref:k,model:s.value,rules:ae,"label-width":"120px",class:"publish-form"},{default:o(()=>[t("div",$e,[e[29]||(e[29]=t("h3",{class:"form-section-title"},"项目基本信息",-1)),l(r,{label:"项目名称",prop:"name"},{default:o(()=>[l(v,{modelValue:s.value.name,"onUpdate:modelValue":e[1]||(e[1]=a=>s.value.name=a),placeholder:"请输入项目名称",maxlength:"50","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"项目领域",prop:"category"},{default:o(()=>[l(A,{modelValue:s.value.category,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value.category=a),placeholder:"请选择项目领域",style:{width:"100%"}},{default:o(()=>[l(i,{label:"人工智能",value:"人工智能"}),l(i,{label:"大数据",value:"大数据"}),l(i,{label:"云计算",value:"云计算"}),l(i,{label:"物联网",value:"物联网"}),l(i,{label:"区块链",value:"区块链"}),l(i,{label:"移动开发",value:"移动开发"}),l(i,{label:"Web开发",value:"Web开发"}),l(i,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),l(S,{gutter:20},{default:o(()=>[l(h,{span:12},{default:o(()=>[l(r,{label:"悬赏金额",prop:"reward"},{default:o(()=>[l(D,{modelValue:s.value.reward,"onUpdate:modelValue":e[3]||(e[3]=a=>s.value.reward=a),min:1e3,max:1e6,step:1e3,"controls-position":"right",style:{width:"100%"}},null,8,["modelValue"]),e[26]||(e[26]=t("span",{class:"form-tip"},"单位：元，最低1000元",-1))]),_:1})]),_:1}),l(h,{span:12},{default:o(()=>[l(r,{label:"需求人数",prop:"teamSize"},{default:o(()=>[l(v,{modelValue:s.value.teamSize,"onUpdate:modelValue":e[4]||(e[4]=a=>s.value.teamSize=a),placeholder:"例如：2-4人"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{label:"项目周期",prop:"duration"},{default:o(()=>[l(D,{modelValue:s.value.duration,"onUpdate:modelValue":e[5]||(e[5]=a=>s.value.duration=a),min:7,max:365,"controls-position":"right",style:{width:"100%"},onChange:O},null,8,["modelValue"]),e[27]||(e[27]=t("span",{class:"form-tip"},"单位：天，建议7-180天",-1))]),_:1}),l(S,{gutter:20},{default:o(()=>[l(h,{span:12},{default:o(()=>[l(r,{label:"揭榜截止时间",prop:"deadline"},{default:o(()=>[l(N,{modelValue:s.value.deadline,"onUpdate:modelValue":e[6]||(e[6]=a=>s.value.deadline=a),type:"date",placeholder:"选择揭榜截止日期",style:{width:"100%"},"disabled-date":oe,onChange:O},null,8,["modelValue"])]),_:1})]),_:1}),l(h,{span:12},{default:o(()=>[l(r,{label:"预计交付时间",prop:"deliveryDate"},{default:o(()=>[l(N,{modelValue:s.value.deliveryDate,"onUpdate:modelValue":e[7]||(e[7]=a=>s.value.deliveryDate=a),type:"date",placeholder:"自动计算",style:{width:"100%"},disabled:""},null,8,["modelValue"]),e[28]||(e[28]=t("span",{class:"form-tip"},"根据截止时间和项目周期自动计算",-1))]),_:1})]),_:1})]),_:1})]),t("div",Ae,[e[32]||(e[32]=t("h3",{class:"form-section-title"},"项目详情",-1)),l(r,{label:"项目背景",prop:"background"},{default:o(()=>[l(v,{modelValue:s.value.background,"onUpdate:modelValue":e[8]||(e[8]=a=>s.value.background=a),type:"textarea",rows:4,placeholder:"请描述项目的背景和需求来源，例如：随着人工智能技术的发展，智能客服已成为企业提升服务质量的重要工具...",maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"项目目标",prop:"objectives"},{default:o(()=>[l(v,{modelValue:s.value.objectives,"onUpdate:modelValue":e[9]||(e[9]=a=>s.value.objectives=a),type:"textarea",rows:4,placeholder:`请列出项目的主要目标和预期成果，例如：
• 实现7×24小时智能在线客服
• 支持多轮对话和上下文理解
• 集成知识库管理系统`,maxlength:"1000","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"成果形式",prop:"deliverableForm"},{default:o(()=>[l(v,{modelValue:s.value.deliverableForm,"onUpdate:modelValue":e[10]||(e[10]=a=>s.value.deliverableForm=a),type:"textarea",rows:3,placeholder:`请描述最终交付的成果形式，例如：
• 完整的系统源代码
• 系统部署文档
• 用户使用手册
• 项目演示视频`,maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"功能要求",prop:"requirements"},{default:o(()=>[l(v,{modelValue:s.value.requirements,"onUpdate:modelValue":e[11]||(e[11]=a=>s.value.requirements=a),type:"textarea",rows:6,placeholder:"请详细描述项目的功能要求和技术规范，包括用户管理、核心功能、系统设置等模块的详细需求...",maxlength:"2000","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"技术栈要求",prop:"techStack"},{default:o(()=>[l(v,{modelValue:s.value.techStack,"onUpdate:modelValue":e[12]||(e[12]=a=>s.value.techStack=a),type:"textarea",rows:3,placeholder:"请列出项目所需的技术栈，如：Vue3、Spring Boot、MySQL、Redis等...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"性能指标",prop:"performanceMetrics"},{default:o(()=>[l(v,{modelValue:s.value.performanceMetrics,"onUpdate:modelValue":e[13]||(e[13]=a=>s.value.performanceMetrics=a),type:"textarea",rows:3,placeholder:"请描述项目的性能指标要求，如：响应时间、并发用户数、系统可用性等...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"评审方式",prop:"reviewMethod"},{default:o(()=>[l(v,{modelValue:s.value.reviewMethod,"onUpdate:modelValue":e[14]||(e[14]=a=>s.value.reviewMethod=a),placeholder:"请输入评审方式，如：企业评审、专家评审、企业+专家联合评审等",maxlength:"100"},null,8,["modelValue"])]),_:1}),l(S,{gutter:20},{default:o(()=>[l(h,{span:12},{default:o(()=>[l(r,{label:"项目联系人",prop:"contactName"},{default:o(()=>[l(v,{modelValue:s.value.contactName,"onUpdate:modelValue":e[15]||(e[15]=a=>s.value.contactName=a),placeholder:"请输入联系人姓名",maxlength:"50"},null,8,["modelValue"])]),_:1})]),_:1}),l(h,{span:12},{default:o(()=>[l(r,{label:"联系电话",prop:"contactPhone"},{default:o(()=>[l(v,{modelValue:s.value.contactPhone,"onUpdate:modelValue":e[16]||(e[16]=a=>s.value.contactPhone=a),placeholder:"请输入联系电话",maxlength:"20"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(r,{label:"任务文件",prop:"taskFiles"},{default:o(()=>[l(J,{class:"upload-demo",action:le,"on-preview":se,"on-remove":ne,"before-upload":W,"file-list":s.value.taskFiles,limit:5,"on-exceed":ie,multiple:""},{tip:o(()=>[...e[31]||(e[31]=[t("div",{class:"el-upload__tip"}," 支持上传项目相关文档、需求说明等文件，单个文件不超过50MB，最多5个文件 ",-1)])]),default:o(()=>[l(_,{type:"primary",plain:""},{default:o(()=>[l(c,null,{default:o(()=>[l(X(ee))]),_:1}),e[30]||(e[30]=u(" 上传文件 ",-1))]),_:1})]),_:1},8,["file-list"])]),_:1})]),t("div",Ne,[e[39]||(e[39]=t("h3",{class:"form-section-title"},"揭榜要求",-1)),l(r,{label:"团队规模",prop:"teamSizeRange"},{default:o(()=>[l(S,{gutter:20},{default:o(()=>[l(h,{span:11},{default:o(()=>[l(D,{modelValue:s.value.minTeamSize,"onUpdate:modelValue":e[17]||(e[17]=a=>s.value.minTeamSize=a),min:2,max:10,"controls-position":"right",style:{width:"100%"},placeholder:"最少人数"},null,8,["modelValue"])]),_:1}),l(h,{span:2,style:{"text-align":"center","line-height":"32px"}},{default:o(()=>[...e[33]||(e[33]=[u(" 至 ",-1)])]),_:1}),l(h,{span:11},{default:o(()=>[l(D,{modelValue:s.value.maxTeamSize,"onUpdate:modelValue":e[18]||(e[18]=a=>s.value.maxTeamSize=a),min:s.value.minTeamSize||2,max:20,"controls-position":"right",style:{width:"100%"},placeholder:"最多人数"},null,8,["modelValue","min"])]),_:1})]),_:1})]),_:1}),l(r,{label:"必备技能",prop:"requiredSkills"},{default:o(()=>[l(A,{modelValue:s.value.requiredSkills,"onUpdate:modelValue":e[19]||(e[19]=a=>s.value.requiredSkills=a),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"请选择或输入必备技能（支持自定义）",style:{width:"100%"}},{default:o(()=>[l(i,{label:"Vue.js",value:"Vue.js"}),l(i,{label:"React",value:"React"}),l(i,{label:"Angular",value:"Angular"}),l(i,{label:"Spring Boot",value:"Spring Boot"}),l(i,{label:"Node.js",value:"Node.js"}),l(i,{label:"Python",value:"Python"}),l(i,{label:"Java",value:"Java"}),l(i,{label:"MySQL",value:"MySQL"}),l(i,{label:"Redis",value:"Redis"}),l(i,{label:"MongoDB",value:"MongoDB"}),l(i,{label:"Docker",value:"Docker"}),l(i,{label:"Kubernetes",value:"Kubernetes"}),l(i,{label:"微信小程序",value:"微信小程序"}),l(i,{label:"Android",value:"Android"}),l(i,{label:"iOS",value:"iOS"}),l(i,{label:"人工智能",value:"人工智能"}),l(i,{label:"机器学习",value:"机器学习"}),l(i,{label:"数据分析",value:"数据分析"})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"加分技能",prop:"bonusSkills"},{default:o(()=>[l(A,{modelValue:s.value.bonusSkills,"onUpdate:modelValue":e[20]||(e[20]=a=>s.value.bonusSkills=a),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"请选择或输入加分技能（可选）",style:{width:"100%"}},{default:o(()=>[l(i,{label:"UI/UX设计",value:"UI/UX设计"}),l(i,{label:"软件测试",value:"软件测试"}),l(i,{label:"项目管理",value:"项目管理"}),l(i,{label:"敏捷开发",value:"敏捷开发"}),l(i,{label:"DevOps",value:"DevOps"}),l(i,{label:"云计算",value:"云计算"}),l(i,{label:"大数据",value:"大数据"}),l(i,{label:"区块链",value:"区块链"}),l(i,{label:"网络安全",value:"网络安全"}),l(i,{label:"英语能力",value:"英语能力"})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"经验要求",prop:"experienceRequirement"},{default:o(()=>[l(ye,{modelValue:s.value.experienceRequirement,"onUpdate:modelValue":e[21]||(e[21]=a=>s.value.experienceRequirement=a)},{default:o(()=>[l(U,{value:"none"},{default:o(()=>[...e[34]||(e[34]=[u("无经验要求",-1)])]),_:1}),l(U,{value:"basic"},{default:o(()=>[...e[35]||(e[35]=[u("有基础项目经验",-1)])]),_:1}),l(U,{value:"intermediate"},{default:o(()=>[...e[36]||(e[36]=[u("有中级项目经验（1-2个项目）",-1)])]),_:1}),l(U,{value:"advanced"},{default:o(()=>[...e[37]||(e[37]=[u("有高级项目经验（3个以上项目）",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"其他要求",prop:"otherRequirements"},{default:o(()=>[l(v,{modelValue:s.value.otherRequirements,"onUpdate:modelValue":e[22]||(e[22]=a=>s.value.otherRequirements=a),type:"textarea",rows:4,placeholder:"请描述其他特殊要求，如：需要有开源项目经验、需要通过特定认证、工作时间要求等...",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(r,{label:"最大申请数",prop:"maxApplications"},{default:o(()=>[l(D,{modelValue:s.value.maxApplications,"onUpdate:modelValue":e[23]||(e[23]=a=>s.value.maxApplications=a),min:1,max:100,"controls-position":"right",style:{width:"200px"}},null,8,["modelValue"]),e[38]||(e[38]=t("span",{class:"form-tip",style:{"margin-left":"10px"}},"限制最多接收的揭榜申请数量，建议10-30个",-1))]),_:1})]),t("div",Be,[l(_,{size:"large",onClick:ge},{default:o(()=>[...e[40]||(e[40]=[u(" 取消 ",-1)])]),_:1}),l(_,{type:"primary",size:"large",onClick:Q},{default:o(()=>[...e[41]||(e[41]=[u(" 下一步 ",-1)])]),_:1})])]),_:1},8,["model"]),[[M,f.value===0]]),P(t("div",Ee,[e[50]||(e[50]=t("div",{class:"milestone-config-header"},[t("h3",null,"项目里程碑配置"),t("p",{class:"tip-text"},'请根据项目实际情况选择和配置里程碑节点。标记为"必选"的里程碑无法取消。')],-1)),t("div",Xe,[(b(!0),g(z,null,C(R.value,(a,Y)=>(b(),g("div",{key:a.code,class:B(["milestone-item",{disabled:!a.enabled}])},[t("div",Le,[t("div",Ie,[l(xe,{modelValue:a.enabled,"onUpdate:modelValue":m=>a.enabled=m,disabled:a.required,onChange:m=>pe(a)},null,8,["modelValue","onUpdate:modelValue","disabled","onChange"]),t("h4",Oe,[u(d(a.title)+" ",1),a.required?(b(),L(H,{key:0,type:"danger",size:"small"},{default:o(()=>[...e[42]||(e[42]=[u("必选",-1)])]),_:1})):(b(),L(H,{key:1,type:"info",size:"small"},{default:o(()=>[...e[43]||(e[43]=[u("可选",-1)])]),_:1}))])]),a.enabled?(b(),L(_,{key:0,icon:a.expanded?"ArrowUp":"ArrowDown",text:"",onClick:m=>a.expanded=!a.expanded},{default:o(()=>[u(d(a.expanded?"收起":"展开配置"),1)]),_:2},1032,["icon","onClick"])):E("",!0)]),t("div",We,d(a.description),1),P(t("div",Qe,[l(K,{model:a,"label-width":"120px"},{default:o(()=>[l(r,{label:"里程碑目标"},{default:o(()=>[l(v,{modelValue:a.goal,"onUpdate:modelValue":m=>a.goal=m,type:"textarea",rows:3,placeholder:"请描述该里程碑的目标和要求...",maxlength:"500","show-word-limit":""},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(r,{label:"计划完成时间"},{default:o(()=>[l(N,{modelValue:a.plannedDate,"onUpdate:modelValue":m=>a.plannedDate=m,type:"date",placeholder:"选择计划完成日期",style:{width:"100%"},"disabled-date":be},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),l(r,{label:"交付物要求"},{default:o(()=>[t("div",Ge,[(b(!0),g(z,null,C(a.deliverables,(m,F)=>(b(),g("div",{key:F,class:"deliverable-item-config"},[l(v,{modelValue:m.name,"onUpdate:modelValue":x=>m.name=x,placeholder:"交付物名称，如：技术方案文档",style:{"margin-bottom":"8px"}},null,8,["modelValue","onUpdate:modelValue"]),l(v,{modelValue:m.format,"onUpdate:modelValue":x=>m.format=x,placeholder:"文件格式，如：PDF / Word",style:{"margin-bottom":"8px"}},null,8,["modelValue","onUpdate:modelValue"]),l(v,{modelValue:m.requirement,"onUpdate:modelValue":x=>m.requirement=x,type:"textarea",rows:2,placeholder:"具体要求，如：不少于10页，需包含系统架构设计...",style:{"margin-bottom":"8px"}},null,8,["modelValue","onUpdate:modelValue"]),l(_,{type:"danger",text:"",size:"small",onClick:x=>ce(a,F)},{default:o(()=>[...e[44]||(e[44]=[u(" 删除交付物 ",-1)])]),_:1},8,["onClick"])]))),128)),l(_,{type:"primary",plain:"",size:"small",onClick:m=>ve(a)},{default:o(()=>[...e[45]||(e[45]=[u(" + 添加交付物 ",-1)])]),_:1},8,["onClick"])])]),_:2},1024),l(r,{label:"任务文件"},{default:o(()=>[l(J,{class:"milestone-upload",action:le,"on-preview":m=>re(a,m),"on-remove":(m,F)=>de(a,m,F),"before-upload":W,"file-list":a.taskFiles,limit:3,"on-exceed":ue,multiple:""},{tip:o(()=>[...e[47]||(e[47]=[t("div",{class:"el-upload__tip"}," 上传该里程碑相关的任务文件供承接方参考，单个文件不超过50MB，最多3个文件 ",-1)])]),default:o(()=>[l(_,{type:"primary",plain:"",size:"small"},{default:o(()=>[l(c,null,{default:o(()=>[l(X(ee))]),_:1}),e[46]||(e[46]=u(" 上传文件 ",-1))]),_:1})]),_:1},8,["on-preview","on-remove","file-list"])]),_:2},1024)]),_:2},1032,["model"])],512),[[M,a.enabled&&a.expanded]])],2))),128))]),t("div",Je,[l(_,{size:"large",onClick:G},{default:o(()=>[...e[48]||(e[48]=[u(" 上一步 ",-1)])]),_:1}),l(_,{type:"primary",size:"large",onClick:Q},{default:o(()=>[...e[49]||(e[49]=[u(" 下一步 ",-1)])]),_:1})])],512),[[M,f.value===1]]),P(t("div",Ke,[e[63]||(e[63]=t("div",{class:"confirm-header"},[t("h3",null,"确认发布信息"),t("p",{class:"tip-text"},"请仔细核对以下信息，确认无误后提交发布。")],-1)),t("div",He,[t("div",Ye,[e[60]||(e[60]=t("h4",{class:"confirm-section-title"},"项目基本信息",-1)),t("div",Ze,[t("div",el,[e[51]||(e[51]=t("span",{class:"label"},"项目名称：",-1)),t("span",ll,d(s.value.name),1)]),t("div",tl,[e[52]||(e[52]=t("span",{class:"label"},"项目领域：",-1)),t("span",al,d(s.value.category),1)]),t("div",ol,[e[53]||(e[53]=t("span",{class:"label"},"悬赏金额：",-1)),t("span",sl,"￥"+d(s.value.reward),1)]),t("div",nl,[e[54]||(e[54]=t("span",{class:"label"},"需求人数：",-1)),t("span",il,d(s.value.teamSize),1)]),t("div",rl,[e[55]||(e[55]=t("span",{class:"label"},"项目周期：",-1)),t("span",dl,d(s.value.duration)+"天",1)]),t("div",ul,[e[56]||(e[56]=t("span",{class:"label"},"揭榜截止时间：",-1)),t("span",ml,d(j(s.value.deadline)),1)]),t("div",pl,[e[57]||(e[57]=t("span",{class:"label"},"预计交付时间：",-1)),t("span",vl,d(j(s.value.deliveryDate)),1)]),t("div",cl,[e[58]||(e[58]=t("span",{class:"label"},"项目联系人：",-1)),t("span",bl,d(s.value.contactName),1)]),t("div",fl,[e[59]||(e[59]=t("span",{class:"label"},"联系电话：",-1)),t("span",gl,d(s.value.contactPhone),1)])])]),t("div",_l,[t("h4",hl,"已选择的里程碑（"+d(me.value)+"个）",1),t("div",Vl,[(b(!0),g(z,null,C(T.value,a=>(b(),g("div",{key:a.code,class:"milestone-preview-item"},[t("div",wl,[t("span",yl,d(a.title),1),t("span",xl,d(j(a.plannedDate)),1)]),t("div",kl,d(a.goal||"未设置目标"),1),t("div",Dl," 交付物："+d(a.deliverables.length)+"个 ",1)]))),128))])])]),t("div",ql,[l(_,{size:"large",onClick:G},{default:o(()=>[...e[61]||(e[61]=[u(" 上一步 ",-1)])]),_:1}),l(_,{type:"primary",size:"large",onClick:fe},{default:o(()=>[...e[62]||(e[62]=[u(" 提交发布 ",-1)])]),_:1})])],512),[[M,f.value===2]])])):w.value==="published"?(b(),g("div",Sl,[t("div",Ul,[t("h2",Fl," 我发布的项目 ("+d(q.value.length)+") ",1)]),t("div",Pl,[(b(!0),g(z,null,C(q.value,a=>(b(),g("article",{key:a.id,class:"project-card",onClick:Y=>_e(a)},[t("div",zl,[t("div",Cl,[t("h3",Rl,d(a.name),1),t("span",{class:B(["project-tag",a.status])},d(a.statusText),3)]),t("div",Tl,[t("span",null,"状态："+d(a.stageText),1),t("span",null,"剩余时间："+d(a.remainDays)+"天",1),t("span",null,"承接方："+d(a.contractor||"待确定"),1)]),t("div",jl,[t("p",$l,d(a.brief),1),t("button",{type:"button",class:"ghost-chip manage-btn",onClick:Fe(Y=>he(a),["stop","prevent"])}," 管理项目 ",8,Al)])])],8,Ml))),128)),q.value.length===0?(b(),g("div",Nl," 暂无发布的项目 ")):E("",!0)])])):E("",!0)])])])])}}},Ll=ke(Bl,[["__scopeId","data-v-844bd479"]]);export{Ll as default};
